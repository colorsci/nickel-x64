<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<assembly xmlns="urn:schemas-microsoft-com:asm.v3" manifestVersion="1.0" copyright="Copyright (c) Microsoft Corporation. All Rights Reserved." xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <assemblyIdentity name="Microsoft-Windows-PushNotifications-Platform-Library" version="10.0.22621.1" processorArchitecture="amd64" language="neutral" buildType="release" publicKeyToken="31bf3856ad364e35" versionScope="nonSxS" />
  <dependency discoverable="no" resourceType="Resources">
    <dependentAssembly dependencyType="prerequisite">
      <assemblyIdentity name="Microsoft-Windows-PushNotifications-Platform-Library.Resources" version="10.0.22621.1" processorArchitecture="amd64" language="*" buildType="release" publicKeyToken="31bf3856ad364e35" />
    </dependentAssembly>
  </dependency>
  <file name="wpncore.dll" destinationPath="$(runtime.system32)\" sourceName="wpncore.dll" importPath="$(build.nttree)\" sourcePath=".\">
    <securityDescriptor name="WRP_FILE_DEFAULT_SDDL" />
    <asmv2:hash xmlns:asmv2="urn:schemas-microsoft-com:asm.v2" xmlns:dsig="http://www.w3.org/2000/09/xmldsig#">
      <dsig:Transforms>
        <dsig:Transform Algorithm="urn:schemas-microsoft-com:HashTransforms.Identity" />
      </dsig:Transforms>
      <dsig:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha256" />
      <dsig:DigestValue>wAiLhW7Tzh0WCaGVwNu5dklQCilv088NHLnA3fqtF5Y=</dsig:DigestValue>
    </asmv2:hash>
  </file>
  <registryKeys>
    <registryKey keyName="HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\PushNotifications\Applications">
      <securityDescriptor name="WRP_REGKEY_DEFAULT_SDDL" />
    </registryKey>
    <registryKey keyName="HKEY_CLASSES_ROOT\CLSID\{0c9281f9-6da1-4006-8729-de6e6b61581c}">
      <registryValue name="" valueType="REG_SZ" value="Windows Push Notification Platform" />
      <registryValue name="ActivateOnHostFlags" valueType="REG_DWORD" value="0x00000001" />
      <registryValue name="AppID" valueType="REG_SZ" value="{362cc086-4d81-4824-bbb5-666d34b3197d}" />
      <securityDescriptor name="WRP_REGKEY_DEFAULT_SDDL" />
    </registryKey>
    <registryKey keyName="HKEY_CLASSES_ROOT\AppID\{362cc086-4d81-4824-bbb5-666d34b3197d}">
      <registryValue name="" valueType="REG_SZ" value="Windows Push Notification Platform" />
      <registryValue name="RunAs" valueType="REG_SZ" value="Interactive User" />
      <registryValue name="AppIDFlags" valueType="REG_DWORD" value="0x00000208" />
      <registryValue name="LaunchPermission" valueType="REG_BINARY" value="010014800401000014010000140000003000000002001c000100000011001400040000000101000000000010001000000200d40007000000000018001f00000001020000000000052000000020020000000014007f0000000101000000000005040000000000180061000000010200000000000f0200000001000000000014001f000000010100000000000512000000000014001f000000010100000000000513000000000028001f00000001060000000000055000000098c2770e0abfb910570f4484a400fcbda333ad84000038000b000000010a00000000000f0300000000040000d281cbbcd0813c251e320035b7782913493d972aeece27d697ec23306d4a51610102000000000005200000002002000001020000000000052000000020020000" />
      <securityDescriptor name="WRP_REGKEY_DEFAULT_SDDL" />
    </registryKey>
    <registryKey keyName="HKEY_CLASSES_ROOT\CLSID\{4655840e-ab1a-49d0-a4c4-261fa1c20e86}">
      <registryValue name="" valueType="REG_SZ" value="Windows Push Notification Platform Class Factory" />
      <securityDescriptor name="WRP_REGKEY_DEFAULT_SDDL" />
    </registryKey>
    <registryKey keyName="HKEY_CLASSES_ROOT\CLSID\{4655840e-ab1a-49d0-a4c4-261fa1c20e86}\InProcServer32">
      <registryValue name="" valueType="REG_EXPAND_SZ" value="%SystemRoot%\System32\wpncore.dll" />
      <registryValue name="ThreadingModel" valueType="REG_SZ" value="Free" />
    </registryKey>
    <registryKey keyName="HKEY_CLASSES_ROOT\CLSID\{8C0A1AC2-C6B3-447D-B971-35204B263972}">
      <registryValue name="" valueType="REG_SZ" value="Windows Push Notification Download Task Manager" />
      <securityDescriptor name="WRP_REGKEY_DEFAULT_SDDL" />
    </registryKey>
    <registryKey keyName="HKEY_CLASSES_ROOT\CLSID\{8C0A1AC2-C6B3-447D-B971-35204B263972}\InProcServer32">
      <registryValue name="" valueType="REG_EXPAND_SZ" value="%SystemRoot%\System32\wpncore.dll" />
      <registryValue name="ThreadingModel" valueType="REG_SZ" value="Both" />
    </registryKey>
    <registryKey keyName="HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\WPN">
      <securityDescriptor name="WPN_REGKEY_ADMIN_SDDL" />
    </registryKey>
    <registryKey keyName="HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\PushNotifications">
      <registryValue name="EnableMultiUser" valueType="REG_DWORD" value="0x00000000" />
      <securityDescriptor name="WPN_REGKEY_ADMIN_SDDL" />
    </registryKey>
    <registryKey keyName="HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\PushNotifications" />
    <registryKey keyName="HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\BackgroundModel\EventSettings\300">
      <registryValue name="ResourceSetType" valueType="REG_SZ" value="PushTriggerTask" />
      <registryValue name="RescheduleOnCancel" valueType="REG_DWORD" value="0x00000000" />
      <registryValue name="RescheduleOnAbort" valueType="REG_DWORD" value="0x00000000" />
      <registryValue name="BatterySaverOverride" valueType="REG_DWORD" value="0x00000001" />
      <registryValue name="TimeCritical" valueType="REG_DWORD" value="0x00000001" />
      <registryValue name="SupportedActivationTypesMask" valueType="REG_DWORD" value="0x00000007" />
      <registryValue name="BiTriggerSettingFlags" valueType="REG_QWORD" value="0200000000000000" />
    </registryKey>
    <registryKey keyName="HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\BackgroundModel\EventSettings\301">
      <registryValue name="ResourceSetType" valueType="REG_SZ" value="DefaultModernBackgroundTask" />
      <registryValue name="RescheduleOnCancel" valueType="REG_DWORD" value="0x00000001" />
      <registryValue name="RescheduleOnAbort" valueType="REG_DWORD" value="0x00000001" />
      <registryValue name="SupportedActivationTypesMask" valueType="REG_DWORD" value="0x00000007" />
    </registryKey>
    <registryKey keyName="HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\BackgroundModel\EventSettings\302">
      <registryValue name="ResourceSetType" valueType="REG_SZ" value="ForegroundTaskCompletion" />
      <registryValue name="RescheduleOnCancel" valueType="REG_DWORD" value="0x00000001" />
      <registryValue name="RescheduleOnAbort" valueType="REG_DWORD" value="0x00000001" />
      <registryValue name="TimeCritical" valueType="REG_DWORD" value="0x00000001" />
      <registryValue name="BatterySaverOverride" valueType="REG_DWORD" value="0x00000001" />
      <registryValue name="SupportedActivationTypesMask" valueType="REG_DWORD" value="0x00000007" />
    </registryKey>
    <registryKey keyName="HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\PushNotifications\Applications\Windows.SystemToast.DisplaySettings">
      <securityDescriptor name="WRP_REGKEY_DEFAULT_SDDL" />
      <registryValue name="Capabilities" valueType="REG_DWORD" value="0x000024FF" />
      <registryValue name="ApplicationType" valueType="REG_DWORD" value="0x40000000" />
      <registryValue name="PackageMoniker" valueType="REG_SZ" value="System" />
    </registryKey>
    <registryKey keyName="HKEY_CLASSES_ROOT\AppUserModelId\Windows.SystemToast.DisplaySettings">
      <registryValue name="DisplayName" valueType="REG_EXPAND_SZ" value="@%SystemRoot%\system32\wpnuserservice.dll,-50" />
      <registryValue name="IconUri" valueType="REG_EXPAND_SZ" value="%SystemRoot%\ImmersiveControlPanel\images\logo.png" />
      <registryValue name="IconBackgroundColor" valueType="REG_SZ" value="0" />
      <registryValue name="CustomActivator" valueType="REG_SZ" value="{90AE59CE-C67A-492B-A4DE-78A6EA95AF68}" />
      <securityDescriptor name="WRP_REGKEY_DEFAULT_SDDL" />
    </registryKey>
    <registryKey keyName="HKEY_CLASSES_ROOT\CLSID\{90AE59CE-C67A-492B-A4DE-78A6EA95AF68}">
      <securityDescriptor name="WRP_REGKEY_DEFAULT_SDDL" />
    </registryKey>
    <registryKey keyName="HKEY_CLASSES_ROOT\CLSID\{90AE59CE-C67A-492B-A4DE-78A6EA95AF68}\InprocServer32">
      <registryValue name="ThreadingModel" valueType="REG_SZ" value="Both" />
      <registryValue name="" valueType="REG_EXPAND_SZ" value="%systemroot%\system32\wpnuserservice.dll" />
      <securityDescriptor name="WRP_REGKEY_DEFAULT_SDDL" />
    </registryKey>
  </registryKeys>
  <Transforms Id="WpnData" SettingsVersion="3">
    <TransformInvoke FromSettingsVersion="Win8-TH1" Plugin="WpnDataTransformer">
      <Param Name="MMFLocation" Value="$(runtime.userProfile)\AppData\Local\Microsoft\Windows\Notifications\appdb.dat" />
      <Param Name="RegKey" Value="HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\PushNotifications" />
      <Param Name="RegValue" Value="appdb" />
    </TransformInvoke>
    <TransformInvoke FromSettingsVersion="2" Plugin="WpnDataTransformer">
      <Param Name="MMFLocation" Value="$(runtime.userProfile)\AppData\Local\Microsoft\Windows\Notifications\appdb.dat" />
      <Param Name="RegKey" Value="HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\PushNotifications" />
      <Param Name="RegValue" Value="appdb" />
    </TransformInvoke>
  </Transforms>
  <migration scope="Upgrade" settingsVersion="0">
    <migXml xmlns="">
      <rules context="User">
        <include>
          <objectSet>
            <pattern type="Registry">HKCU\Software\Microsoft\Windows\CurrentVersion\PushNotifications\* [*]</pattern>
            <pattern type="File">%CSIDL_LOCAL_APPDATA%\Microsoft\Windows\Notifications\* [*]</pattern>
            <pattern type="File">%CSIDL_LOCAL_APPDATA%\Microsoft\Windows\Notifications\wpnidm\* [*]</pattern>
          </objectSet>
        </include>
        <merge script="MigXmlHelper.SourcePriority()">
          <objectSet>
            <pattern type="Registry">HKCU\Software\Microsoft\Windows\CurrentVersion\PushNotifications\* [*]</pattern>
            <pattern type="File">%CSIDL_LOCAL_APPDATA%\Microsoft\Windows\Notifications\* [*]</pattern>
            <pattern type="File">%CSIDL_LOCAL_APPDATA%\Microsoft\Windows\Notifications\wpnidm\* [*]</pattern>
          </objectSet>
        </merge>
      </rules>
      <rules context="System">
        <include>
          <objectSet>
            <pattern type="Registry">HKU\S-1-5-18\Software\Microsoft\Windows\CurrentVersion\PushNotifications\* [*]</pattern>
            <pattern type="File">%windir%\system32\config\systemprofile\appdata\local\Microsoft\Windows\Notifications\* [*]</pattern>
            <pattern type="File">%windir%\system32\config\systemprofile\appdata\local\Microsoft\Windows\Notifications\wpnidm\* [*]</pattern>
          </objectSet>
        </include>
        <merge script="MigXmlHelper.SourcePriority()">
          <objectSet>
            <pattern type="Registry">HKU\S-1-5-18\Software\Microsoft\Windows\CurrentVersion\PushNotifications\* [*]</pattern>
            <pattern type="File">%windir%\system32\config\systemprofile\appdata\local\Microsoft\Windows\Notifications\* [*]</pattern>
            <pattern type="File">%windir%\system32\config\systemprofile\appdata\local\Microsoft\Windows\Notifications\wpnidm\* [*]</pattern>
          </objectSet>
        </merge>
      </rules>
      <transforms name="WpnData" />
    </migXml>
    <supportedComponents>
      <supportedComponent>
        <assemblyIdentity name="_" version="1.0.0.0" />
        <supportedComponentIdentity buildType="release" language="neutral" name="Microsoft-Windows-PushNotifications-Platform-Library" processorArchitecture="amd64" publicKeyToken="31bf3856ad364e35" settingsVersionRange="0" versionScope="nonSxS" xmlns="urn:schemas-microsoft-com:asm.v3" />
      </supportedComponent>
    </supportedComponents>
    <uninstall>
      <migXml xmlns="">
        <rules context="User">
          <destinationCleanup>
            <objectSet>
              <pattern type="File">%CSIDL_LOCAL_APPDATA%\Microsoft\Windows\Notifications\*[*]</pattern>
            </objectSet>
          </destinationCleanup>
          <include>
            <objectSet>
              <pattern type="File">%CSIDL_LOCAL_APPDATA%\Microsoft\Windows\Notifications[wpndatabase*]</pattern>
            </objectSet>
          </include>
        </rules>
        <rules context="System">
          <destinationCleanup>
            <objectSet>
              <pattern type="File">%windir%\system32\config\systemprofile\appdata\local\Microsoft\Windows\Notifications\*[*]</pattern>
            </objectSet>
          </destinationCleanup>
          <include>
            <objectSet>
              <pattern type="File">%windir%\system32\config\systemprofile\appdata\local\Microsoft\Windows\Notifications[wpndatabase*]</pattern>
            </objectSet>
          </include>
        </rules>
      </migXml>
    </uninstall>
  </migration>
  <asmv3:configuration xmlns:asmv3="urn:schemas-microsoft-com:asm.v3" xmlns:wcm="http://schemas.microsoft.com/WMIConfig/2002/State">
    <asmv3:configurationSchema>
      <xsd:schema xmlns="Microsoft-Windows-PushNotifications-Platform-Library" targetNamespace="Microsoft-Windows-PushNotifications-Platform-Library" />
    </asmv3:configurationSchema>
  </asmv3:configuration>
  <trustInfo>
    <security>
      <accessControl>
        <securityDescriptorDefinitions>
          <securityDescriptorDefinition name="WRP_REGKEY_DEFAULT_SDDL" sddl="O:S-1-5-80-956008885-3418522649-1831038044-1853292631-2271478464G:S-1-5-80-956008885-3418522649-1831038044-1853292631-2271478464D:P(A;CI;GA;;;S-1-5-80-956008885-3418522649-1831038044-1853292631-2271478464)(A;CI;GR;;;SY)(A;CI;GR;;;BA)(A;CI;GR;;;BU)(A;CI;GR;;;S-1-15-2-1)(A;CI;GR;;;S-1-15-3-1024-1065365936-1281604716-3511738428-1654721687-432734479-3232135806-4053264122-3456934681)" operationHint="replace" />
          <securityDescriptorDefinition name="WPN_REGKEY_ADMIN_SDDL" sddl="D:(A;OICI;FA;;;SY)(A;OICI;FA;;;BA)(A;OICI;FR;;;WD)" operationHint="replace" />
          <securityDescriptorDefinition name="WRP_DIRECTORY_DEFAULT_SDDL" sddl="O:S-1-5-80-956008885-3418522649-1831038044-1853292631-2271478464G:S-1-5-80-956008885-3418522649-1831038044-1853292631-2271478464D:P(A;CIOI;GA;;;S-1-5-80-956008885-3418522649-1831038044-1853292631-2271478464)(A;CIOI;GRGX;;;SY)(A;CIOI;GRGX;;;BA)(A;CIOI;GRGX;;;BU)(A;CIOI;GRGX;;;S-1-15-2-1)(A;CIOI;GRGX;;;S-1-15-2-2)S:(AU;FASA;SDWDWOFW;;;WD)" operationHint="replace" />
          <securityDescriptorDefinition name="WRP_FILE_DEFAULT_SDDL" sddl="O:S-1-5-80-956008885-3418522649-1831038044-1853292631-2271478464G:S-1-5-80-956008885-3418522649-1831038044-1853292631-2271478464D:P(A;;FA;;;S-1-5-80-956008885-3418522649-1831038044-1853292631-2271478464)(A;;GRGX;;;BA)(A;;GRGX;;;SY)(A;;GRGX;;;BU)(A;;GRGX;;;S-1-15-2-1)(A;;GRGX;;;S-1-15-2-2)S:(AU;FASA;0x000D0116;;;WD)" operationHint="replace" description="Default SDDL for Windows Resource Protected file" />
        </securityDescriptorDefinitions>
      </accessControl>
    </security>
  </trustInfo>
</assembly>