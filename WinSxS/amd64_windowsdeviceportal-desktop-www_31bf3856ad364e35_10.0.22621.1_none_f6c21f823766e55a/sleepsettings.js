function StandbyTimeoutControl(n){function i(n){for(var r="",i,t=0;t<n.length;t++)i=n[t],r+='<option value="'+i.value+'">'+i.label+"<\/option>";return r}function u(){var n=$("#systemACStandbyTimeoutControl").val(),t=$("#systemDCStandbyTimeoutControl").val();(new WebbRest).setPowerCfg("SCHEME_CURRENT","SUB_SLEEP","STANDBYIDLE",n,t).then(function(){return(new WebbRest).setPowerCfg("SCHEME_CURRENT","SUB_VIDEO","VIDEOIDLE",n,t)}).then(function(){return(new WebbRest).setPowerActiveScheme("SCHEME_CURRENT")}).then(f)}function f(){(new WebbRest).getPowerCfg("SCHEME_CURRENT").done(function(n){o(n.SUB_SLEEP.STANDBYIDLE.ValueAC,n.SUB_SLEEP.STANDBYIDLE.ValueDC)})}function o(n,r){for(var h,o=!1,s=!1,f,e,u=0;u<t.presetTimeouts.length;u++)if(t.presetTimeouts[u].value===n&&($("#systemACStandbyTimeoutControl").prop("value",n),o=!0),t.presetTimeouts[u].value===r&&($("#systemDCStandbyTimeoutControl").prop("value",r),s=!0),o&&s)break;if(f=t.presetTimeouts.slice(0),e=t.presetTimeouts.slice(0),!o){if(n===0)u=f.length;else for(h=0,u=0;n<f[u].value&&u<f[u].length;)u++;f.splice(u,0,{value:n,label:n===0?"Never":Math.round(n/60).toString()+" minutes"})}if(!s){if(r===0)u=e.length;else for(h=0,u=0;r<e[u].value&&u<f[u].length;)u++;e.splice(u,0,{value:r,label:r===0?"Never":Math.round(r/60).toString()+" minutes"})}$("#systemDCStandbyTimeoutControl").html(i(e)).prop("value",r);$("#systemACStandbyTimeoutControl").html(i(f)).prop("value",n)}var t=this,r;t.presetTimeouts=[{value:120,label:"2 minutes"},{value:180,label:"3 minutes"},{value:300,label:"5 minutes"},{value:900,label:"15 minutes"},{value:1800,label:"30 minutes"},{value:3600,label:"60 minutes"},{value:0,label:"Never"}];window.DeviceSettings&&window.DeviceSettings.allowDisableTimeout===!0&&t.presetTimeouts.push({value:0,label:"Never"});var e='<div class="indentSection"><label for="systemDCStandbyTimeoutControl">When on battery, go to sleep after<\/label><br><select id="systemDCStandbyTimeoutControl" class="inputField">'+i(t.presetTimeouts)+'<\/select><br><br><label for="systemACStandbyTimeoutControl">When plugged in, go to sleep after<\/label><br><select id="systemACStandbyTimeoutControl" class="inputField">'+i(t.presetTimeouts)+"<\/select><\/div>";$("#"+n).html(e);$("#systemDCStandbyTimeoutControl").change(u);$("#systemACStandbyTimeoutControl").change(u);r=new WebbRest;r.getBatteryState().done(function(n){$("#systemDCStandbyTimeoutControl").prop("disabled",n.BatteryPresent===0)});f()}var WebbRest;$(function(){StandbyTimeoutControl("sleepSettingsSection")});
/*!
//@ sourceURL=tools/SleepSettings/SleepSettings.js
*/
