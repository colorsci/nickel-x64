var USB4View=USB4View?USB4View:{};USB4View.AdapterGroupHeight=130;USB4View.AdapterGroupWidth=180;USB4View.AdapterHorizontalOuterPad=10;USB4View.AdaptersInnerPad=10;USB4View.AdaptersVerticalOuterPad=15;USB4View.MaxDPInOutAdaptersPerDeviceRouter=4;USB4View.MaxPCIeDownAdaptersPerDeviceRouter=4;USB4View.MaxUSB3DownAdaptersPerDeviceRouter=4;USB4View.KonvaAdapterGroup=(class{constructor(n,t){this._container=t;this._protocolAdapters=n;this._konvaProtocolAdapters={};this.konvaObject=null;this._adapterGroup=new Konva.Group;this.boundingRect=new Konva.Rect({width:USB4View.AdapterGroupWidth,height:USB4View.AdapterGroupHeight,stroke:"black",fill:"#2b5797",strokeWidth:USB4View.STROKEWIDTH});this._adapterGroup.add(this.boundingRect);this._addAdapters()}setPosition(n,t){this.x=n;this.y=t;this._adapterGroup.setAttrs({x:n,y:t});this.konvaObject==null&&(this.konvaObject=this._adapterGroup,this._container.add(this.konvaObject))}containsPCIeUSB3DownOrDPAdapter(n){return n in this._konvaProtocolAdapters}toggleAdapterHighlight(n){this.containsPCIeUSB3DownOrDPAdapter(n.adapterNumber)&&this._konvaProtocolAdapters[n.adapterNumber].toggleHighlight()}addAdapter(n){if(n&&!n.isDrawn()){const t=Object.keys(this._konvaProtocolAdapters).length,i=t%2,r=Math.floor(t/2),u=USB4View.AdapterHorizontalOuterPad+i*(USB4View.KonvaProtocolAdapter.baseWidth+USB4View.AdaptersInnerPad),f=USB4View.AdaptersVerticalOuterPad+r*(USB4View.KonvaProtocolAdapter.baseHeight+USB4View.AdaptersInnerPad);n.setPosition(u,f,this._adapterGroup);this._konvaProtocolAdapters[n.adapter.adapterNumber]=n}}removeAdapter(n){if(!(n in this._konvaProtocolAdapters))return null;let t=this._konvaProtocolAdapters[n];return t.remove(),delete this._konvaProtocolAdapters[n],Object.values(this._konvaProtocolAdapters).forEach((n,t)=>{const i=t%2,r=Math.floor(t/2),u=USB4View.AdapterHorizontalOuterPad+i*(USB4View.KonvaProtocolAdapter.baseWidth+USB4View.AdaptersInnerPad),f=USB4View.AdaptersVerticalOuterPad+r*(USB4View.KonvaProtocolAdapter.baseHeight+USB4View.AdaptersInnerPad);n.setPosition(u,f);this._adapterGroup.add(n.konvaObject)}),t}_addAdapters(){this._protocolAdapters.forEach(n=>{var t=new USB4View.KonvaProtocolAdapter(n,this._adapterGroup);this.addAdapter(t)})}})