function UserModeDumpManager(){function i(t,i,r,u,f){var e="/api/debug/dump/usermode/live?"+$.param({pid:f.ProcessId,containerId:n});return'<a class="symbol link" style="text-decoration: none;" aria-label="download" role="button" tabindex="0" title="Download">&#xe74e;<\/a>'}function r(r){var f=[{id:"Dump",name:"Download Dump",width:32,cssClass:"tableCell",headerCssClass:"tableHeaderHidden",formatter:i},{id:"ProcessId",name:"PID",field:"ProcessId",sortable:!0,width:96,cssClass:"tableCell",headerCssClass:"tableHeader"},{id:"ImageName",name:"Name",field:"ImageName",sortable:!0,width:360,cssClass:"tableCell",headerCssClass:"tableHeader"}],e={enableCellNavigation:!0,enableColumnReorder:!1,showHeaderRow:!0,syncColumnCellResize:!0,scaleHeightToDockContentParent:!0,rowHeight:36.5,headerRowHeight:40.45,gridLabel:r.gridLabel,rowHeaderName:r.rowHeaderName,rowHeaderId:r.rowHeaderId,rowHeaderColumn:r.rowHeaderColumn},u;dataView=new Slick.Data.DataView;u=new Slick.Grid("#debugProcessGrid",dataView,f,e);dataView.onRowCountChanged.subscribe(function(){u.updateRowCount();u.render()});dataView.onRowsChanged.subscribe(function(n,t){u.invalidateRows(t.rows);u.render()});u.onSort.subscribe(function(n,t){var i=function(n,i){return n[t.sortCol.field]>i[t.sortCol.field]?1:-1};dataView.sort(i,t.sortAsc)});u.onClick.subscribe(function(t){var i=u,r=i.getCellFromEvent(t),e=dataView.getItems()[r.row],f;i.getColumns()[r.cell].id==="Dump"&&(f="/api/debug/dump/usermode/live?"+$.param({pid:e.ProcessId,containerId:n}),window.location=f)});u.setSortColumn("ProcessId",!0);$("#refreshProcesses").bind("click",function(){t(dataView)});t(dataView)}function t(t){var i=new WebbRest;i.getProcessList(n).done(function(n){t.setItems(n.Processes,"ProcessId");t.reSort()}).fail(function(){t.setItems([])})}function u(i){n=i;t(dataView)}function f(){var t=$("#LiveProcessDumpsContainerIdSelect"),i;t.on("change",function(){selectedContainer=t.val();u(selectedContainer)});i=new WebbRest;i.getContainersList().done(function(i){if(i.Supported){for(index=0;index<i.Containers.length;index++){container=i.Containers[index];var r=container.Id.replace("{","").replace("}",""),u=r===n;t.append($("<option>",{value:r,text:container.Owner,selected:u}));u&&processUpdater.updateContainerId(r)}t.show()}})}var n="host";r({gridLabel:"Collect Live Process Dumps",rowHeaderName:"Name"});enableSlickGridTabbing("debugProcessGrid",!0);f()}var WebbRest,dataView;$(function(){UserModeDumpManager()});
/*!
//@ sourceURL=tools/LiveProcessDumps/LiveProcessDumps.js
*/
