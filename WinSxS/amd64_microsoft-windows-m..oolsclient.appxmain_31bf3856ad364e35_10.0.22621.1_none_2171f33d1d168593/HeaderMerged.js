!function(e){function t(t){for(var i,n,a=t[0],l=t[1],h=t[2],d=0,u=[];d<a.length;d++){n=a[d];r[n]&&u.push(r[n][0]);r[n]=0}for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);c&&c(t);for(;u.length;)u.shift()();o.push.apply(o,h||[]);return s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],i=!0,n=1;n<s.length;n++){var l=s[n];0!==r[l]&&(i=!1)}if(i){o.splice(t--,1);e=a(a.s=s[0])}}return e}var i={},r={13:0},o=[];function n(e){return a.p+""+({1:"headerSelfTest"}[e]||e)+".bundle.js"}function a(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};e[t].call(s.exports,s,s.exports,a);s.l=!0;return s.exports}a.e=function(e){var t=[],s=r[e];if(0!==s)if(s)t.push(s[2]);else{var i=new Promise(function(t,i){s=r[e]=[t,i]});t.push(s[2]=i);var o=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8";l.timeout=120;a.nc&&l.setAttribute("nonce",a.nc);l.src=n(e);var h=setTimeout(function(){d({type:"timeout",target:l})},12e4);l.onerror=l.onload=d;function d(t){l.onerror=l.onload=null;clearTimeout(h);var s=r[e];if(0!==s){if(s){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,n=new Error("Loading chunk "+e+" failed.\n("+i+": "+o+")");n.type=i;n.request=o;s[1](n)}r[e]=void 0}}o.appendChild(l)}return Promise.all(t)};a.m=e;a.c=i;a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})};a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})};a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};a.d(t,"a",t);return t};a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};a.p="";a.oe=function(e){console.error(e);throw e};var l=window.webpackJsonp=window.webpackJsonp||[],h=l.push.bind(l);l.push=t;l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var c=h;o.push([198,4]);s()}({198:function(e,t,s){"use strict";s.r(t);var i=s(2),r=s(37),o=s(5),n=s(60),a=s(22),l=s(61),h=s(18),d=s(45),c=s(69),u=s(12),g=s(9),_=s(35),b=s(56),p=s(13),m=s(0),f=s(10),T=s(42),y=s(6),E=s(27),v=s(59),C=s(4),S=s(124),B=s(40);class w{constructor(){o.b.addEventListener("attach",()=>this.onAttach());o.b.addEventListener("detach",()=>this.onDetach());Object(f.g)().listen("notificationFromRemote|ms:header",e=>{const{event:t,params:s}=e;this.jsonRpcNotificationReceive(t,s)})}onLoadComplete(e){this._headerControl=e;o.b.isAttached&&this.onAttach()}toggleAlwaysRefreshFromServer(e){E.callRemote(w.PORT_NAME,"toggleAlwaysRefreshFromServer",[e])}refreshPage(){E.callRemote(w.PORT_NAME,"refreshPage")}handleSelfTestEvent(e){return E.callRemote(w.PORT_NAME,"handleSelfTestEvent",[e])}jsonRpcNotificationReceive(e,t){switch(e){case"onDocumentComplete":C.a.areEqual(1,t.length);this._headerControl.onDocumentComplete(t[0]);break;case"onInspectElement":C.a.areEqual(1,t.length);this._headerControl.onInspectElement(t[0]);break;case"onDiagnosticsOMScriptError":const s=JSON.parse(t[0]);S.a.reportErrorDetails(s);break;case"onDebuggerOMScriptError":const i=JSON.parse(t[0]);S.a.reportErrorDetails(i);break;case"onSelfTestPageEvent":C.a.areEqual(1,t.length);this._headerControl.onSelfTestPageEvent(t[0]);break;case"onViewSource":C.a.areEqual(1,t.length);this.onViewSource(t[0])}}onAttach(){E.loadScripts(w.SCRIPTS,w.PORT_NAME);const e=Object(p.s)();e&&this.onViewSource(e)}onViewSource(e){e&&B.h(e,1,1,"text/html")}onDetach(){this._headerControl.onDetached()}}w.SCRIPTS=["../header/remote/headerRemote.js"];w.PORT_NAME="headerPort";var I=s(64),L=s(14),R=s(43),k=s(33);class F{constructor(e){this.isJMCAvailable=(()=>Promise.resolve(this._isLoadedJsonValid));this.getJMCTypeForUrls=(e=>{for(var t=[],s=0;s<e.length;s++)t.push(this.getJMCTypeForUrlFromRules(e[s]));return Promise.resolve(t)});this.getJMCTypeForEval=(()=>Promise.resolve(k.a.UserCode));this.getJMCTypeForScriptBlock=(()=>Promise.resolve(k.a.UserCode));this.getJMCTypeForFunction=(()=>Promise.resolve(k.a.UserCode));this.getJMCTypeForUrl=(e=>this.getJMCTypeForUrls([e]).then(e=>Promise.resolve(e[0])));this.setJMCTypeForUrl=((e,t)=>Promise.resolve(this.setJMCTypeForUrlFromRules(e,t)));this.getCurrentRules=(()=>{for(var e=[],t=0;t<this._jmcRules.length;t++)e[t]=this._jmcRules[t].slice(0);return Promise.resolve(e)});this.load=(()=>this.loadRules());this.save=(()=>this.saveRules());this.loadFromJSON=(e=>this.loadRules(e));this.saveToJSON=(()=>this.saveRules(!0));this.getError=(()=>{var e=null;this._isLoadedJsonValid||(e=this._jmcError);return Promise.resolve(e)});this._rpcClient=e;this._isDirty=!1;this._isLoadedJsonValid=!0;this._jmcRules=[];this._jmcRules[k.a.UserCode]=[];this._jmcRules[k.a.Library]=[];this._jmcRules[k.a.Unrelated]=[]}static get defaultRules(){return{MyCode:F.JMC_DEFAULT_RULES.MyCode.slice(0),Libraries:F.JMC_DEFAULT_RULES.Libraries.slice(0),Unrelated:F.JMC_DEFAULT_RULES.Unrelated.slice(0)}}initialize(){return this.load().then(()=>{this.registerPluginMethodHandlers()},()=>{this.registerPluginMethodHandlers()})}loadRules(e){var t,s=null;if("string"==typeof e)s=Promise.resolve(e);else{var i="";s=Object(R.a)().openFileAsHostFile(F.JMC_SETTINGS_FILE,{access:L.a.read,encoding:"UTF-8",mode:L.c.openOrCreate,persistence:L.d.permanent,type:L.f.text}).then(e=>(t=e).read()).then(e=>{i=e;return t.close()}).then(()=>i,e=>{e||(e={message:""});this._jmcError=e;this._jmcError.name="jmcLoadError";return Promise.reject(e)})}return s.then(e=>{var t=this.isJMCAvailable;this.parseJMCSettings(e);t!==this.isJMCAvailable&&this._rpcClient.broadcast("jmcAvailabilityChanged",{});if(!this._isLoadedJsonValid)return Promise.reject(this._jmcError);this._isDirty=!1;return this.getCurrentRules()})}saveRules(e){var t,s=this.getJMCSettingsJson();return(!e&&this._isDirty&&this._isLoadedJsonValid?Object(R.a)().openFileAsHostFile(F.JMC_SETTINGS_FILE,{access:L.a.write,encoding:"UTF-8",mode:L.c.createNew,persistence:L.d.permanent,type:L.f.text}).then(e=>(t=e).writeAllText(s)).then(()=>t.close()).then(()=>Promise.resolve(s),e=>{e||(e={message:""});this._jmcError=e;this._jmcError.name="jmcSaveError";return Promise.reject(e)}):Promise.resolve(s)).then(e=>{this._isDirty=!1;return Promise.resolve(e)})}getJMCTypeForUrlFromRules(e){return this.findMatchingRule(e)}setJMCTypeForUrlFromRules(e,t){var s=this.getJMCTypeForUrlFromRules(e);if(t===k.a.Unsure){C.a.fail("F12 does not support setting a url to the 'Unsure' type");return s}var i=this.updateJMC(e,t),r={url:e,previousType:s,currentType:i};this._rpcClient.broadcast("jmcRulesChanged",r);return i}parseJMCSettings(e){this._jmcRules=[];this._jmcRules[k.a.UserCode]=[];this._jmcRules[k.a.Library]=[];this._jmcRules[k.a.Unrelated]=[];var t=null;this._isLoadedJsonValid=!0;if(e)try{t=JSON.parse(e)}catch(e){t=F.defaultRules;this._isLoadedJsonValid=!1;this._jmcError=e;this._jmcError.name="jmcParseError"}else t=F.defaultRules;var s=(e,t)=>{if(e&&e instanceof Array)for(var s=0;s<e.length;s++){var i=e[s];"string"==typeof i&&this._jmcRules[t].push(i.toLowerCase())}};s(t.MyCode,k.a.UserCode);s(t.Libraries,k.a.Library);s(t.Unrelated,k.a.Unrelated)}getJMCSettingsJson(){var e={MyCode:this._jmcRules[k.a.UserCode],Libraries:this._jmcRules[k.a.Library],Unrelated:this._jmcRules[k.a.Unrelated]};return JSON.stringify(e)}findMatchingRule(e){var t=(e,t)=>{for(var s=this._jmcRules[t],i=0;i<s.length;i++){var r=s[i].toLowerCase();if(r.indexOf("*")>=0){for(var o=[],n=r.split("*"),a=0;a<n.length;a++)o.push(I.a.escapeRegExp(n[a]));if(new RegExp("^"+o.join(".*?")+"$","i").test(e))return!0}else if(r===e)return!0}return!1};return t(e=e.toLowerCase(),k.a.UserCode)?k.a.UserCode:t(e,k.a.Library)?k.a.Library:t(e,k.a.Unrelated)?k.a.Unrelated:k.a.UserCode}updateJMC(e,t){e=e.toLowerCase();this._isDirty=!0;for(var s=0;s<this._jmcRules.length;s++){var i=this._jmcRules[s].indexOf(e);i>=0&&this._jmcRules[s].splice(i,1)}this._jmcRules[t].push(e);return this.findMatchingRule(e)}registerPluginMethodHandlers(){this._rpcClient.register("jmcIsJMCAvailable",this.isJMCAvailable);this._rpcClient.register("jmcGetJMCTypeForUrls",this.getJMCTypeForUrls);this._rpcClient.register("jmcGetJMCTypeForEval",this.getJMCTypeForEval);this._rpcClient.register("jmcGetJMCTypeForScriptBlock",this.getJMCTypeForScriptBlock);this._rpcClient.register("jmcGetJMCTypeForFunction",this.getJMCTypeForFunction);this._rpcClient.register("jmcGetJMCTypeForUrl",this.getJMCTypeForUrl);this._rpcClient.register("jmcSetJMCTypeForUrl",this.setJMCTypeForUrl);this._rpcClient.register("jmcLoad",this.load);this._rpcClient.register("jmcSave",this.save);this._rpcClient.register("jmcLoadFromJSON",this.loadFromJSON);this._rpcClient.register("jmcSaveToJSON",this.saveToJSON);this._rpcClient.register("jmcGetCurrentRules",this.getCurrentRules);this._rpcClient.register("jmcGetError",this.getError)}}F.JMC_SETTINGS_FILE="MyCode.json";F.JMC_DEFAULT_RULES={MyCode:[],Libraries:["*.min.js","browsertools://*"],Unrelated:[]};var O,P,j=s(149);!function(e){e[e.Ready=0]="Ready";e[e.Running=1]="Running";e[e.Passed=2]="Passed";e[e.Failed=3]="Failed";e[e.Timedout=4]="Timedout"}(O||(O={}));!function(e){e[e.Crashed=0]="Crashed";e[e.TestRelaunch=1]="TestRelaunch";e[e.TestComplete=2]="TestComplete"}(P||(P={}));var M,A=s(94);class D{constructor(e,t){this._allEvents=[];this._logBuffer=[];this._rpcWrapper=e;this._hasRefreshed=!1;this._attached=!1;this._currentEventPromise=Promise.resolve(null);this._hostType=t;Object(f.g)().register("logselftestmessage",async e=>{this.queueLog(e);return!0})}get allEvents(){return this._allEvents}onRefresh(){this._hasRefreshed=!0}onAttach(){if(!this._attached){this._attached=!0;this.fireAllEvents()}}log(e,t){this.queueLog({message:e,pluginName:t,timestamp:Date.now()})}fireTestStarted(e,t){t&&(this._logBuffer=[]);return this.fireEvent({eventType:"testStarted",test:e,hostType:this._hostType})}fireTestListUpdated(e,t=!1){this.fireEvent({eventType:"testListUpdated",testList:e,allTestsLoaded:t,hostType:this._hostType})}fireTestResult(e,t,s){if(this._hasRefreshed){this.fireAllEvents();this._hasRefreshed=!1}this._logBuffer.sort(e=>e.timestamp);var i=this._logBuffer;this._logBuffer=[];return this.fireEvent({eventType:"testResult",test:e,status:O[t].toLowerCase(),duration:s,logs:i,hostType:this._hostType})}fireStatusChange(e){return this.fireEvent({eventType:"selfTestStatus",status:O[e].toLowerCase(),hostType:this._hostType})}fireHeartbeat(e){return this.fireEvent({eventType:"testHeartbeat",message:e,hostType:this._hostType})}fireAutomationCommand(e,t){const s={commandId:e,eventType:"sendAutomationCommand",test:t,hostType:this._hostType};return this.fireEvent(s)}fireInitPage(){return this.fireEvent({eventType:"initPage",hostType:this._hostType})}fireEvent(e){this._allEvents.push(e);return this._attached?this.queueEvent(e):Promise.resolve(null)}queueEvent(e){this._currentEventPromise=this._currentEventPromise.then(()=>this._rpcWrapper.handleSelfTestEvent(e));return this._currentEventPromise}fireAllEvents(){this._allEvents.forEach(e=>this.queueEvent(e))}queueLog(e){if(e.pluginName){var t=e.pluginName.toLowerCase(),s=t.lastIndexOf("/");s>=0&&(t=t.substring(s+1));e.pluginName=t}this._logBuffer.push(e)}}class U{constructor(e,t){this.heartbeat=(async e=>{this._logger.fireHeartbeat(e);return!0});this.registerSelfTests=(async(e,t)=>{this._registeredPluginIds.add(t);if(e.length){e.forEach(e=>this._testsByName.set(e.name,e));this._testsByPlugin.set(t,e);this.updateSelfTestListPage();return!0}});this.dispatchEventOnPlugin=(async(e,t,s=!1)=>{Object(A.c)(e,t,s)});this._testsByPlugin=new Map;this._testsByName=new Map;this._registeredPluginIds=new Set;this._rpcWrapper=t;this._logger=new D(this._rpcWrapper,o.b.hostType);this._pluginOrder=[y.c.header,y.c.dom,y.c.debugger,y.c.memoryAnalyzer,y.c.network,y.c.visualProfiler,y.c.emulation,y.c.storage,y.c.serviceworker];this._tabF12pluginsCount=this._pluginOrder.length;this._backgroundF12pluginsCount=this._pluginOrder.length-2;this.loadSelfTestSettings().then(e=>{try{this._testSettings=JSON.parse(e)}catch(e){this._testSettings={}}});const s=Object(f.g)();s.register("registerSelfTests",this.registerSelfTests);s.register("dispatchEventOnPlugin",this.dispatchEventOnPlugin);s.register("heartbeat",this.heartbeat);s.register("reportF12UnhandledError",async e=>{let t=`${e.messageId}: ${e.message} @ ${e.file}:${e.line}`;e.additionalInfo&&(t+="\n"+e.additionalInfo);this.log(t);return!0});this._options={};this._logger.fireInitPage();this._launcherRPC=new j.a("SELFTEST_LAUNCHER_CLIENT",(e,t,s)=>{},(e,t)=>{},t=>{e.sendSelfTestLauncherMessage(t)},e=>{});this._launcherRPC.jsonRpcNotification("onStart",[e.f12ProcessId]);this._isCrawlerEnvVariableSet=T.a()}onRefresh(){this.log("Page refreshed");this._logger.onRefresh()}onSelfTestPageEvent(e){switch(e.eventType){case"startRun":const t=e.testNames.map(e=>this._testsByName.get(e));this.runTestList(t);break;case"startRunDrt":this.runTestAsDrt(this._testsByName.get(e.testName));break;case"stopRun":this._currentTestList=[];break;case"optionChanged":const s=e;this._options[s.optionName]=s.value}}onAttach(){this._logger.onAttach()}updateSelfTestListPage(){let e=this.getTestDetailsInPriorityOrder();const t=this._testSettings.disabledTestList||[];e.forEach(e=>{t&&t.length&&-1!==t.indexOf(e.name)&&(e.disabled=!0)});var s=o.b.hostType===y.b.ExtensionBackground?this._registeredPluginIds.size===this._backgroundF12pluginsCount:this._registeredPluginIds.size===this._tabF12pluginsCount;if(T.b()&&s){if(this._options.enableAutorun||this._isCrawlerEnvVariableSet){this._options.shuffle&&(e=this.getTestDetailsShuffled(this._options.shuffle));this._logger.fireTestListUpdated(e,!0);e=e.filter(e=>!e.disabled);this.runTestList(e)}else{this.heartbeat("All tests loaded");this._logger.fireTestListUpdated(e,!0)}}else this._logger.fireTestListUpdated(e,!1)}getTestDetailsInPriorityOrder(){return this.getFlatTestList().sort((e,t)=>e.metadata.priority===t.metadata.priority?this._pluginOrder.indexOf(e.pluginId)-this._pluginOrder.indexOf(t.pluginId):e.metadata.priority-t.metadata.priority)}getFlatTestList(){const e=[];this._testsByName.forEach(t=>e.push(t));return e}getTestDetailsShuffled(e){const t=this.getTestDetailsInPriorityOrder();N(t,e);return t}sendResultToLauncher(e,t=null,s=""){let i=this._logger.allEvents.filter(e=>"testListUpdated"!==e.eventType).map(e=>JSON.stringify(e)).join("\r\n");this._options.shuffle&&(i="shuffle="+this._options.shuffle+"\r\n"+i);this._launcherRPC.jsonRpcNotification("onResult",[e,s,t,i])}runTestList(e){this._currentTestList=this.filterList(e);let t=!0;if(this._options.runMultiplier>1){const e=[];this._currentTestList.forEach(t=>{for(let s=0;s<this._options.runMultiplier;s++)e.push(t)});this._currentTestList=e}this.recoverPreviousRun();const s=()=>{if(0===this._currentTestList.length){const e=t?O.Passed:O.Failed;t&&this._launcherRPC.jsonRpcNotification("onShutdownSignal",[P.TestComplete]);this._logger.fireStatusChange(e);this.sendResultToLauncher(e);this.createFile("Completed running all the selftest","allSelftestCompleted.txt");return}const e=this._currentTestList.shift();this.runTestAndLog(e).then(i=>{if(!this._isCrawlerEnvVariableSet){this._logger.fireTestResult(e,i.status,i.duration);this._logger.fireStatusChange(i.status);i.status!==O.Failed&&i.status!==O.Timedout||(t=!1)}return s()})};this.globalCleanup().then(()=>{if(!this._isCrawlerEnvVariableSet)return this._logger.fireStatusChange(O.Running)}).then(()=>{s()})}createFile(e,t){const s={access:L.a.readWrite,encoding:"BINARY",mode:L.c.createNew,persistence:L.d.permanent,share:L.e.none,type:L.f.text};Object(R.a)().writeEntireFile(t,e,s)}recoverPreviousRun(){if(this._options.recoveryMode){this._testSettings.passedTests=this._testSettings.passedTests||[];this._testSettings.failedTests=this._testSettings.failedTests||[];if(this._testSettings.lastRunTest){this._testSettings.failedTests.push(this._testSettings.lastRunTest);for(const e of this._currentTestList)this._testSettings.passedTests.indexOf(e.name)>=0?this._logger.fireTestResult(e,O.Passed,0):this._testSettings.failedTests.indexOf(e.name)>=0&&this._logger.fireTestResult(e,O.Failed,0);const e=this._currentTestList.length;for(let t=0;t<e;t++)if(this._currentTestList[t].name===this._testSettings.lastRunTest){this._currentTestList=this._currentTestList.slice(t+1);break}}}else{this._testSettings.passedTests=[];this._testSettings.failedTests=[]}}globalCleanup(){return this._options.disableCleanup?Promise.resolve(null):Object(A.f)()}runTestAndLog(e,t=!0){let s,i;this._testSettings.lastRunTest=e.name;return this.storeSelfTestSettings().then(()=>{this._isCrawlerEnvVariableSet||this._logger.fireTestStarted(e,t)}).then(()=>{s=Date.now();this._isCrawlerEnvVariableSet||this.log("****        Starting test: "+e.name+"        ****")}).then(()=>this.runTest(e)).then(t=>{(i=t).duration=Date.now()-s;i.errorMessage&&!this._isCrawlerEnvVariableSet&&this.log(i.errorMessage);i.status===O.Passed?this._testSettings.passedTests&&this._testSettings.passedTests.push(e.name):this._testSettings.failedTests&&this._testSettings.failedTests.push(e.name);this._isCrawlerEnvVariableSet?console.error(`Test Result: ${e.name}, Elapsed: ${i.duration} \n`):this.log(`Test Result: ${e.name}, Elapsed: ${i.duration} \n`)}).then(()=>{this.log("Global Test Cleanup");return this.globalCleanup()}).then(()=>Object(f.g)().call(Object(f.c)(e.pluginId),"afterTest",[e.name])).then(()=>i)}runTestAsDrt(e){let t,s=0,i=!1;e.metadata.timeout<U.SELF_TEST_DRT_STRETCH_THRESHOLD&&(e.metadata.timeout*=U.SELF_TEST_DRT_STRETCH_FACTOR);const r=()=>{this.runTestAndLog(e,0===s).then(n=>{if(i)return;const a=O[(t=n).status].toLowerCase(),l=`**** DRT Test Result: ${e.name}, Status: ${a}, Try:${++s}`;this._logger.fireHeartbeat(l);this.log(l);if(t.status===O.Passed||s>=U.SELF_TEST_DRT_MAX_RETRIES){clearTimeout(o);e.metadata.automationCommand?this._logger.fireAutomationCommand(e.metadata.automationCommand,e):this._logger.fireTestResult(e,t.status,t.duration)}else r()},s=>{clearTimeout(o);this.log("!!SelfTest Infra Error!!");this.log(s.stack||s);t={status:O.Failed,duration:-1};this._logger.fireTestResult(e,t.status,t.duration)})};r();const o=setTimeout(()=>{this.log("Error: No Status received from runTestAndLog yet. SelfTestService timeout.");t||(t={status:O.Timedout});i=!0;this._logger.fireTestResult(e,t.status,t.duration)},U.SELF_TEST_DRT_MAX_TIME)}runTest(e){return new Promise(t=>{let s,i=null;o.b.activateTab(e.pluginId);Object(f.g)().call(Object(f.c)(e.pluginId),"runSelfTest",[e]).then(()=>{if(!s){clearTimeout(i);t({status:O.Passed})}},e=>{if(!s){clearTimeout(i);t({errorMessage:"Test error: \r\n"+e,status:O.Failed})}});this._options.disableTimeout||(i=window.setTimeout(()=>{s=!0;t({errorMessage:"Test timed out after "+e.metadata.timeout+"ms",status:O.Timedout})},e.metadata.timeout))})}log(e,t){this._logger.log(e,t||"selftestservice")}loadSelfTestSettings(){let e;return Object(R.a)().openFileAsHostFile(U.SELF_TEST_SETTINGS_FILE,{access:L.a.readWrite,encoding:"UTF-8",mode:L.c.openOrCreate,persistence:L.d.permanent,type:L.f.text}).then(t=>(e=t).read()).then(t=>{e.close();return t})}storeSelfTestSettings(){let e;try{const t=JSON.stringify(this._testSettings);return Object(R.a)().openFileAsHostFile(U.SELF_TEST_SETTINGS_FILE,{access:L.a.write,encoding:"UTF-8",mode:L.c.createNew,persistence:L.d.permanent,type:L.f.text}).then(s=>(e=s).writeAllText(t)).then(()=>e.close()).then(()=>Promise.resolve(t),e=>{e||(e={message:""});return Promise.reject(e)})}catch(e){return Promise.resolve(null)}}filterList(e){if(!this._options.filter)return e;let t=this._options.filter;(t=t.toLowerCase()).split(" ").forEach(s=>{if(s.indexOf(":")>0){const t=s.split(":");"t"===t[0]?e=e.filter(e=>e.pluginName.toLowerCase()===t[1]):"m"===t[0]?e=e.filter(e=>e.moduleName.toLowerCase()===t[1]):"p"===t[0]&&(e=e.filter(e=>"p"+e.metadata.priority===t[1]))}else e=e.filter(e=>-1!==e.name.toLowerCase().indexOf(t))});return e}}U.SELF_TEST_SETTINGS_FILE="SelfTests.json";U.SELF_TEST_DRT_MAX_RETRIES=3;U.SELF_TEST_DRT_MAX_TIME=1e5;U.SELF_TEST_DRT_STRETCH_THRESHOLD=2e4;U.SELF_TEST_DRT_STRETCH_FACTOR=1.5;function N(e,t){function s(e){return(69069*e+1)%2147483648}for(let i=0;i<e.length;i++){const r=(t=s(t))%e.length,o=e[i];e[i]=e[r];e[r]=o}}!function(e){e[e.Running=0]="Running";e[e.Alert=1]="Alert";e[e.Error=2]="Error";e[e.Info=3]="Info";e[e.Break=4]="Break";e[e.Paused=5]="Paused"}(M||(M={}));class x{constructor(e){this._backgroundElement=document.createElement("span");this._backgroundElement.className="badgeBackground";e.appendChild(this._backgroundElement);this._numberElement=document.createElement("span");this._numberElement.className="badgeNumber";this._backgroundElement.appendChild(this._numberElement);this._plusElement=document.createElement("span");this._plusElement.className="badgePlus";this._plusElement.innerText="+";this._backgroundElement.appendChild(this._plusElement)}get currentBadgeInfo(){return this._currentBadgeInfo}show(e,t=0){let s=!1,i=!1;this._backgroundElement.classList.add("badge"+M[e]);if(t>0&&e===M.Error){s=!0;if(t>=99){i=!0;t=99}this._numberElement.textContent=String(t)}s?this._backgroundElement.classList.add("displayNumber"):this._backgroundElement.classList.remove("displayNumber");i?this._backgroundElement.classList.add("displayPlus"):this._backgroundElement.classList.remove("displayPlus");this._currentBadgeInfo={badgeType:e,count:t,displayPlus:i,displayNumber:s}}hide(){this._currentBadgeInfo=void 0}}var H=s(11),J=s(20);class z{constructor(){this._tabContainer=document.getElementById("tabContainer");this._tabItemsById=[];this._tabItemsByOrder=[];this._tabHistory=[];this._tabHistoryIndex=0;this._listeners=[];this._throttleResize=Object(_.e)(()=>this.processResize(),null,100,{trailing:!0});this.initialize()}get selectedTab(){return this._selectedTab}get selectedTabName(){return this._selectedTab&&this._selectedTab.getAttribute("data-tabId")||""}get selectedTabPluginId(){return this._selectedTab?parseInt(this._selectedTab.getAttribute("data-pluginId")||"",10):-1}get selectedElement(){if(this._selectedTab&&"none"!==this._selectedTab.style.display)return this._selectedTab}get highlightedElement(){return this._highlightedElement}addEventListener(e,t){"tabClicked"===e&&this._listeners.push(t)}onResize(){this._throttleResize()}processResize(){for(var e=this._tabContainer.getBoundingClientRect().width-this._overflowButton.getBoundingClientRect().width,t=!1,s=0,i=0;i<this._tabItemsByOrder.length;i++){var r=this._tabItemsByOrder[i].rootElement;if(!t){this.tabIsVisible(r)||this.showTab(r);var o=r.getBoundingClientRect().width;if(s+o>e)t=!0;else{s+=o;if(r===this._highlightedElement){this.highlightTabByElement(this._highlightedElement);this._overflowButton.classList.remove("selectedTabOverflowed");this._overflowButton.tabIndex=-1}}}if(t){this.hideTab(r);if(r===this._highlightedElement){this._overflowButton.classList.add("selectedTabOverflowed");r.tabIndex=-1;this._overflowButton.tabIndex=1}}}if(t)this._overflowButton.style.visibility="visible";else{this._highlightedElement===this._overflowButton&&this._selectedTab&&this.highlightTabByElement(this._selectedTab);this._overflowButton.style.visibility="hidden"}}getHiddenTabs(){for(var e=[],t=0;t<this._tabItemsByOrder.length;t++){var s=this._tabItemsByOrder[t];this.tabIsVisible(s.rootElement)||e.push(s)}return e}addTab(e,t,s,i,r){var o=document.createElement("div");o.setAttribute("data-tabId",t);o.setAttribute("data-tabIndex",""+this._tabItemsByOrder.length);o.setAttribute("data-pluginId",""+e);o.setAttribute("data-pluginName",s);o.className="tabItem";switch(r){case 0:o.classList.add("neverBadge");break;case 2:o.classList.add("countBadge")}o.onmouseenter=(()=>{J.c({content:this._tabItemsById[e].toolTip});return!0});o.setAttribute("aria-label",i);o.setAttribute("role","tab");o.tabIndex=-1;var n=document.createElement("span");n.setAttribute("aria-hidden","true");n.className="tabText";n.textContent=s;n.tabIndex=-1;o.appendChild(n);var a=new x(o);o.addEventListener("click",t=>this.onTabClicked(t,e));var l={rootElement:o,badge:a,originalTooltip:i,toolTip:i};this._tabItemsById[e]=l;this._tabItemsByOrder.push(l);this._tabContainer.insertBefore(o,this._overflowButton);this._throttleResize()}selectTabById(e,t=!0){this.highlightTabById(e,!1);this.onTabSelected(e,t)}selectTabByIndex(e,t=!0){if(e>=0&&e<this._tabItemsByOrder.length){let s=parseInt(this._tabItemsByOrder[e].rootElement.getAttribute("data-pluginId"),10);this.highlightTabById(s,!0);this.onTabSelected(s,t)}}selectTabByDirection(e,t=!0){if(this._selectedTab){let s=parseInt(this._selectedTab.getAttribute("data-tabIndex"),10);(s+=e?1:-1)<0?s=this._tabItemsByOrder.length-1:s>=this._tabItemsByOrder.length&&(s=0);this.selectTabByIndex(s,t)}}selectTabByHistory(e,t=!0){if(this._selectedTab){this._tabHistoryIndex+=e?1:-1;this._tabHistoryIndex<0?this._tabHistoryIndex=0:this._tabHistoryIndex>=this._tabHistory.length&&(this._tabHistoryIndex=this._tabHistory.length-1);const s=this._tabHistory[this._tabHistoryIndex];this.highlightTabById(s,!0);this.onTabSelected(s,t,!1)}}showBadge(e,t,s,i=0){var r=this._tabItemsById[e],o=Object(m.b)("BadgeTooltipFormat",r.originalTooltip,s),n=r.originalTooltip+" "+s;r.rootElement.setAttribute("aria-label",n);r.toolTip=o;r.badge.show(t,i);r.rootElement.classList.add("hasBadge")}hideBadge(e){var t=this._tabItemsById[e];if(t){t.rootElement.setAttribute("aria-label",t.originalTooltip);t.toolTip=t.originalTooltip;t.badge.hide();t.rootElement.classList.remove("hasBadge")}}onTabSelected(e,t=!0,s=!0){if(this._selectedTab){if(this.tabIsVisible(this._selectedTab))this._selectedTab.tabIndex=-1;else{this._overflowButton.classList.remove("selectedTabOverflowed");this._overflowButton.tabIndex=-1}this._selectedTab.classList.remove("tabItemSelected")}this._selectedTab=this._highlightedElement;if(this._selectedTab&&this.tabIsVisible(this._selectedTab))this._selectedTab.tabIndex=1;else{this._overflowButton.classList.add("selectedTabOverflowed");this._overflowButton.tabIndex=1}this._selectedTab&&this._selectedTab.classList.add("tabItemSelected");if(s&&t){this._tabHistory.length>=z.TAB_HISTORY_LENGTH&&(this._tabHistory=this._tabHistory.slice(1));this._tabHistory=this._tabHistory.slice(0,this._tabHistoryIndex+1);this._tabHistory.push(e);this._tabHistoryIndex=this._tabHistory.length-1}if(t)for(var i=0;i<this._listeners.length;i++)this._listeners[i]&&this._listeners[i](e)}onOverflowButtonClicked(){var e=this.getHiddenTabs();if(e.length>0){for(var t=[],s=e=>(t,s)=>this.onTabSelected(e),i=(e,t)=>()=>e===t,r=0;r<e.length;r++){var o=e[r].rootElement.querySelector(".tabText").textContent,n=parseInt(e[r].rootElement.getAttribute("data-pluginId"),10),a=e[r].badge.currentBadgeInfo,l="";a&&(l=a.displayNumber?"badgeCount_"+a.count:"badgeType"+a.badgeType);t.push({id:"",callback:s(n),label:o,type:H.MenuItemType.checkbox,disabled:()=>!1,accessKey:"",checked:i(n,this.selectedTabPluginId),cssClass:l})}if(this._overflowMenu){this._overflowMenu.dispose();this._overflowMenu=void 0}this._overflowButton.classList.add("active");this._overflowMenu=H.create(t,"headerOverflowMenu");this._overflowMenu.showWithPopup(this._overflowButton.getBoundingClientRect().left,window.innerHeight)}}showTab(e){e.style.display="inline-block"}hideTab(e){e.style.display="none"}tabIsVisible(e){let t=!1;e&&e.style.display&&(t="none"!==e.style.display.toLowerCase());return t}initialize(){this._overflowButton=document.getElementById("overflowButton");this._overflowButton.addEventListener("keydown",e=>{if(38===e.keyCode||37===e.keyCode)for(var t=this._tabItemsByOrder.length-1;t>=0;t--){var s=this._tabItemsByOrder[t].rootElement;if(this.tabIsVisible(s)){this._overflowButton.tabIndex=-1;this.highlightTabByElement(s);break}}});this._tabContainer.addEventListener("mouseleave",e=>{J.a()});this._tabContainer.addEventListener("click",e=>{o.b.notifyOnBrowserActivated()});this._tabContainer.addEventListener("keydown",e=>{let t;if(this._highlightedElement)if(40===e.keyCode||39===e.keyCode){if(this._highlightedElement.nextElementSibling){t=this._highlightedElement.nextElementSibling;if(this.tabIsVisible(t))this.highlightTabByElement(t);else{this._highlightedElement.tabIndex=-1;this._highlightedElement=this._overflowButton;this._overflowButton.tabIndex=1;this._overflowButton.focus()}}}else if(38===e.keyCode||37===e.keyCode){if(this._highlightedElement.previousElementSibling){t=this._highlightedElement.previousElementSibling;if(this.tabIsVisible(t))this.highlightTabByElement(t);else{this._highlightedElement.tabIndex=-1;this._highlightedElement=this._overflowButton;this._overflowButton.tabIndex=1;this._overflowButton.focus()}}}else if(32===e.keyCode||13===e.keyCode){const e=parseInt(this._highlightedElement.getAttribute("data-pluginId"),10);e>0&&this.onTabSelected(e)}66===e.keyCode&&e.ctrlKey&&e.shiftKey&&!e.altKey&&p.b===y.c.debugger&&Object(f.g)().call("ms:debugger","breakAny",[i.c.KeyboardShortcut])});window.addEventListener("resize",e=>this.onResize())}highlightTabById(e,t=!0){if(this._highlightedElement){this._highlightedElement.classList.remove("tabItemHighlighted");this.highlightedElement.setAttribute("tabindex","-1")}var s=this._tabItemsById[e];if(s){s.rootElement.classList.add("tabItemHighlighted");this._highlightedElement=s.rootElement;var i=this.highlightedElement;i.setAttribute("tabindex","1");t&&i.focus()}}highlightTabByElement(e){var t=parseInt(e.getAttribute("data-pluginId"),10);t>0&&this.highlightTabById(t)}onTabClicked(e,t){this.highlightTabById(t);this.onTabSelected(t)}}z.TAB_HISTORY_LENGTH=20;const V=new n.a("Header");class W{constructor(e){this._isFirstConsoleBadgeUpdate=!0;this._isFirstNetworkBadgeUpdate=!0;this._pluginForInspectElement=y.c.dom;this._logNetworkBadgeShown=Object(_.f)(()=>{V.logPerformance({id:g.a.Network_Badge_Show_Stop,isUserPerceived:!0})});this._logConsoleBadgeShown=Object(_.f)(()=>{V.logPerformance({id:g.a.Console_Badge_Show_Stop,isUserPerceived:!0})});this._testEventObject=new c.a;this._isReady=!1;this._consoleButton=document.getElementById("consoleButton");this._helpButton=document.getElementById("helpButton");this._feedbackButton=document.getElementById("feedbackButton");this._bringIEToForegroundButton=document.getElementById("bringIEToForegroundButton");this._horizontalDockButton=document.getElementById("horizontalDockButton");this._verticalDockButton=document.getElementById("verticalDockButton");this._undockButton=document.getElementById("undockButton");this._closeButton=document.getElementById("closeButton");let t=!1,s=e;if(!s){s=o.b.header;t=!0;p.x===o.a.Edge&&p.t!==y.b.ServiceWorker&&this.setDockStateClasses(Object(p.n)().dockState);this.initializeForSupportedFeatures();p.t===y.b.ExtensionBackground?document.body.classList.add("extensionBackgroundScriptMode"):p.t===y.b.ExtensionPopup&&document.body.classList.add("extensionPopupScriptMode")}this._headerDispatch=s;Object(h.k)();this._jmcService=new F(Object(f.g)());this.initialize(t);T.b()&&(this._selfTestService=new U(this._headerDispatch,this._rpcWrapper))}initialize(e){this._tabControl=new z;this._tabControl.addEventListener("tabClicked",e=>this.onTabSelectedByControl(e));r.a.setupButton(this._closeButton,"CloseButtonTooltip",()=>this.onCloseButtonClicked(),!0);r.a.setupButton(this._horizontalDockButton,"HorizontalDockButtonTooltip",()=>this.onDockButtonClicked(3),!0);r.a.setupButton(this._verticalDockButton,"VerticalDockButtonTooltip",()=>this.onDockButtonClicked(4),!0);r.a.setupButton(this._undockButton,"UndockButtonTooltip",()=>this.onDockButtonClicked(2),!0);r.a.setupButton(this._bringIEToForegroundButton,"BringIEToForegroundButtonTooltip",()=>this.onBringToForgroundButtonClicked(),!0);r.a.setupButton(this._helpButton,"HelpButtonTooltip",()=>this.onHelpButtonClicked(),!0);r.a.setupButton(this._feedbackButton,"FeedbackButtonTooltip",()=>this.onFeedbackButtonClicked(),!0);r.a.setupButton(this._consoleButton,"ShowConsoleButtonTooltip",()=>this.onConsoleButtonClicked(),!0);const t=document.getElementById("overflowButton");r.a.setupButton(t,"OverflownToolsButtonTooltip",()=>this._tabControl.onOverflowButtonClicked(),!0);const s=Object(f.g)();s.register("windowActivation",async e=>this.onWindowActivation(e));s.register("toggleAlwaysRefreshFromServer",async e=>this.onToggleAlwaysRefreshFromServer(e));s.register("refreshPage",async()=>this.onRefreshPage());s.register("consoleErrorsUpdated",async e=>this.onConsoleErrorsUpdated(e));s.register("profilerstarted",async e=>this.onProfilerStateUpdated(e,!0));s.register("profilerstopped",async e=>this.onProfilerStateUpdated(e,!1));s.register("emulationStateUpdated",async e=>this.onEmulationStateUpdated(e));s.listen("consoleStateChange",e=>{if(e.isSplit){this.onConsoleStateChanged(e.shown);e.shown?this._testEventObject.fireEvent("consolestateshown"):this._testEventObject.fireEvent("consolestatehidden")}});s.register("refreshPage",async()=>{this.onRefreshPage()});s.register("showHelp",async()=>{this.onHelpButtonClicked()});s.register("cycleDock",async()=>{p.t!==y.b.ServiceWorker&&p.t!==y.b.ExtensionBackground&&p.t!==y.b.ExtensionPopup&&this.onDockButtonClicked(5)});s.register("bringRemoteToForegound",async()=>{this.onBringToForgroundButtonClicked()});s.register("toggleForegound",async()=>{const e=p.n().dockState;3===e||4===e?this.onCloseButtonClicked():this.onBringToForgroundButtonClicked()});s.register("attachSelfTests",async()=>{this.attachSelfTests()});s.register("tabSelected",async e=>{this._tabControl.selectTabById(e,!1)});s.register("tabSelectedByIndex",async e=>{this._tabControl.selectTabByIndex(e)});s.register("tabSelectedByDirection",async e=>{this._tabControl.selectTabByDirection(e)});s.register("tabSelectedByHistory",async e=>{this._tabControl.selectTabByHistory(e)});s.register("floodOverNotification",async(e,t)=>{const s=Date.now()-t;V.log("RemoteMessageFloodFinishedDrain",{correlationId:e,duration:s},2,i.b.Measure)});o.b.addEventListener("run",()=>this.onDebuggerExecutionStateUpdated(!1));o.b.addEventListener("break",()=>this.onDebuggerExecutionStateUpdated(!0));o.b.addEventListener("jsonmessage",e=>{if(e.targetPluginId===y.c.header){const t=JSON.parse(e.message);switch(t.method){case"profilerstarted":{const e=t.params[0];this.onProfilerStateUpdated(e,!0);break}case"profilerstopped":{const e=t.params[0];this.onProfilerStateUpdated(e,!1);break}}}});if(e){this._rpcWrapper=new w;this._rpcWrapper.onLoadComplete(this)}s.register("PopupHidden",async()=>{document.getElementById("overflowButton").classList.remove("menuOpen");return 0});s.register("OverflowPopupShown",async()=>{document.getElementById("overflowButton").classList.add("menuOpen");return 0});d.a.registerNavigationFrames([d.a.makeNavigationFrameFromCallback(document.body,()=>this._tabControl.selectedElement?this._tabControl.selectedElement:document.getElementById("overflowButton"))]);d.a.registerFocusHandlers(y.c.header);this._isInitialized=this._jmcService.initialize().then(()=>{V.logPerformance({id:g.a.Header_InitializeTabs_Start});this.initializeTabs();o.b.addEventListener("break",()=>this.onBreakStateChange(!0));o.b.addEventListener("run",()=>this.onBreakStateChange(!1));o.b.addEventListener("toolselected",e=>{const t=e.pluginId;this.onTabSelectedByControl(t)});this.onBreakStateChange(b.b());this.onConsoleStateChanged(!1);if(p.x===o.a.Edge){o.b.addEventListener("dockstatechanged",e=>this.onDockStateChanged(e));this.onDockStateChanged(p.n())}V.logPerformance({id:g.a.Header_InitializeTabs_Stop});window.setImmediate(()=>{Object(p.A)(y.c.header)});Object(f.g)().call("ms:host","postPendingMessageToPlugin",[y.c.header]);this._isReady=!0;this._testEventObject.fireEvent("headerReady");v.markToolReady(y.c.header);E.startPreload(y.c.header)});Object(l.a)()}get isReady(){return this._isReady}get testEventObject(){return this._testEventObject}get jmcService(){return this._jmcService}get currentTitle(){return this._currentTitle}get selectedTabElement(){return this._tabControl.selectedTab}get selectedTabName(){return this._tabControl.selectedTabName}get selectedTabPluginId(){return this._tabControl.selectedTabPluginId}async attachSelfTests(){if(T.b()){(await s.e(1).then(s.bind(null,240))).init();this._selfTestService.onAttach()}}onDetached(){this._jmcService.save()}onInspectElement(e){e&&Object(p.D)(e);Object(p.a)(this._pluginForInspectElement)}onDocumentComplete(e){this._currentTitle&&T.b()&&this._selfTestService.onRefresh();this._currentTitle=u.a.createShortenedUrlText(e);if(o.b.isWinRTHost){window.Windows.UI.ViewManagement.ApplicationView.getForCurrentView().title=this._currentTitle}}onSelfTestPageEvent(e){T.b()&&this._selfTestService.onSelfTestPageEvent(e)}onConsoleErrorsUpdated(e){this._isFirstConsoleBadgeUpdate&&V.logPerformance({id:g.a.Console_Badge_Show_Start});1===e?this._tabControl.showBadge(y.c.console,M.Error,Object(m.b)("BadgeConsoleSingleError"),e):e>0?this._tabControl.showBadge(y.c.console,M.Error,Object(m.b)("BadgeConsoleErrorCount",e),e):this._tabControl.hideBadge(y.c.console);if(this._isFirstConsoleBadgeUpdate){this._logConsoleBadgeShown();this._isFirstConsoleBadgeUpdate=!1}return!0}onProfilerStateUpdated(e,t){if(t){e===y.c.network&&this._isFirstNetworkBadgeUpdate&&V.logPerformance({id:g.a.Network_Badge_Show_Start});this._tabControl.showBadge(e,M.Running,Object(m.b)("BadgeProfilerActive"));if(e===y.c.network&&this._isFirstNetworkBadgeUpdate){this._logNetworkBadgeShown();this._isFirstNetworkBadgeUpdate=!1}}else this._tabControl.hideBadge(e);return!0}onEmulationStateUpdated(e){e?this._tabControl.showBadge(y.c.emulation,M.Info,Object(m.b)("BadgeEmulationActive")):this._tabControl.hideBadge(y.c.emulation);return!0}onDebuggerExecutionStateUpdated(e){e?this._tabControl.showBadge(y.c.debugger,M.Paused,Object(m.b)("BadgeDebuggerPaused")):this._tabControl.hideBadge(y.c.debugger);return!0}onCloseButtonClicked(){this._headerDispatch.closeF12()}onDockButtonClicked(e){this._headerDispatch.setDockState(e)}onBringToForgroundButtonClicked(){b.b()||this._headerDispatch.toggleForegroundWindow()}onConsoleButtonClicked(){Object(f.g)().call("ms:host","toggleConsole",[])}onHelpButtonClicked(){Object(p.B)(W.HELP_LINK)}onFeedbackButtonClicked(){Object(p.B)(W.FEEDBACK_LINK)}onDockStateChanged(e){(document.body.classList.contains("displayVerticalDock")||document.body.classList.contains("displayUndock")||document.body.classList.contains("displayHorizontal"))&&this.setDockStateClasses(e.dockState)}setDockStateClasses(e){switch(e){case 4:document.body.classList.add("displayHorizontalDock");document.body.classList.add("displayUndock");document.body.classList.remove("displayVerticalDock");break;case 2:document.body.classList.add("displayVerticalDock");document.body.classList.add("displayHorizontalDock");document.body.classList.remove("displayUndock");break;default:case 3:document.body.classList.add("displayVerticalDock");document.body.classList.add("displayUndock");document.body.classList.remove("displayHorizontalDock")}}initializeForSupportedFeatures(){Object(a.isF12FeatureEnabled)("WindowManipulation")||document.body.classList.add("chooserWindow");Object(a.isF12FeatureEnabled)("SplitConsole")||document.body.classList.add("noSplitConsole")}onBreakStateChange(e){r.a.changeButtonStatus(this._bringIEToForegroundButton,!e);e?this._tabControl.showBadge(y.c.debugger,M.Break,Object(m.b)("BadgeDebuggerPaused")):this._tabControl.hideBadge(y.c.debugger)}onConsoleStateChanged(e){const t=e?"HideConsoleButtonTooltip":"ShowConsoleButtonTooltip";r.a.setButtonTooltip(this._consoleButton,t);r.a.changeButtonStatus(this._consoleButton,!0,e);return!0}initializeTabs(){const e=Object(a.getSupportedPlugins)(p.x,p.t);for(let t=0;t<e.length;t++){const s=e[t].id,i=e[t].scriptId;let r=e[t].scriptId,o=e[t].scriptId;try{const e=Object(a.getPluginManifest)(i);e.name&&(r=e.name);if(e.f12&&"string"==typeof e.f12.localized_tooltip_id){let s=Object(m.b)(e.f12.localized_tooltip_id);"StorageTool"!==e.f12.localized_tooltip_id&&"ServiceWorkerLabel"!==e.f12.localized_tooltip_id||(s+=" {0}");if(s){o=(o=s.replace("{0}","")).trim();const e=t+1;r=s.replace("{0}","(Ctrl+"+e+")")}}}catch(e){}let n=1;s===y.c.dom||s===y.c.elements?n=0:s===y.c.console&&(n=2);this._tabControl.addTab(s,i,o,r,n)}e.find(e=>e.id===y.c.elements)&&(this._pluginForInspectElement=y.c.elements);const t=this._headerDispatch.currentTabId,s=o.b.launchPluginId||t;s&&-1!==s&&this._tabControl.selectTabById(s);this._tabControl.onResize()}onTabSelectedByControl(e){Object(p.a)(e)}onWindowActivation(e){if(e){document.body.classList.remove("inactiveWindow");document.getElementById("overflowButton").classList.remove("inactiveWindow")}return!0}onToggleAlwaysRefreshFromServer(e){this._rpcWrapper.toggleAlwaysRefreshFromServer(e);return!0}onRefreshPage(){this._rpcWrapper.refreshPage();return!0}}W.HELP_LINK="https://go.microsoft.com/fwlink/p/?LinkID=873079";W.FEEDBACK_LINK="windows-feedback:?contextid=344&tabid=2&newFeedback=true";var G=s(70);document.addEventListener("DOMContentLoaded",async()=>{await Object(G.a)();window.HeaderControl=new W})}});
