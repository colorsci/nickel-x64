!function(e){function t(t){for(var r,a,n=t[0],l=t[1],d=t[2],m=0,c=[];m<n.length;m++){a=n[m];s[a]&&c.push(s[a][0]);s[a]=0}for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);h&&h(t);for(;c.length;)c.shift()();o.push.apply(o,d||[]);return i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],r=!0,n=1;n<i.length;n++){var l=i[n];0!==s[l]&&(r=!1)}if(r){o.splice(t--,1);e=a(a.s=i[0])}}return e}var r={},s={10:0},o=[];function a(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};e[t].call(i.exports,i,i.exports,a);i.l=!0;return i.exports}a.m=e;a.c=r;a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})};a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})};a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};a.d(t,"a",t);return t};a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};a.p="";var n=window.webpackJsonp=window.webpackJsonp||[],l=n.push.bind(n);n.push=t;n=n.slice();for(var d=0;d<n.length;d++)t(n[d]);var h=l;o.push([206,4]);i()}({206:function(e,t,i){"use strict";i.r(t);var r=i(70),s=i(131),o=i(10),a=i(6),n=i(34),l=i(84),d=i(4),h=i(8),m=i(19),c=i(15);class u extends m.a{constructor(e){super(e||"Network.defaultGridSplitterTemplate");this.minPosition=Number.MIN_VALUE;this.maxPosition=Number.MAX_VALUE;this.dragged=new c.a;this.resized=new c.a;this._mode=u.HORIZONTAL;this._alignment=u.LEFT;this._defaultPosition=u.DEFAULT_POSITION;this._position=this._defaultPosition;this._mouseMoveHandler=(e=>this.onMouseMove(e));this._mouseUpHandler=(e=>this.onMouseUp(e));this.rootElement.addEventListener("mousedown",e=>this.onMouseDown(e));new MutationObserver(this.onDOMNodeInserted.bind(this)).observe(document.body,{childList:!0,subtree:!0})}get mode(){return this._mode}set mode(e){this._mode=e.toLowerCase()}get alignment(){return this._alignment}set alignment(e){this._alignment=e.toLowerCase()}get size(){this._size||(this._mode===u.HORIZONTAL?this._size=this.rootElement.offsetWidth:this._size=this.rootElement.offsetHeight);return this._size}get defaultPosition(){return this._defaultPosition}set defaultPosition(e){this._defaultPosition=e}get position(){return this._position}set position(e){this._position=e;this._mode===u.HORIZONTAL?this.rootElement.parentElement.style.msGridColumns=this.makeGridDefinition(e):this.rootElement.parentElement.style.msGridRows=this.makeGridDefinition(e);this.onPositionChangedOverride();this._previousPanel&&this._previousPanel.onSplitterPositionChanged(this);this._nextPanel&&this._nextPanel.onSplitterPositionChanged(this)}endDragging(){document.removeEventListener("mousemove",this._mouseMoveHandler,!0);document.removeEventListener("mouseup",this._mouseUpHandler,!0);this.resized.invoke(this.position)}onPanelsInitializedOverride(){}onPositionChangedOverride(){}onDOMNodeInserted(e,t){for(var i=0;i<e.length;i++){var r=e[i];if(r.target instanceof HTMLElement&&r.target.contains(this.rootElement)){t.disconnect();this.initialize();return}}}getPanelFromElement(e){var t=e.control;return t&&t.onSplitterPositionChanged?t:null}initialize(){d.a.hasValue(this.rootElement.parentElement,"GridSplitter must be attached to DOM to initialize");d.a.hasValue(this.rootElement.previousElementSibling,"GridSplitter must have earlier DOM sibling to initialize");d.a.hasValue(this.rootElement.nextElementSibling,"GridSplitter must have latter DOM sibling to initialize");var e=this.rootElement.previousElementSibling;this._previousPanel=this.getPanelFromElement(e);var t=this.rootElement.nextElementSibling;this._nextPanel=this.getPanelFromElement(t);this.rootElement.parentElement.style.display="-ms-grid";this.rootElement.style.position="absolute";if(this._mode===u.HORIZONTAL){this.rootElement.parentElement.style.msGridColumns=this.makeGridDefinition(this.position);this.rootElement.parentElement.style.msGridRows="100%";e.style.msGridColumn="1";this.rootElement.style.msGridColumn="2";t.style.msGridColumn="3";this.rootElement.style.cursor="ew-resize";this.rootElement.style.height="100%"}else{this.rootElement.parentElement.style.msGridColumns="100%";this.rootElement.parentElement.style.msGridRows=this.makeGridDefinition(this.position);e.style.msGridRow="1";this.rootElement.style.msGridRow="2";t.style.msGridRow="3";this.rootElement.style.cursor="ns-resize";this.rootElement.style.width="100%"}this.onPanelsInitializedOverride()}onMouseDown(e){document.addEventListener("mousemove",this._mouseMoveHandler,!0);document.addEventListener("mouseup",this._mouseUpHandler,!0)}onMouseMove(e){if(e.buttons){var t;if(this._mode===u.HORIZONTAL){var i=e.pageX-this.rootElement.parentElement.offsetLeft;t=this._alignment===u.RIGHT?this.rootElement.parentElement.offsetWidth-i:i}else{var r=e.pageY-this.rootElement.offsetTop;t=this._alignment===u.BOTTOM?this.rootElement.parentElement.offsetHeight-r:r}this.position=t;this.dragged.invoke(t)}else this.onMouseUp(e)}onMouseUp(e){this.endDragging()}makeGridDefinition(e){if(0!==e){e=Math.max(this.minPosition,e);e=Math.min(e,this.maxPosition)}return this._alignment===u.TOP||this._alignment===u.LEFT?e+"px "+this.size+"px 1fr":"1fr "+this.size+"px "+e+"px"}}u.DEFAULT_POSITION=100;u.HORIZONTAL="horizontal";u.VERTICAL="vertical";u.LEFT="left";u.TOP="top";u.RIGHT="right";u.BOTTOM="bottom";class p extends u{constructor(e){super(e||"Network.collapsibleGridSplitterTemplate");this.collapsibleMarginSize=p.COLLAPSIBLE_MARGIN_SIZE}static initialize(){h.a.defineProperty(p,p.IsCollapsedPropertyName,!1,(e,t,i)=>e.onIsCollapsedChanged())}onApplyTemplate(){super.onApplyTemplate();if(this.rootElement){this._splitterButton=this.getNamedElement("splitterButton");d.a.isTrue(!!this._splitterButton,"Expecting a button element with the name splitterButton.");this._splitterButton.addEventListener("click",()=>{this.isCollapsed=!this.isCollapsed});this.updateSplitterButtonContent()}}onPanelsInitializedOverride(){super.onPanelsInitializedOverride();this.updatePanelDisplayAttribute()}onPositionChangedOverride(){super.onPositionChangedOverride();if(!this.isCollapsed&&this.position<=this.collapsibleMarginSize){this.endDragging();this.isCollapsed=!0}else this.position>this.collapsibleMarginSize&&(this.isCollapsed=!1)}onIsCollapsedChanged(){this.updatePanelDisplayAttribute();if(this.isCollapsed){this._originalPosition=this.position;this.position=0}else this.position=this._originalPosition>this.collapsibleMarginSize?this._originalPosition:this.defaultPosition;this.updateSplitterButtonContent()}updatePanelDisplayAttribute(){var e;(e=this.alignment===u.TOP||this.alignment===u.LEFT?this._previousPanel:this._nextPanel)&&(this.isCollapsed?e.rootElement.classList.add(m.a.CLASS_HIDDEN):e.rootElement.classList.remove(m.a.CLASS_HIDDEN))}updateSplitterButtonContent(){this._splitterButton.textContent=this.isCollapsed?"<":">"}}p.COLLAPSIBLE_MARGIN_SIZE=30;p.IsCollapsedPropertyName="isCollapsed";p.initialize();var g=i(128),y=i(23);class _{}_.DECIMAL_TO_PERCENTAGE=100;_.HAR_CREATOR_NAME="F12 Developer Tools";_.HAR_EXPORTED_VERSION="1.2";_.NETJSON_EXPORTED_IDENTITY="Perftools.Network.Netjson";_.NETJSON_EXPORTED_FILE_NAME="network.netjson";_.NETJSON_MAJOR_VERSION=0;_.NETJSON_MINOR_VERSION=1;_.WINDOWS_E_ABORT=-2147467260;_.CACHE_HIT_COLOR="#72c2b1";_.CONNECTING_COLOR="#117ad1";_.DOWNLOADING_COLOR="#71b252";_.PROXY_COLOR="#7564ff";_.RESOLVING_COLOR="#79d7f2";_.SENDING_COLOR="#bf3f00";_.SSL_COLOR="#903f8b";_.STALLED_COLOR="#ababab";_.WAITING_COLOR="#fcb714";_.DATA_RECEIVED_NOTIFICATION="Network.dataReceived";_.LOADING_FAILED_NOTIFICATION="Network.loadingFailed";_.LOADING_FINISHED_NOTIFICATION="Network.loadingFinished";_.REQUEST_SERVED_FROM_CACHE_NOTIFICATION="Network.requestServedFromCache";_.REQUEST_WILL_BE_SENT_NOTIFICATION="Network.requestWillBeSent";_.RESPONSE_RECEIVED_NOTIFICATION="Network.responseReceived";class C{static initialize(){C.ByteSizeToStringConverter=C.getByteSizeToStringConverter();C.DecimalToPercentageStringConverter=C.getDecimalToPercentageStringConverter();C.StatusCodeToClassNameConverter=C.getStatusCodeToClassNameConverter();C.TimeStampToStringConverter=C.getTimeStampToStringConverter();C.UrlHasNoNameConverter=C.getUrlHasNoNameConverter();C.UrlToFilenameConverter=C.getUrlToFilenameConverter();C.UrlToHostnameConverter=C.getUrlToHostnameConverter();C.UrlToPathConverter=C.getUrlToPathConverter();C.ZeroToEmptyStringConverter=C.getZeroToEmptyStringConverter();C.TimingsStateIsServedFromCacheConverter=C.timingsStateIsServedFromCacheConverter();C.TimeStampToTimeStringConverter=C.getTimeStampToTimeStringConverter()}static getByteSizeToStringConverter(){return{convertTo:e=>void 0===e||null===e?"":y.a.getPrettyPrintSize(e),convertFrom:null}}static getDecimalToPercentageStringConverter(){return{convertTo:e=>e?e*_.DECIMAL_TO_PERCENTAGE+"%":"0%",convertFrom:null}}static getTimeStampToTimeStringConverter(){return{convertTo:e=>e&&void 0!==e.nsec?y.a.getPrettyPrintTime(e,{showTimeOnly:!0}):"",convertFrom:null}}static getTimeStampToStringConverter(){return{convertTo:e=>e&&void 0!==e.nsec?y.a.getPrettyPrintTime(e):"",convertFrom:null}}static getStatusCodeToClassNameConverter(){return{convertTo:e=>e>=400?"cellStyle-errorResponse":"",convertFrom:null}}static getUrlHasNoNameConverter(){return{convertTo:e=>!C.getNameFromUrl(e),convertFrom:null}}static getUrlToFilenameConverter(){return{convertTo:e=>C.getNameFromUrl(e),convertFrom:null}}static getUrlToHostnameConverter(){return{convertTo:e=>C.getHostFromUrl(e),convertFrom:null}}static getUrlToPathConverter(){return{convertTo:e=>{if(e){var t=e.split("?",1);if(t.length>0){var i=t[0],r=i.lastIndexOf("/");if(r>=0)return i.substr(0,r+1)}}return""},convertFrom:null}}static getZeroToEmptyStringConverter(){return{convertTo:e=>e?e.toString():"",convertFrom:null}}static getHostFromUrl(e){if(!e)return"";var t=e.indexOf("://");-1!==t&&(e=e.substr(t+3));var i=e.indexOf("/");-1!==i&&(e=e.substr(0,i));return e}static getNameFromUrl(e){if(e){var t=e.indexOf("?"),i=e.lastIndexOf("/",t>=0?t:e.length);if(i>=0)return e.substr(i+1)}return""}static timingsStateIsServedFromCacheConverter(){return{convertTo:e=>1===e,convertFrom:null}}}C.initialize();var T=i(2),f=i(0),v=i(38),S=i(119),b=i(142),I=i(158),E=i(141),P=i(120);class w{constructor(e){d.a.hasValue(e,"Need to set a valid source");this._source=e;this._sourceSpans=null;this._earlyEnd=!1}get sourceSpans(){null===this._sourceSpans&&this.findScriptTags();return this._sourceSpans}static isSupportedScript(e,t){var i=e?e.toLocaleLowerCase():"",r=t?t.toLocaleLowerCase():"";return!i&&!r||"text/javascript"===i||"text/jscript"===i||"application/javascript"===i||"application/x-javascript"===i||"text/ecmascript"===i||"javascript"===r||"jscript"===r||"ecmascript"===r}findScriptTags(){this._index=0;this._sourceSpans=[];this._htmlStart=0;var e=this._source;do{if("<"===e[this._index]){if(this._index+1>=e.length)break;"!"===e[this._index+1]?this._index+3<this._source.length&&"-"===this._source[this._index+2]&&"-"===this._source[this._index+3]?this.parseComment():this.parseTag():"?"===e[this._index+1]?this.parseTag():(e[this._index+1].match(/[a-zA-Z]/)||"_"===e[this._index+1]||"/"===e[this._index+1]&&this._index+2<e.length&&(e[this._index+2].match(/a-zA-Z/)||"_"===e[this._index+2]))&&this.parseTag()}}while(++this._index<e.length);this._earlyEnd||this._sourceSpans.push(new P.a(this._htmlStart,this._source.length-1,!1))}parseComment(){d.a.areEqual(this._source[this._index],"<");d.a.areEqual(this._source[this._index+1],"!");d.a.areEqual(this._source[this._index+2],"-");d.a.areEqual(this._source[this._index+3],"-");this._index+=3;for(;++this._index<this._source.length;)if("-"===this._source[this._index]&&this._index+2<this._source.length&&"-"===this._source[this._index+1]&&">"===this._source[this._index+2]){this._index+=2;return}}parseTag(){d.a.areEqual(this._source[this._index],"<");var e=!1;this._index+1<this._source.length&&("/"===this._source[this._index+1]||"!"===this._source[this._index+1]||"?"===this._source[this._index+1])&&(e=!0);for(var t,i,r=!1,s=!1,o=!1,a=!1,n="",l="";++this._index<this._source.length;)switch(this._source[this._index]){case">":"/"!==this._source[this._index-1]&&"?"!==this._source[this._index-1]||(e=!0);if(!e&&t&&"script"===t.toLowerCase()){++this._index;this.findScriptEnd(n,l)}return;case'"':i=this.parseQuotedValue('"');r=!1;if(o){n=i;o=!1}if(a){l=i;a=!1}break;case"'":i=this.parseQuotedValue("'");r=!1;if(o){n=i;o=!1}if(a){l=i;a=!1}break;case"=":r=!0;break;default:if(r&&!this._source[this._index].match(/\s/)){i=this.parsePropertyValue();r=!1;if(o){n=i;o=!1}if(a){l=i;a=!1}}else if(this._source[this._index].match(/[a-zA-Z]/)||"_"===this._source[this._index])if(s)"type"===(i=this.parseAttribute()).toLowerCase()?o=!0:"language"!==i.toLowerCase()||o||(a=!0);else{t=this.parseElement();s=!0}}}findScriptEnd(e,t){var i=this._index,r=w.isSupportedScript(e,t),s="</script";do{if("<"===this._source[this._index]&&this._index+s.length<this._source.length&&this._source.substr(this._index,s.length).toLowerCase()===s){this._index-=1;var o=this._index;if(r&&i<o){var a=new P.a(this._htmlStart,i-1,!1);this._sourceSpans.push(a);this._htmlStart=o+1;a=new P.a(i,o,!0);this._sourceSpans.push(a)}break}}while(++this._index<this._source.length);if(this._index===this._source.length&&r){a=new P.a(this._htmlStart,i-1,!1);this._sourceSpans.push(a);a=new P.a(i,this._index-1,!0);this._sourceSpans.push(a);this._earlyEnd=!0}}parseQuotedValue(e){d.a.isTrue('"'===e||"'"===e,"Invalid quote type");d.a.areEqual(this._source[this._index],e);for(var t="";++this._index<this._source.length;){if(this._source[this._index]===e)return t;"\n"===this._source[this._index]||(t+=this._source[this._index])}d.a.fail("Should not be here");return null}parsePropertyValue(){var e="";do{switch(this._source[this._index]){case">":this._index--;return e;default:if(this._source[this._index].match(/\s/)){this._index--;return e}e+=this._source[this._index]}}while(++this._index<this._source.length);d.a.fail("Should not be here");return e}parseElement(){d.a.isTrue(this._source[this._index].match(/[a-zA-Z_]/),"Non alpha or underscore character");var e="";e+=this._source[this._index];for(;++this._index<this._source.length;)switch(this._source[this._index]){case":":e+=this._source[this._index];break;default:if(!this._source[this._index].match(/[a-zA-Z0-9]/)&&"_"!==this._source[this._index]&&"."!==this._source[this._index]&&"-"!==this._source[this._index]){this._index--;return e}e+=this._source[this._index]}d.a.fail("Should not be here");return e}parseAttribute(){d.a.isTrue(this._source[this._index].match(/[a-zA-Z_]/),"Non alpha or underscore character");var e="";e+=this._source[this._index];for(;++this._index<this._source.length;)switch(this._source[this._index]){case".":case":":e+=this._source[this._index];break;case"-":case"_":e+=this._source[this._index];break;default:if(!this._source[this._index].match(/[a-zA-Z0-9]/)){this._index--;return e}e+=this._source[this._index]}d.a.fail("Should not be here");return e}}class R{static supportsMimeType(e){if(e){var t=e.toLowerCase();return"application/json"===t||"text/x-json"===t}return!1}format(e){this._text="";this._indentation=new N;try{var t=JSON.parse(e);this.printItem(t);return this._text}catch(t){return e}}printItem(e){null===e?this._text+="null":e instanceof Array?this.printArray(e):"object"==typeof e?this.printObject(e):"string"==typeof e?this._text+='"'+e+'"':"number"==typeof e?this._text+=e:"boolean"==typeof e&&(this._text+=e)}printArray(e){e.length>1?this.printLongArray(e):this.printShortArray(e)}printObject(e){Object.getOwnPropertyNames(e).length>1?this.printLongObject(e):this.printShortObject(e)}printLongArray(e){this._text+="[\n";this._indentation.increase();for(var t=0;t<e.length;t++){this._text+=this.indent();this.printItem(e[t]);t<e.length-1&&(this._text+=",");this._text+="\n"}this._indentation.decrease();this._text+=this.indent()+"]"}printShortArray(e){this._text+="[";e.length>0&&this.printItem(e[0]);this._text+="]"}printLongObject(e){var t=Object.getOwnPropertyNames(e);this._text+="{\n";this._indentation.increase();for(var i=0;i<t.length;i++){var r=t[i];this._text+=this.indent()+'"'+r+'": ';this.printItem(e[r]);i<t.length-1&&(this._text+=",");this._text+="\n"}this._indentation.decrease();this._text+=this.indent();this._text+="}"}printShortObject(e){var t=Object.getOwnPropertyNames(e);this._text+="{";if(t.length>0){this._text+='"'+t[0]+'": ';this.printItem(e[t[0]])}this._text+="}"}indent(){return this._indentation.print()}}class N{constructor(){this._indentDepth=0;this._indentString=""}increase(){this._indentDepth++;this._indentString+="    "}decrease(){this._indentDepth--;this._indentString=this._indentString.substring(0,4*this._indentDepth)}print(){return this._indentString}}var x=i(83),M=i(31),k=i(40),O=i(137),L=i(64),D=i(112),A=i(61),H=i(45),F=i(94),B=i(69),V=i(42),q=i(27),z=i(59),j=i(114);class U{constructor(e=[]){this._list=e.slice(0);this._filteredList=this._list;this._mutableItemsLog=[];this.propertyChanged=new c.a;this.collectionChanged=new c.a}get filter(){return this._filter}set filter(e){if(this._filterChangedEventRegistration){this._filterChangedEventRegistration.unregister();this._filterChangedEventRegistration=null}if(e){this._filter=e;this._filterChangedEventRegistration=this._filter.filterChanged.addHandler(this.onFilterChanged.bind(this))}}get length(){return this._filteredList.length}get lengthOfOriginalList(){return this._list.length}getFilteredArray(){return this._filteredList}getOriginalArray(){return this._list}push(...e){var t,i=this._list.length,r=Array.prototype.push.apply(this._list,e),s=0;if(this._filter&&this._filteredList!==this._list){s=this._filteredList.length;r=(t=this.filterAndPushItems(e)).length}else{s=i;t=e}this.propertyChanged.invoke(U.LengthProperty);this.invokeCollectionChanged(0,t,s);return r}pop(){var e=this._filteredList.pop();if(this._filteredList!==this._list){var t=this._list.lastIndexOf(e);d.a.isTrue(t>=0,"Unable to pop unknown item");this._list.splice(t,1)}this.propertyChanged.invoke(U.LengthProperty);this.invokeCollectionChanged(1,null,null,[e],this._filteredList.length);return e}indexOf(e,t){return this._filteredList.indexOf(e,t)}indexOfFromOriginalList(e,t){return this._list.indexOf(e,t)}lastIndexOf(e,t=-1){return this._filteredList.lastIndexOf(e,t)}lastIndexOfFromOriginalList(e,t=-1){return this._list.lastIndexOf(e,t)}clear(){var e=this._list;this._list=[];this._filteredList=[];this.clearBacklogFilterItems();this.propertyChanged.invoke(U.LengthProperty);this.invokeCollectionChanged(3,null,null,e,0)}onFilterChanged(){this.runFilter()}map(e,t){return this._filteredList.map(e,t)}getItem(e){return this._filteredList[e]}getItemFromOriginalList(e){return this._list[e]}resetItems(e){this._list=e.slice(0);this._filteredList=this._list;return this.runFilter().length}runFilter(){this.clearBacklogFilterItems();this._filteredList=[];var e=this.filterAndPushItems(this._list);this.propertyChanged.invoke(U.LengthProperty);this.invokeCollectionChanged(2);return e}filterAndPushItems(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];0===this._filter.getFilterState(r)&&t.push(r);this._filter.isFilteredValueMutable(r)&&r.propertyChanged&&this._mutableItemsLog.push({item:r,position:this._filteredList.length+t.length,propertyChangedEventRegistration:r.propertyChanged.addHandler(this.backlogItemPropertyChanged.bind(this,r))})}Array.prototype.push.apply(this._filteredList,t);return t}clearBacklogFilterItems(){for(var e=0;e<this._mutableItemsLog.length;e++)this._mutableItemsLog[e].propertyChangedEventRegistration&&this._mutableItemsLog[e].propertyChangedEventRegistration.unregister();this._mutableItemsLog=[]}backlogItemPropertyChanged(e,t){if(this._filteredList!==this._list&&this.filter.isValidFilterProperty(t)){var i=this.findBacklogItem(e),r=this._filter.getFilterState(i.item),s=this._filteredList.indexOf(e);if(0===r&&-1===s){this._filteredList.splice(i.position,0,i.item);this.propertyChanged.invoke(U.LengthProperty);this.invokeCollectionChanged(0,[i.item],i.position)}else if(1===r&&s>-1){this._filteredList.splice(s,1);this.propertyChanged.invoke(U.LengthProperty);this.invokeCollectionChanged(1,[e],s)}this._filter.isFilteredValueMutable(i.item)||this.removeItemFromBacklog(i)}}findBacklogItem(e){for(var t,i=0;i<this._mutableItemsLog.length;i++)if(this._mutableItemsLog[i].item===e){t=this._mutableItemsLog[i];break}return t}removeItemFromBacklog(e){var t=this._mutableItemsLog.indexOf(e);this._mutableItemsLog.splice(t,1);if(t>-1)for(var i=t;i<this._mutableItemsLog.length;i++)this._mutableItemsLog[i].position++;e.propertyChangedEventRegistration.unregister()}invokeCollectionChanged(e,t,i,r,s){var o={action:e,newItems:t,newStartingIndex:i,oldItems:r,oldStartingIndex:s};this.collectionChanged.invoke(o)}}U.LengthProperty="length";var G=i(26),W=i(13);class K extends h.b{constructor(){super();this.filterChanged=new c.a}get isFilterApplied(){return!this.displayAll}static initialize(){h.a.defineProperty(K,K.DisplayAllProperty,!0,(e,t,i)=>e.onContentTypeFilterChanged(t,i,!0),(e,t,i)=>e.toggleAllContentTypeFilter(t,i));h.a.defineProperty(K,K.DisplayDocumentsProperty,!1,(e,t,i)=>e.onContentTypeFilterChanged(t,i));h.a.defineProperty(K,K.DisplayFontsProperty,!1,(e,t,i)=>e.onContentTypeFilterChanged(t,i));h.a.defineProperty(K,K.DisplayImagesProperty,!1,(e,t,i)=>e.onContentTypeFilterChanged(t,i));h.a.defineProperty(K,K.DisplayMediaProperty,!1,(e,t,i)=>e.onContentTypeFilterChanged(t,i));h.a.defineProperty(K,K.DisplayOtherProperty,!1,(e,t,i)=>e.onContentTypeFilterChanged(t,i));h.a.defineProperty(K,K.DisplayScriptsProperty,!1,(e,t,i)=>e.onContentTypeFilterChanged(t,i));h.a.defineProperty(K,K.DisplayStylesheetsProperty,!1,(e,t,i)=>e.onContentTypeFilterChanged(t,i));h.a.defineProperty(K,K.DisplayXHRProperty,!1,(e,t,i)=>e.onContentTypeFilterChanged(t,i))}isValidFilterProperty(e){return K.FILTER_PROPERTIES.indexOf(e)>=0}getFilterState(e){var t=this.getContentTypeFilter();if(t.displayAll)return 0;var i=this.getContentTypeValue(e.contentType),r=this.getContentTypeFilterState(i,t);1===r&&t.displayXHR&&(r=this.getXHRFilterState(e.initiatorType));return r}isFilteredValueMutable(e){return!e.contentType||!e.initiatorType}getContentTypeFilterState(e,t){switch(e){case 1:return this.itemFilterState(t.displayDocuments);case 6:return this.itemFilterState(t.displayFonts);case 3:return this.itemFilterState(t.displayImages);case 5:return this.itemFilterState(t.displayMedia);case 8:return this.itemFilterState(t.displayOther);case 4:return this.itemFilterState(t.displayScripts);case 2:return this.itemFilterState(t.displayStylesheets);case 8:return this.itemFilterState(t.displayOther);default:return 1}}getXHRFilterState(e){return e===K.XHR_INITIATOR_TYPE?0:1}itemFilterState(e){return e?0:1}onContentTypeFilterChanged(e,t,i=!1){i||(this.displayFonts||this.displayDocuments||this.displayImages||this.displayMedia||this.displayOther||this.displayScripts||this.displayStylesheets||this.displayXHR?this.displayAll=!1:this.displayAll=!0);this.filterChanged.invoke()}toggleAllContentTypeFilter(e,t){if(t){this.displayFonts=!1;this.displayDocuments=!1;this.displayImages=!1;this.displayMedia=!1;this.displayOther=!1;this.displayScripts=!1;this.displayStylesheets=!1;this.displayXHR=!1}}getContentTypeFilter(){return{displayAll:this.displayAll,displayDocuments:this.displayDocuments,displayStylesheets:this.displayStylesheets,displayImages:this.displayImages,displayMedia:this.displayMedia,displayScripts:this.displayScripts,displayFonts:this.displayFonts,displayOther:this.displayOther,displayXHR:this.displayXHR}}getContentTypeValue(e){return K.CONTENT_TYPE_DOCUMENTS_REGEX.test(e)?1:K.CONTENT_TYPE_FONTS_REGEX.test(e)?6:K.CONTENT_TYPE_IMAGES_REGEX.test(e)?3:K.CONTENT_TYPE_MEDIA_REGEX.test(e)?5:K.CONTENT_TYPE_SCRIPTS_REGEX.test(e)?4:K.CONTENT_TYPE_STYLESHEETS_REGEX.test(e)?2:8}}K.CONTENT_TYPE_DOCUMENTS_REGEX=/^text\/html$/;K.CONTENT_TYPE_FONTS_REGEX=/^(font\/.*|application\/font.*)/;K.CONTENT_TYPE_IMAGES_REGEX=/^(image)\/.*/;K.CONTENT_TYPE_MEDIA_REGEX=/^(audio|video)\/.*/;K.CONTENT_TYPE_SCRIPTS_REGEX=/^(text|application)\/.*script$/;K.CONTENT_TYPE_STYLESHEETS_REGEX=/^text\/css$/;K.XHR_INITIATOR_TYPE="XMLHttpRequest";K.FILTER_PROPERTIES=["contentType","initiatorType"];K.DisplayAllProperty="displayAll";K.DisplayDocumentsProperty="displayDocuments";K.DisplayFontsProperty="displayFonts";K.DisplayImagesProperty="displayImages";K.DisplayMediaProperty="displayMedia";K.DisplayOtherProperty="displayOther";K.DisplayScriptsProperty="displayScripts";K.DisplayStylesheetsProperty="displayStylesheets";K.DisplayXHRProperty="displayXHR";K.initialize();var Y=i(133),X=i(130),Z=i(60);class J{static initializeAnalytics(){this.analytics=new Z.a("Network")}}J.BYPASS_SERVICE_WORKERS="BypassServiceWorkers";J.CLEAR_CACHE="ClearCache";J.CLEAR_COOKIES="ClearCookies";J.CLEAR_ON_NAVIGATE="ClearOnNavigate";J.CLEAR_SESSION="ClearSession";J.DETAIL_PANEL_TAB_CHANGE="DetailPanelTabChange";J.DETAIL_PANEL_TOGGLE="DetailPanelToggle";J.SELECTED_INDEX_CHANGED="SelectedIndexChanged";J.SHOULD_REFRESH_FROM_SERVER="ShouldRefreshFromServer";J.SUMMARY_ITEM_CHANGE="SummaryItemChange";J.analytics=new X.a;class Q{constructor(e){this._model=e;this.setupListeners()}async initializeSettings(){this._persistenceManager=new Y.a(Q.NETWORK_SETTINGS_KEY);await this.getInitialValues()}get detailsPanelCollapsed(){return this._detailsPanelCollapsed}set detailsPanelCollapsed(e){if(e!==this._detailsPanelCollapsed){this._detailsPanelCollapsed=e;this._persistenceManager.setSetting(Q.DETAILS_PANEL_COLLAPSED_KEY,e)}}get refreshFromServer(){return this._refreshFromServer}set refreshFromServer(e){if(e!==this._refreshFromServer){this._refreshFromServer=e;this._persistenceManager.setSetting(Q.REFRESH_FROM_SERVER_KEY,e)}}get clearOnNavigate(){return this._clearOnNavigate}set clearOnNavigate(e){if(e!==this._clearOnNavigate){this._clearOnNavigate=e;this._persistenceManager.setSetting(Q.CLEAR_ON_NAVIGATE_KEY,e)}}async getInitialValues(){this._model.detailsPanelCollapsed=this._persistenceManager.getSetting(Q.DETAILS_PANEL_COLLAPSED_KEY,!0);this._model.shouldRefreshFromServer=this._persistenceManager.getSetting(Q.REFRESH_FROM_SERVER_KEY,!1);this._model.shouldClearOnNavigate=this._persistenceManager.getSetting(Q.CLEAR_ON_NAVIGATE_KEY,!0)}setupListeners(){this._model.detailsPanelCollapsedChanged.addHandler(e=>{this.detailsPanelCollapsed=e});this._model.shouldClearOnNavigateChanged.addHandler(e=>{var t={ToolName:"Network",CommandName:J.CLEAR_ON_NAVIGATE,TriggerType:T.c.Ui,ActiveState:e};J.analytics.log("ExecuteCommand",t);this.clearOnNavigate=e});this._model.shouldRefreshFromServerChanged.addHandler(e=>{var t={ToolName:"Network",CommandName:J.SHOULD_REFRESH_FROM_SERVER,TriggerType:T.c.Ui,ActiveState:e};J.analytics.log("ExecuteCommand",t);this.refreshFromServer=e})}}Q.NETWORK_SETTINGS_KEY="NetworkProfilerSettings";Q.DETAILS_PANEL_COLLAPSED_KEY="detailsPanelCollapsed";Q.REFRESH_FROM_SERVER_KEY="refreshFromServer";Q.CLEAR_ON_NAVIGATE_KEY="clearOnNavigate";class $ extends h.b{constructor(e){super();this.sortByStatusCode=new c.a;this._networkModel=e;this._networkModel.summaryModel.collectionChanged.addHandler(this.triggerUpdateSummaryBar.bind(this));this._networkModel.summaryItemPropertyChanged.addHandler(this.triggerUpdateSummaryBar.bind(this));this._networkModel.propertyChanged.addHandler(this.onNetworkModelPropertyChanged.bind(this));this.updateSummaryBar()}static initialize(){h.a.defineProperty($,$.ErrorCountProperty,0);h.a.defineProperty($,$.ErrorCountStringProperty,"");h.a.defineProperty($,$.RequestCountProperty,"");h.a.defineProperty($,$.TotalSizeProperty,"");h.a.defineProperty($,$.TotalTimeProperty,"")}updateSummaryBar(){var e,t={},i=!1,r=this._networkModel.summaryModel.getOriginalArray(),s=this.getSummaryBarInfo(r);if(this._networkModel.contentTypeFilterModel.isFilterApplied){var o=this._networkModel.summaryModel.getFilteredArray();t=this.getSummaryBarInfo(o);i=!0}e=1!==s.errorCount?"SummaryBarNumberOfErrorsLabel":"SummaryBarNumberOfErrorLabel";this.errorCount=s.errorCount;this.errorCountString=this.getSummaryLabel(e,s.errorCount,i,t.errorCount);e=1!==s.requestCount?"SummaryBarNumberOfRequestsLabel":"SummaryBarNumberOfRequestLabel";this.requestCount=this.getSummaryLabel(e,s.requestCount,i,t.requestCount);this.totalSize=this.getSummaryLabel("SummaryBarDataTransferredLabel",C.ByteSizeToStringConverter.convertTo(s.totalSize),i,C.ByteSizeToStringConverter.convertTo(t.totalSize));this.totalTime=this.getSummaryLabel("SummaryBarTimeTakenLabel",C.TimeStampToStringConverter.convertTo(s.totalTime),i,C.TimeStampToStringConverter.convertTo(t.totalTime));var a=this._networkModel.domContentLoadedTime&&this._networkModel.domContentLoadedTime!==G.a.Zero,n=this._networkModel.loadEventCompletedTime&&this._networkModel.loadEventCompletedTime!==G.a.Zero;(a||n)&&(this.totalTime+=Object(f.b)("SummaryBarPageTimings",C.TimeStampToStringConverter.convertTo(this._networkModel.domContentLoadedTime),C.TimeStampToStringConverter.convertTo(this._networkModel.loadEventCompletedTime)))}onNetworkModelPropertyChanged(e){switch(e){case ie.DomContentLoadedTimeProperty:case ie.LoadEventCompletedTimeProperty:this.triggerUpdateSummaryBar()}}onSummaryBarErrorSpanClicked(){this.errorCount>0&&this.sortByStatusCode.invoke()}triggerUpdateSummaryBar(){this._updateSummaryBarTimerCookie&&window.clearTimeout(this._updateSummaryBarTimerCookie);this._updateSummaryBarTimerCookie=window.setTimeout(()=>this.updateSummaryBar(),$.UPDATE_DELAY_MILLISECONDS)}getSummaryBarInfo(e){for(var t=0,i=0,r=e.length,s=new G.a(0),o=0;o<e.length;o++){var a=e[o];a.statusCode>=400&&t++;1!==a.timingsState&&(i+=a.contentSize);s=s.add(a.totalTime)}return{errorCount:t,requestCount:r,totalSize:i,totalTime:s}}getSummaryLabel(e,t,i,r){var s="";i&&void 0!==r&&(s=Object(f.b)("SummaryBarWithFilterLabel",r));return s+Object(f.b)(e,t)}}$.UPDATE_DELAY_MILLISECONDS=250;$.ErrorCountProperty="errorCount";$.ErrorCountStringProperty="errorCountString";$.RequestCountProperty="requestCount";$.TotalSizeProperty="totalSize";$.TotalTimeProperty="totalTime";$.initialize();class ee{parse(e,t){this._cookiesText=e;this._index=0;this._isRequest=t;var i=[];if(!e||!e.trim())return i;do{i.push(this.parseHeader())}while(this.eatHeaderSeparator());this._index!==this._cookiesText.length&&d.a.failDebugOnly("Failed to parse the whole cookie string");!this._isRequest||1===i.length&&i[0].rawText===e||d.a.failDebugOnly("Request was not parsed correctly");ee.sortCookieHeaders(i);return i}static isControl(e){return e>=0&&e<=31||127===e}static isDigit(e){return e>=48&&e<=57}static isLetter(e){return e>=65&&e<=90||e>=97&&e<=122}static isTokenSeparator(e){switch(e){case";":case"=":case" ":case"\t":return!0;default:return!1}}static sortCookieHeaders(e){if(e&&e.length){var t=!e[0].isRequest;if(t){e.forEach(e=>{e.name=e.tuples.shift()});e.sort((e,t)=>ee.tupleComparer(e.name,t.name))}e.forEach(e=>{e.tuples.sort(ee.tupleComparer)});t&&e.forEach(e=>{if(e.name){e.tuples.unshift(e.name);delete e.name}})}}static tupleComparer(e,t){var i=e&&e.key||"",r=t&&t.key||"";return i.localeCompare(r)}eatHeaderSeparator(){if(this.isHeaderSeparator(this._index)){this._index+=ee.HEADER_SEPARATOR_LENGTH;return!0}return!1}eatKeyValueSeparator(){this.eatWhitespace();if("="===this._cookiesText[this._index]){++this._index;return!0}return!1}eatWhitespace(){for(;" "===this._cookiesText[this._index]||"\t"===this._cookiesText[this._index];)++this._index}isCommaPartOfDateTimeValue(e){var t=e-this._index;return 3<=t&&t<=9}isHeaderSeparator(e){return!this._isRequest&&this._cookiesText.indexOf(ee.HEADER_SEPARATOR,e)===e}parseHeader(){for(var e={isRequest:this._isRequest,rawText:null,tuples:[]},t=this._index,i=!0;this._index<this._cookiesText.length;){var r=this.parseCookieTuple(i);if(r){e.tuples.push(r);i=!!this._isRequest}else{this.eatWhitespace();if(this.isHeaderSeparator(this._index)||this._index===this._cookiesText.length)break;";"!==this._cookiesText[this._index]&&d.a.failDebugOnly("Invalid assumption - skipping character that is not a token separator");++this._index}}e.rawText=this._cookiesText.slice(t,this._index);return e}parseCookieTuple(e){var t=this.parseToken(),i=this.eatKeyValueSeparator();if(!t)return null;var r,s=t.toLocaleLowerCase();if(e)r=this.parseOctetString();else switch(s){case"domain":r=this.parseDomainValue();break;case"expires":r=this.parseExpiresValue();break;case"httponly":r=i&&this.parseValue()||"true";break;case"max-age":r=this.parseMaxAgeValue();break;case"path":r=this.parseValue();break;case"sameSite":r=this.parseSameSiteValue();break;case"secure":r=i&&this.parseValue()||"true";break;default:r=this.parseOctetString()}return{key:t,value:r=(r||"").trim()}}parseDomainValue(){return this.tryParseValue(e=>{var t=this._cookiesText.charCodeAt(e);if(ee.isLetter(t)||ee.isDigit(t))return!0;switch(this._cookiesText[e]){case".":case"-":return!0}return!1})}parseSameSiteValue(){return this.tryParseValue(e=>{var t=this._cookiesText.charCodeAt(e);return!!ee.isLetter(t)})}parseExpiresValue(){this.eatWhitespace();var e;for(e=this._index;e<this._cookiesText.length;++e){var t=this._cookiesText.charCodeAt(e);if(!ee.isLetter(t))break}this.isCommaPartOfDateTimeValue(e)&&++e;for(var i=e;i<this._cookiesText.length;++i){var r=this._cookiesText[i];if(i===this._cookiesText.length-1){++i;var s=this._index;this._index=i;return this._cookiesText.substring(s)}if(";"===r||this.isHeaderSeparator(i)){s=this._index;this._index=i;return this._cookiesText.substring(s,i)}}return null}parseMaxAgeValue(){return this.tryParseValue(e=>{var t=this._cookiesText.charCodeAt(e);return ee.isDigit(t)})}parseToken(){return this.tryParseValue(e=>!this.isHeaderSeparator(e)&&!ee.isTokenSeparator(this._cookiesText[e]))}parseOctetString(){switch(this._cookiesText[this._index]){case'"':return this.parseQuotedValue();case"{":return this.parseJsonValue();default:return this.parseValue()}}parseQuotedValue(){var e=!0,t=!1;return this.tryParseValue(i=>{var r=this._cookiesText.charCodeAt(i);if(ee.isControl(r)||t)return!1;t=!e&&34===r;e=!1;return!0})}parseJsonValue(){var e=0,t=!0,i=!1;return this.tryParseValue(r=>{var s=this._cookiesText.charCodeAt(r);if(ee.isControl(s)||i)return!1;switch(this._cookiesText[r]){case"{":e++;break;case"}":e--}i=!t&&!e;t=!1;return!0})}parseValue(){return this.tryParseValue(e=>{var t=this._cookiesText.charCodeAt(e);if(ee.isControl(t))return!1;if(this.isHeaderSeparator(e))return!1;switch(this._cookiesText[e]){case" ":case"\t":case";":case"\\":return!1;default:return!0}})}tryParseValue(e){this.eatWhitespace();for(var t=this._index;t<this._cookiesText.length;++t){if(!e(t)){if(t>this._index){var i=this._index;this._index=t;return this._cookiesText.substring(i,t)}break}if(t===this._cookiesText.length-1&&++t>this._index){i=this._index;this._index=t;return this._cookiesText.substring(i)}}return null}}ee.HEADER_SEPARATOR=", ";ee.HEADER_SEPARATOR_LENGTH=2;class te extends h.b{constructor(){super();this.id=te._NextId;te._NextId++;this._intermediateData={};this._cookieParser=new ee;this.protocolStatus=Object(f.b)("PendingRequestStatus");this.statusText=Object(f.b)("PendingRequestStatus");this.timingsState=2;this.updateCookiesCount();this.updateTransferSize();this.timingsViewModel={stages:[],message:Object(f.b)("ResourceNoTiming")}}get hasRedirectionInfo(){return!!this.redirectedFrom||!!this.redirectedTo}get hasRequest(){return this._hasRequest}get isComplete(){return this._isComplete}static initialize(){h.a.defineProperty(te,te.ContentSizePropertyName,0,e=>e.onContentSizeChanged());h.a.defineProperty(te,te.ContentTypePropertyName,"");h.a.defineProperty(te,te.FullURLPropertyName,"");h.a.defineProperty(te,te.InitiatorLocationPropertyName,"");h.a.defineProperty(te,te.InitiatorSourceInfoPropertyName,null);h.a.defineProperty(te,te.InitiatorTypePropertyName,"");h.a.defineProperty(te,te.TimingsStatePropertyName,"",e=>e.onResourceTimingsStateChanged());h.a.defineProperty(te,te.MethodPropertyName,"");h.a.defineProperty(te,te.NumCookiesPropertyName,"");h.a.defineProperty(te,te.PostDataPropertyName,"");h.a.defineProperty(te,te.ProtocolNamePropertyName,"");h.a.defineProperty(te,te.ProtocolStatusPropertyName,"");h.a.defineProperty(te,te.ReadBytesPropertyName,0);h.a.defineProperty(te,te.RedirectedFromPropertyName,null);h.a.defineProperty(te,te.RedirectedToPropertyName,null);h.a.defineProperty(te,te.RequestBodyPropertyName,null);h.a.defineProperty(te,te.RequestBodyBase64EncodedPropertyName,null);h.a.defineProperty(te,te.RequestContentTypePropertyName,null);h.a.defineProperty(te,te.RequestCookieHeadersPropertyName,[],e=>e.onCookieHeadersChanged());h.a.defineProperty(te,te.RequestHeadersPropertyName,[]);h.a.defineProperty(te,te.ResponseBodyPropertyName,null);h.a.defineProperty(te,te.ResponseBodyBase64EncodedPropertyName,null);h.a.defineProperty(te,te.ResponseCookieHeadersPropertyName,[],e=>e.onCookieHeadersChanged());h.a.defineProperty(te,te.ResponseHeadersPropertyName,[]);h.a.defineProperty(te,te.StartTimestampPropertyName,G.a.Zero);h.a.defineProperty(te,te.StatusTextPropertyName,"");h.a.defineProperty(te,te.StatusCodePropertyName,null);h.a.defineProperty(te,te.TimingsViewModelPropertyName,null);h.a.defineProperty(te,te.TotalTimePropertyName,G.a.Zero);h.a.defineProperty(te,te.TransferSizePropertyName,"")}static compareOnFilename(e,t){var i=C.UrlToFilenameConverter.convertTo(e.fullURL),r=C.UrlToFilenameConverter.convertTo(t.fullURL);return i.toLocaleUpperCase().localeCompare(r.toLocaleUpperCase())}static compareOnContentSize(e,t){return(1===e.timingsState?-1:e.contentSize)-(1===t.timingsState?-1:t.contentSize)}static compareOnInitiator(e,t){return te.compareString(e.initiatorLocation,t.initiatorLocation)||te.compareString(e.initiatorType,t.initiatorType)}static compareString(e,t){return e&&t?e.localeCompare(t):e?-1:t?1:0}applyCacheInfo(e,t){this.contentType=e.contentType;this.updateProtocolName(e.httpVersion);if(0===t){this.statusCode=e.statusCode;this.statusText=e.statusText}this.responseBody=e.body;this.responseBodyBase64Encoded=e.isContentBase64Encoded;this.responseHeadersSizeInBytes=e.headersSizeInBytes;var i=e.headers;if(i){for(var r in i){if("content-length"===r.toLocaleLowerCase()){var s=parseInt(i[r]);"number"==typeof s&&(this.contentSize=s);break}}0===t&&this.processResponseHeaders(i,t)}}applyRequest(e){this.activityId=e.activityId;this.requestId=e.id;void 0!==e.encodedDataLength&&(this.readBytes+=e.encodedDataLength);void 0!==e.responseContentLength&&(this.contentSize+=e.responseContentLength);if(e.dataReceivedTimestamp&&(!this._intermediateData.endTimestamp||this._intermediateData.endTimestamp.nsec<e.dataReceivedTimestamp.nsec))this._intermediateData.endTimestamp=e.dataReceivedTimestamp;else if(e.loadFinishedTimestamp){this._intermediateData.endTimestamp=e.loadFinishedTimestamp;this.onTimingUpdate()}var t=e.requestInfo;if(t){this._hasRequest=!0;this.processRequest(t)}var i=e.responseInfo;i&&this.processResponse(i);e.preNetworkCacheHitUrl&&(this.fullURL=e.preNetworkCacheHitUrl);if(1===this.timingsState){if(i&&i.timing&&i.timing.requestTime){this.startTimestamp=G.a.fromSeconds(i.timing.requestTime);this.updateTransferSize()}else if(e.timestamp){this.startTimestamp=e.timestamp;this.updateTransferSize()}}else if(0===e.cacheHitKind||1===e.cacheHitKind){this.timingsState=1;this.updateTransferSize();this.method=this.method||"GET";if(!this.statusCode){this.statusCode=200;this.statusText="OK"}}else this.method=this.method||"GET";var r=!!e.loadFinishedTimestamp||!!e.failureInfo;if(r){var s=e.loadFinishedTimestamp||e.failureInfo.timestamp;this._intermediateData.endTimestamp&&!s.greaterThan(this._intermediateData.endTimestamp)||(this._intermediateData.endTimestamp=s)}this.onTimingUpdate();r&&(this._isComplete=!0)}applyRedirect(e){this.processResponse(e);this.onTimingUpdate();this._intermediateData=null}retrieveRequestBodyData(){return!(null!==this.requestBody&&void 0!==this.requestBodyBase64Encoded)&&this.requestId&&je.NetworkProfiler.getRequestBody?je.NetworkProfiler.getRequestBody(this.requestId,this.activityId).then(e=>{this.requestBody=e.body;this.requestBodyBase64Encoded=e.base64Encoded},e=>{}):Promise.resolve()}retrieveResponseBodyData(){return null!==this.responseBody&&void 0!==this.responseBodyBase64Encoded||!this.requestId?Promise.resolve():je.NetworkProfiler.getResponseBody(this.requestId,this.activityId).then(e=>{null===this.responseBody&&(this.responseBody=e.body);null===this.responseBodyBase64Encoded&&(this.responseBodyBase64Encoded=e.base64Encoded)},e=>{})}static isTimingValueValid(e){return null!==e&&e>=0}static isValidStatusCode(e){return"number"==typeof e&&e>0}static sortHeaders(e){e.sort((e,t)=>e.key.localeCompare(t.key)||e.value.localeCompare(t.value))}processRequest(e){this.fullURL=e.requestURL;this.method=e.method||this.method;this.postData=e.postData;this.requestContentType=e.mimeType;if(e.initiator){if(e.initiator.url){var t=e.initiator.url;void 0!==e.initiator.lineNumber&&(t+=":"+e.initiator.lineNumber);this.initiatorLocation=t;this.initiatorSourceInfo={column:(e.initiator.columnNumber||0)+1,line:(e.initiator.lineNumber||0)+1,source:e.initiator.url}}this.initiatorType=e.initiator.type}if(e.headers){var i=[];for(var r in e.headers){switch(r.toLocaleLowerCase()){case"cookie":this.requestCookieHeaders=this._cookieParser.parse(e.headers[r],!0);break;case"content-length":var s=parseInt(e.headers[r],10);isNaN(s)||(this.requestBodySizeInBytes=s)}i.push({key:r,value:e.headers[r]})}te.sortHeaders(i);this.requestHeaders=i}if(e.timestamp){this._intermediateData.startTimestamp=e.timestamp;this.startTimestamp=e.timestamp}if(e.redirectedFrom){this.redirectedFrom={id:e.redirectedFromId,url:e.redirectedFrom};this.propertyChanged.invoke(te.HasRedirectionInfoPropertyName)}}updateProtocolName(e){e||(e="1.1");this.protocolStatus="";const t=this.fullURL.indexOf("://");let i;t>0&&(i=this.fullURL.substr(0,t).toLocaleUpperCase());switch(e){case"1.0":this.protocolName="HTTP/1.0";break;case"1.1":this.protocolName=`${i}/1.1`;break;case"2.0":this.protocolName="HTTP/2";break;default:this.protocolName=""}}processResponse(e){this.fullURL=this.fullURL||e.url;this.statusCode=e.statusCode||this.statusCode;this.statusText=te.isValidStatusCode(e.statusCode)?e.statusText:this.statusText;this.updateProtocolName(e.httpVersion);e.contentType&&e.contentType.length>0&&(this.contentType=e.contentType);e.responseHeadersText&&(this.responseHeadersSizeInBytes=e.responseHeadersText.length);if(e.timestamp){this.responseTime=e.timestamp;this._intermediateData.endTimestamp&&!e.timestamp.greaterThan(this._intermediateData.endTimestamp)||(this._intermediateData.endTimestamp=e.timestamp)}this.processResponseHeaders(e.headers);if(e.redirectedTo){this.redirectedTo={id:e.redirectedToId,url:e.redirectedTo};this.propertyChanged.invoke(te.HasRedirectionInfoPropertyName)}if(e.timing){this._intermediateData.timing=e.timing;if(e.timing.requestTime){var t=G.a.fromSeconds(e.timing.requestTime);if(!this._intermediateData.startTimestamp||t.nsec<this._intermediateData.startTimestamp.nsec){this._intermediateData.startTimestamp=t;this.startTimestamp=t}}}this.updateTransferSize();je.TestEventObject.fireEvent(ze.ResponseProcessed)}processResponseHeaders(e,t){if(e){var i=[];for(var r in e){var s=r.toLocaleLowerCase();switch(s){case"cache-control":this.cacheControl=e[r];break;case"content-encoding":this.contentEncoding=e[r];break;case"content-length":switch(t){case 0:case 1:break;default:this._isTransferSizeValid=!0}break;case"set-cookie":this.responseCookieHeaders=this._cookieParser.parse(e[r],!1);this.responseCookieHeaders.forEach(e=>{i.push({key:r,value:e.rawText})})}"set-cookie"!==s&&i.push({key:r,value:e[r]})}if(i&&i.length>0){te.sortHeaders(i);this.responseHeaders=i}}}onTimingUpdate(){if(this._intermediateData.startTimestamp&&this._intermediateData.endTimestamp){this.totalTime=this._intermediateData.endTimestamp.subtract(this._intermediateData.startTimestamp);2===this.timingsState&&this.totalTime.nsec>0&&this._intermediateData.timing&&(this.timingsState=0)}this.updateTimingsModel()}onResourceTimingsStateChanged(){this.updateSpecialCaseTimings();1===this.timingsState&&this.updateTransferSize()}onContentSizeChanged(){this.updateTransferSize()}onCookieHeadersChanged(){this.updateCookiesCount()}updateCookiesCount(){var e=this.requestCookieHeaders.length>0?this.requestCookieHeaders[0].tuples.length:0,t=this.responseCookieHeaders.length;this.numCookies=e+t}updateSpecialCaseTimings(){var e={stages:[],message:"",totalDuration:this.totalTime};if(1===this.timingsState){e.message=Object(f.b)("TimingCacheHitMessage");this.timingsViewModel=e;return!0}if(2===this.timingsState){e.message=Object(f.b)("ResourceNoTiming");this.timingsViewModel=e;return!0}return!1}updateTransferSize(){if(1===this.timingsState)this.transferSize=Object(f.b)("CacheHitAnnotation");else{this.contentSize>=0&&te.isValidStatusCode(this.statusCode)&&this._isTransferSizeValid&&(this.transferSize=C.ByteSizeToStringConverter.convertTo(this.contentSize))}}updateTimingsModel(){if(!this.updateSpecialCaseTimings()){var e,t=this._intermediateData,i=t.timing,r=this.totalTime,s={stages:[],message:"",totalDuration:r},o={timingsStage:Object(f.b)("StalledLabel"),tooltip:Object(f.b)("StalledTooltip"),color:_.STALLED_COLOR,startRatio:0,durationRatio:0,duration:G.a.fromMilliseconds(0),harFields:["blocked"]},a=G.a.Zero;te.isTimingValueValid(i.requestTime)&&(a=G.a.fromSeconds(i.requestTime).subtract(t.startTimestamp));for(var n=0;n<te.TIMING_OBJECT_STAGES.length;n++){var l=te.TIMING_OBJECT_STAGES[n],d=i[l.start],h=i[l.end];if(te.isTimingValueValid(d)&&te.isTimingValueValid(h)){var m=G.a.fromMilliseconds(d),c=G.a.fromMilliseconds(h).subtract(m);if(!c.lessThan(G.a.Zero)){s.stages.push({timingsStage:Object(f.b)(l.nameId),tooltip:Object(f.b)(l.tooltipId),color:l.color,startRatio:m.add(a).nsec/r.nsec,durationRatio:Math.max(c.nsec/r.nsec,te.SMALLEST_TIMING_DURATION_RATIO),duration:c,harFields:l.harFields});void 0===e&&(e=m.add(a))}}}if((e=e||a).greaterThan(G.a.Zero)){o.durationRatio=Math.max(e.nsec/r.nsec,te.SMALLEST_TIMING_DURATION_RATIO),o.duration=e;s.stages.unshift(o)}if(te.isTimingValueValid(i.receiveHeadersEnd)){var u=G.a.fromMilliseconds(i.receiveHeadersEnd),p=r.subtract(a.add(u));s.stages.push({timingsStage:Object(f.b)("DownloadingLabel"),tooltip:Object(f.b)("DownloadingTooltip"),color:_.DOWNLOADING_COLOR,startRatio:u.add(a).nsec/r.nsec,durationRatio:Math.max(p.nsec/r.nsec,te.SMALLEST_TIMING_DURATION_RATIO),duration:p,harFields:["receive"]});this.timingsViewModel=s}else this.timingsViewModel=s}}}te.SMALLEST_TIMING_DURATION_RATIO=.01;te._NextId=0;te.TIMING_OBJECT_STAGES=[{nameId:"ProxyLabel",tooltipId:"ProxyTooltip",color:_.PROXY_COLOR,start:"proxyStart",end:"proxyEnd",harFields:["blocked"]},{nameId:"ResolvingLabel",tooltipId:"ResolvingTooltip",color:_.RESOLVING_COLOR,start:"dnsStart",end:"dnsEnd",harFields:["dns"]},{nameId:"ConnectingLabel",tooltipId:"ConnectingTooltip",color:_.CONNECTING_COLOR,start:"connectStart",end:"connectEnd",harFields:["connect"]},{nameId:"SslLabel",tooltipId:"SSLTooltip",color:_.SSL_COLOR,start:"sslStart",end:"sslEnd",harFields:["ssl"]},{nameId:"SendingLabel",tooltipId:"SendingTooltip",color:_.SENDING_COLOR,start:"sendStart",end:"sendEnd",harFields:["send"]},{nameId:"WaitingLabel",tooltipId:"WaitingTooltip",color:_.WAITING_COLOR,start:"sendEnd",end:"receiveHeadersEnd",harFields:["wait"]}];te.ContentSizePropertyName="contentSize";te.ContentTypePropertyName="contentType";te.FullURLPropertyName="fullURL";te.HasRedirectionInfoPropertyName="hasRedirectionInfo";te.InitiatorLocationPropertyName="initiatorLocation";te.InitiatorSourceInfoPropertyName="initiatorSourceInfo";te.InitiatorTypePropertyName="initiatorType";te.MethodPropertyName="method";te.NumCookiesPropertyName="numCookies";te.PostDataPropertyName="postData";te.ProtocolNamePropertyName="protocolName";te.ProtocolStatusPropertyName="protocolStatus";te.ReadBytesPropertyName="readBytes";te.RedirectedFromPropertyName="redirectedFrom";te.RedirectedToPropertyName="redirectedTo";te.RequestBodyPropertyName="requestBody";te.RequestBodyBase64EncodedPropertyName="requestBodyBase64Encoded";te.RequestContentTypePropertyName="requestContentType";te.RequestCookieHeadersPropertyName="requestCookieHeaders";te.RequestHeadersPropertyName="requestHeaders";te.ResponseBodyPropertyName="responseBody";te.ResponseBodyBase64EncodedPropertyName="responseBodyBase64Encoded";te.ResponseCookieHeadersPropertyName="responseCookieHeaders";te.ResponseHeadersPropertyName="responseHeaders";te.StartTimestampPropertyName="startTimestamp";te.StatusCodePropertyName="statusCode";te.StatusTextPropertyName="statusText";te.TimingsStatePropertyName="timingsState";te.TimingsViewModelPropertyName="timingsViewModel";te.TotalTimePropertyName="totalTime";te.TransferSizePropertyName="transferSize";te.initialize();class ie extends h.b{constructor(){super();this.onOpen=new c.a;this.onSave=new c.a;this.onStart=new c.a;this.onStop=new c.a;this.shouldBypassServiceWorkersChanged=new c.a;this.shouldRefreshFromServerChanged=new c.a;this.shouldClearOnNavigateChanged=new c.a;this.detailsPanelCollapsedChanged=new c.a;this.summaryItemPropertyChanged=new c.a;this._endTimestamp=G.a.Zero;this._redirectRequestIdToIdMap=new Map;this._onSummaryModelItemPropertyChangedHandler=this.onSummaryModelItemPropertyChanged.bind(this);this._cacheHitMap=new Map;this._ariaAnnouncer=new j.a(document.getElementById(ie.ARIA_ALERT_ZONE_ID));this.contentTypeFilterModel=new K;this.summaryModel=new U;this.summaryModel.filter=this.contentTypeFilterModel;this.summaryModel.collectionChanged.addHandler(e=>this.onSummaryModelCollectionChanged(e));this.summaryBarModel=new $(this);this.networkSettings=new Q(this)}static initialize(){h.a.defineProperty(ie,ie.CanClearCachePropertyName,!1);h.a.defineProperty(ie,ie.CanClearCookiesPropertyName,!1);h.a.defineProperty(ie,ie.CurrentSummaryItemPropertyName,null,(e,t,i)=>e.onCurrentSummaryItemChanged(t,i));h.a.defineProperty(ie,ie.DetailsPanelCollapsedPropertyName,!0,e=>e.onDetailsPanelCollapsedChanged());h.a.defineProperty(ie,ie.DomContentLoadedTimeProperty,null);h.a.defineProperty(ie,ie.CanShowClearCookiesPropertyName,ie.CanShowClearCookies);h.a.defineProperty(ie,ie.LoadEventCompletedTimeProperty,null);h.a.defineProperty(ie,ie.ProfilingStatePropertyName,null,e=>e.onProfilingStateChanged());h.a.defineProperty(ie,ie.RulerDurationPropertyName,G.a.Zero);h.a.defineProperty(ie,ie.ShouldBypassServiceWorkersPropertyName,!1,(e,t,i)=>e.onBypassServiceWorkersChanged(i));h.a.defineProperty(ie,ie.ShouldClearOnNavigatePropertyName,!0,(e,t,i)=>e.shouldClearOnNavigateChanged.invoke(i));h.a.defineProperty(ie,ie.ShouldRefreshFromServerPropertyName,!1,(e,t,i)=>e.onRefreshFromServerChanged(i));h.a.defineProperty(ie,ie.StartTimestampPropertyName,G.a.MaxTime)}get canOpen(){return 3===this.profilingState}get canSave(){return 1===this.profilingState||3===this.profilingState}get canStart(){return 3===this.profilingState}get canStop(){return 1===this.profilingState}static get CanShowClearCookies(){return W.t!==a.b.ServiceWorker}applyCacheInfo(e,t){const i=this.findSummaryItemByActivityId(e.activityId);if(i){i.applyCacheInfo(e,t);const r=this._cacheHitMap.get(i.requestId);if(r&&r.redirectItem){const e=this.tryGetLocationUrl(r.preNetworkCacheHitItem);e&&(r.redirectItem.fullURL=e);this._cacheHitMap.delete(i.requestId)}}}applyRequestToSummaryModelItem(e,t=!1){if(e.timestamp){this.startTimestamp=G.a.min(this.startTimestamp,e.timestamp);this._endTimestamp=G.a.max(this._endTimestamp,e.timestamp);this.rulerDuration=G.a.max(this.rulerDuration,this._endTimestamp.subtract(this.startTimestamp))}let i=this.findSummaryItemByRequestId(e.id);if(!i||i.isComplete||e.activityId!==i.activityId||!!e.requestInfo){i=new te;this.summaryModel.push(i);this.tryCorrelateWithPreviousRedirect(i,e);this._redirectRequestIdToIdMap.set(e.id,i.id)}if(t&&0===e.cacheHitKind)this._cacheHitMap.set(e.id,{preNetworkCacheHitItem:i});else if(!i.hasRequest&&e.responseInfo){const t=this._cacheHitMap.get(e.id);if(t&&!t.redirectItem&&t.preNetworkCacheHitItem.activityId!==e.activityId){t.redirectItem=i;const r=this.tryGetLocationUrl(t.preNetworkCacheHitItem);if(r){e.responseInfo.url=r;e.preNetworkCacheHitUrl=r;this._cacheHitMap.delete(i.requestId)}}}i.applyRequest(e);return i.id}applyRedirectToSummaryModelItem(e,t){e.applyRedirect(t);return e.id}clearSession(e){this._cacheHitMap.clear();this.resetDocumentTimings();this.summaryModel.clear();this.rulerDuration=G.a.Zero;this.startTimestamp=G.a.MaxTime;this._endTimestamp=G.a.Zero;this._redirectRequestIdToIdMap.clear();return e?Promise.resolve():je.NetworkProfiler.clearActivities(G.a.fromMilliseconds(Date.now()))}findSummaryItemByRequestId(e){return this.findSummaryItem(t=>t.requestId===e)}findSummaryItemById(e){return this.findSummaryItem(t=>t.id===e)}onFrameNavigated(){this.shouldClearOnNavigate&&3!==this.profilingState&&2!==this.profilingState&&this.clearSession()}onOpenButtonActivated(){this.canOpen&&this.onOpen.invoke()}onSaveButtonActivated(){this.canSave&&this.onSave.invoke()}onStartButtonActivated(){this.canStart&&this.onStart.invoke()}onStopButtonActivated(){this.canStop&&this.onStop.invoke()}onToggleStartStop(){this.canStart?this.onStart.invoke():this.canStop&&this.onStop.invoke()}resetDocumentTimings(){this.domContentLoadedTime=null;this.loadEventCompletedTime=null}async initializeSettings(){await this.networkSettings.initializeSettings()}tryCorrelateWithPreviousRedirect(e,t){const i=this._redirectRequestIdToIdMap.get(t.id);if("number"==typeof i){const r=this.findSummaryItemById(i);if(r){e.redirectedFrom={id:i};r.redirectedTo={id:e.id}}this._redirectRequestIdToIdMap.delete(t.id)}}findSummaryItem(e){for(let t=this.summaryModel.lengthOfOriginalList-1;t>=0;t--){const i=this.summaryModel.getItemFromOriginalList(t);if(e(i))return i}return null}findSummaryItemByActivityId(e){return this.findSummaryItem(t=>t.activityId===e)}updateSelectionOnAvailableItem(){!this.detailsPanelCollapsed&&!this.currentSummaryItem&&this.summaryModel&&this.summaryModel.length>0&&(this.currentSummaryItem=this.summaryModel.getItem(0))}async onBypassServiceWorkersChanged(e){this.shouldBypassServiceWorkersChanged.invoke(e);await je.NetworkProfiler.bypassServiceWorkers(e);je.TestEventObject.fireEvent(ze.BypassServiceWorkers)}async onClearCache(){J.analytics.logExecuteCommand(J.CLEAR_CACHE,T.c.Ui);await je.NetworkProfiler.clearBrowserCache();this.canClearCache=await je.NetworkProfiler.canClearBrowserCache();je.TestEventObject.fireEvent(ze.ClearCache);this._ariaAnnouncer.setAlertMessage(Object(f.b)("CacheCleared"))}async onClearCookies(){J.analytics.logExecuteCommand(J.CLEAR_COOKIES,T.c.Ui);await je.NetworkProfiler.clearBrowserCookies();this.canClearCookies=await je.NetworkProfiler.canClearBrowserCookies();je.TestEventObject.fireEvent(ze.ClearCookies);this._ariaAnnouncer.setAlertMessage(Object(f.b)("CookiesCleared"))}onClearSession(){J.analytics.logExecuteCommand(J.CLEAR_SESSION,T.c.Ui);this.clearSession()}onProfilingStateChanged(){this.propertyChanged.invoke(ie.CanOpenPropertyName);this.propertyChanged.invoke(ie.CanSavePropertyName);this.propertyChanged.invoke(ie.CanStartPropertyName);this.propertyChanged.invoke(ie.CanStopPropertyName)}onCurrentSummaryItemChanged(e,t){J.analytics.logExecuteCommand(J.SUMMARY_ITEM_CHANGE,T.c.NotSpecified);!e&&t&&(this.detailsPanelCollapsed=!1)}onRefreshFromServerChanged(e){this.shouldRefreshFromServerChanged.invoke(e);je.NetworkProfiler.setCacheDisabled(e).then(()=>{je.TestEventObject.fireEvent(ze.RefreshFromServer)})}onDetailsPanelCollapsedChanged(){J.analytics.logExecuteCommand(J.DETAIL_PANEL_TOGGLE,T.c.NotSpecified);this.detailsPanelCollapsedChanged.invoke(this.detailsPanelCollapsed);this.updateSelectionOnAvailableItem()}onSummaryModelCollectionChanged(e){je.TestEventObject.fireEvent(ze.ModelChanged);switch(e.action){case 0:if(e.newItems){for(const t of e.newItems)t.propertyChanged.addHandler(this._onSummaryModelItemPropertyChangedHandler);this.summaryModel.length===e.newItems.length&&this.updateSelectionOnAvailableItem()}break;case 3:case 1:if(e.oldItems)for(const t of e.oldItems)t.propertyChanged.removeHandler(this._onSummaryModelItemPropertyChangedHandler);break;case 2:const t=this.summaryModel.getOriginalArray();for(const e of t)e.propertyChanged.removeHandler(this._onSummaryModelItemPropertyChangedHandler);const i=this.summaryModel.getFilteredArray();for(const e of i)e.propertyChanged.addHandler(this._onSummaryModelItemPropertyChangedHandler)}}onSummaryModelItemPropertyChanged(e,t){this.summaryItemPropertyChanged.invoke({item:t,propertyName:e})}tryGetLocationUrl(e){if(e&&e.responseHeaders)for(const t of e.responseHeaders){const e=t.key;if(e&&"location"===e.toLowerCase())return t.value}return null}}ie.CanClearCachePropertyName="canClearCache";ie.CanClearCookiesPropertyName="canClearCookies";ie.CanOpenPropertyName="canOpen";ie.CanSavePropertyName="canSave";ie.CanStartPropertyName="canStart";ie.CanStopPropertyName="canStop";ie.CurrentSummaryItemPropertyName="currentSummaryItem";ie.DetailsPanelCollapsedPropertyName="detailsPanelCollapsed";ie.DomContentLoadedTimeProperty="domContentLoadedTime";ie.CanShowClearCookiesPropertyName="canShowClearCookies";ie.LoadEventCompletedTimeProperty="loadEventCompletedTime";ie.ProfilingStatePropertyName="profilingState";ie.RulerDurationPropertyName="rulerDuration";ie.ShouldClearOnNavigatePropertyName="shouldClearOnNavigate";ie.ShouldRefreshFromServerPropertyName="shouldRefreshFromServer";ie.ShouldBypassServiceWorkersPropertyName="shouldBypassServiceWorkers";ie.StartTimestampPropertyName="startTimestamp";ie.SummaryModelPropertyName="summaryModel";ie.ARIA_ALERT_ZONE_ID="networkAriaAlertZone";ie.initialize();var re=i(5),se=i(14),oe=i(43),ae=i(51);function ne(e){Object(ae.a)().show(e)}var le=i(54),de=i(36),he=i(11),me=i(75),ce=i(25),ue=i(46);class pe extends me.d{constructor(e,t){var i=new me.b(t.getChildData.bind(t),t.getColumns(),t.getDefaultSortOrders(),t.onEditCell?t.onEditCell.bind(t):null,t.allowMultipleSelection);super(e,t.customizeGridOptions?t.customizeGridOptions(i):i);this._optionsProvider=t;this._optionsProvider.bindColumns(this);this._columnHeaderText=null;this.initializeContextMenuCommands()}static defaultCreateValueElement(e){var t=document.createElement("div"),i=void 0===e||null===e?"":e.toString();""===i?t.innerHTML="&nbsp;":t.innerText=i;return t}static localeFormatValue(e){return null!=e?"string"==typeof e?e:"number"==typeof e?e.toLocaleString(ue.a.Language,{maximumFractionDigits:pe.MaximumDecimalPrecision}):"boolean"==typeof e?e?"True":"False":e.toString():""}getAllRowData(){for(var e=[],t=0,i=this.getRowData(t);i;){e.push(i);t++;i=this.getRowData(t)}return e}buildMultilineHtmlHeaderCellContents(e,t){var i=document.createElement("div");i.classList.add("title");var r=document.createElement("div");r.innerText=e.subLabel||"";i.appendChild(r);var s=document.createElement("div"),o=e.text||"";s.innerText=o+" /";i.appendChild(s);return i}buildCellContents(e,t,i,r,s,o,a,n){return this.buildCellElement(i,r,s,o,a,n,e)}_onDismissContextMenu(){this._contextMenuActive=!1;this._onBlur(null)}_onContextMenu(e){if(this.contextMenu){var t,i=0,r=0;if("contextmenu"===e.type){t=this.getRowInfoFromEvent(e,".grid-row");i=e.clientX;r=e.clientY}else if("keydown"===e.type&&this.isActive()){var s=this.getSelectedRowIndex(),o=this.getVisibleRowIndices();if(s<o.first||s>o.last){this.getSelectedRowIntoView();return}var a=this.getSelectedDataIndex();if(!(t=this.getRowInfo(a)))return;i=t.row.clientLeft;r=this.getElement().offsetTop+this.getHeaderHeight()+this.getRowTop(t.rowIndex)-this.getCanvas().scrollTop+this.getMeasurements().rowHeight}if(!t)return;this._optionsProvider.onContextMenuOpening();if(this.getSelectionCount()>0){this._contextMenuActive=!0;this.contextMenu.show(i,r)}}}_onKeyDown(e){switch(e.keyCode){case 121:if(e.shiftKey){this._onContextMenu(e);return!1}break;case 93:this._onContextMenu(e);return!1;case 9:e.shiftKey&&this.rootElement.focus();return!0;case 123:return!0}return super._onKeyDown(e)}_onBlur(e){this._contextMenuActive||super._onBlur(e)}copyTextToClipboard(e){const t=void 0===e?this.getTextForClipboard():e;ce.copyPlainText(t)}onCtrlG(){this._optionsProvider.onCtrlG()}getClipboardFormattedRowString(e,t){var i="",r=this.getRowData(e);if(r){var s=!0;this.getColumns().forEach(e=>{if(!e.excludeFromClipboard){s||(i+="\t");s=!1;e.getClipboardText?i+=e.getClipboardText(e,r):e.format?i+=r[e.index].localeFormat(e.format):i+=r[e.index]}});if(this._optionsProvider.allowMultipleSelection){var o=this._getExpandState(e);i=o<0?" + "+i:o>0?" - "+i:"   "+i;for(var a=r.parent,n=0;a;){n++>=t&&(i="  "+i);a=a.parent}}}return i}getShallowestDepthOfSelection(){var e=0,t=this.getSelectedRows();if(t){e=Number.MAX_VALUE;for(var i in t)if(null!==t[i]&&void 0!==t[i]){for(var r=this.getRowData(t[i]).parent,s=0;r&&!(++s>e);)r=r.parent;s<e&&(e=s)}}return e}expandNodesWhile(e){var t=this.getSelectedDataIndex();-1===t&&(t=0);for(var i=this.getRowData(t);i&&!i.isPlaceholder&&0!==this._getExpandState(t);){this.expandNode(t);if(!e(i))break;t++;i=this.getRowData(t)}}expandNodesIf(e){for(var t=0,i=this.getRowData(t);i;){!i.isPlaceholder&&0!==this._getExpandState(t)&&e(i)&&this.expandNode(t);t++;i=this.getRowData(t)}}getColumnPixelIndent(e){return 12*e}getColumnText(e,t,i){var r,s=this.getColumnValue(e,t.index,i);if(t.getAriaLabelDescription){var o=this.getRowData(e);r=t.getAriaLabelDescription(t,o)}else r="string"!=typeof s?pe.localeFormatValue(s):s;t.maxLength=Math.max(t.maxLength||0,r.length);return r}_drawCell(e,t,i,r,s,o,a){return this.buildCellElement(t,i,r,s,o,a,this.populateCell.bind(this))}buildCellElement(e,t,i,r,s,o,a){var n=r.width||20,l=this.createElementWithClass("div",this.options().cellClass);l.style.width=isNaN(n)?String(n):n+"px";var d=this.getRowData(e),h=this.getColumnText(e,r,o);r.hasHTMLContent||me.d._setTooltip(l,h,65);if(r.getDynamicTooltip)a(l,e,r,h,d);else if(o===s&&i>0){var m=this.getColumnPixelIndent(i);if(m<n){a(l,e,r,h,d);this.addTreeIconWithIndent(l,t,i,r)}else{var c=document.createElement("div");c.innerHTML="[...]";c.style.left=n-18+"px";c.style.position="absolute";c.addEventListener("click",this.expandColumn.bind(this,c,r,m,h));l.appendChild(c)}}else a(l,e,r,h,d);if(r.cssClass)for(var u=r.cssClass.trim().split(" "),p=0;p<u.length;p++)l.classList.add(u[p]);r.rowCss&&l.classList.add(r.rowCss);e%2==0&&r.evenRowCss?l.classList.add(r.evenRowCss):e%2==1&&r.oddRowCss&&l.classList.add(r.oddRowCss);return l}mapExpandedRowData(e){for(var t=this.getExpandStates(),i=[],r=0;r<t.length;++r)t[r]>0&&i.push(e(r,this.getRowData(r)));return i}updateUnselectedRowStyle(e){e.row.setAttribute("tabindex","-1")}getTextForClipboard(){var e=this.getSelectedRows();if(null!==e){var t=this.getShallowestDepthOfSelection(),i=this.getColumnHeaderText(),r=-1;for(var s in e){var o=parseInt(s.toString()),a=this._getDataIndex(o);if(null!==a&&void 0!==a){var n=this.getClipboardFormattedRowString(a,t);-1!==r&&r!==o-1&&(n="[...]\r\n"+n);i=i+"\r\n"+n}r=o}return i}}expandColumn(e,t,i,r){var s=document.createElement("div");s.innerHTML=r;s.style.position="absolute";s.style.left="10000px";e.appendChild(s);var o=i+s.scrollWidth;e.removeChild(s);t.width=o+10;this._applyColumnSizing(0,-1,!0)}populateCell(e,t,i,r){var s;void 0!==i.hrefIndex&&(s=this.getColumnValue(t,i.hrefIndex,-1));if(s){var o=document.createElement("a");o.setAttribute("href",s);o.innerText=r;e.appendChild(o)}else r?i.hasHTMLContent?e.innerHTML=r:e.innerText=r:e.innerHTML="&nbsp;"}initializeContextMenuCommands(){this._contextMenuCommands=this._optionsProvider.getContextMenuCommands();this._contextMenuCommands.forEach(e=>{if(e.callback){var t=e.callback;e.callback=((e,i)=>{t(e,i);this.focus(10)})}});if(he&&this._contextMenuCommands&&this._contextMenuCommands.length>0){this.contextMenu=he.create(this._contextMenuCommands,null,null,null,()=>{});this._contextMenuActive=!1;this._onDismissContextMenu=this._onDismissContextMenu.bind(this);this.addEventListenerToCanvas("contextmenu",this,this._onContextMenu);this.contextMenu.addEventListener("dismiss",this._onDismissContextMenu)}}getColumnHeaderText(){if(!this._columnHeaderText){this._columnHeaderText="";var e=!0;this.getColumns().forEach(t=>{if(!t.excludeFromClipboard){e||(this._columnHeaderText+="\t");e=!1;this._columnHeaderText+=t.text}})}return this._columnHeaderText}}pe.MultiLineGridCellClass="multi-line-grid-cell";pe.MaximumDecimalPrecision=3;class ge{delay(e){if(this._id){window.clearImmediate(this._id);this._id=0}this._id=window.setImmediate(e)}}class ye extends me.a{constructor(e){super(e.valueIndex,"","",e.width,!1,null);this.keyIndex=e.keyIndex;this.valueDecoratorIndex=e.valueDecoratorIndex}bindContents(e){this.getCellContents=e.buildCellContents.bind(e,this.populateCell.bind(this))}getClipboardText(e,t){return t[this.keyIndex]===ye.ExpanderRowKeyString?t[this.index]:t[this.keyIndex]+": "+t[this.index]}getAriaLabelDescription(e,t){return this.getClipboardText(e,t)}populateCell(e,t,i,r,s){var o=s.key;if(o===ye.ExpanderRowKeyString){e.classList.add("expanderRow");(a=document.createElement("span")).innerText=r;e.appendChild(a)}else if(o){var a,n=document.createElement("span");n.classList.add("key-string");n.innerText=o;e.appendChild(n);if(i.valueDecoratorIndex){var l=s.valueDecorator;if(l){var d=document.createElement("span");d.innerHTML=l;e.appendChild(d)}}(a=document.createElement("span")).classList.add("value-string");a.innerText=s.value||"";e.appendChild(a)}}}ye.ExpanderRowKeyString="<EXPANDER>";class _e extends m.a{constructor(e){super(e||"Network.gridKeyValueViewer");this._delayer=new ge}get allowMultipleSelection(){return!0}static initialize(){h.a.defineProperty(_e,_e.HasDataPropertyName,!0);h.a.defineProperty(_e,_e.PlaceholderPropertyName,"")}getChildData(e,t){t({itemsWithPlaceholders:[],expandStates:[]})}getColumns(){if(!this._columnInfo){var e=[{keyIndex:"key",valueIndex:"value",valueDecoratorIndex:"valueDecorator",width:600}];this._columnInfo=e.map(e=>new ye(e))}return this._columnInfo}bindColumns(e){this._columnInfo.forEach(t=>{t.bindContents(e)})}getDefaultSortOrders(){return null}customizeGridOptions(e){e.coreCssClass="keyvalue-grid";e.header=!1;e.rowNormalClass="keyvalue-grid-row-normal";return e}getContextMenuCommands(){var e=[];e.push({callback:()=>this.dataGrid.copyTextToClipboard(),type:he.MenuItemType.command,label:Object(f.b)("CopyWithKeyboardShortcutContextMenu")});e.push({callback:()=>this.copyValue(),type:he.MenuItemType.command,label:Object(f.b)("CopyValueContextMenu"),hidden:()=>1!==this.dataGrid.getSelectionCount()});return e}onContextMenuOpening(){}onCtrlG(){}getDefaultData(){return[]}getDefaultExpandStates(){return[]}hasChildData(e){return!1}appendCustomData(e){}onApplyTemplate(){super.onApplyTemplate();var e=this.getNamedElement("gridContainer");d.a.isTrue(!!e,"Expecting an element named gridContainer.");this.dataGrid=new pe(e,this);this._defaultDataSource=this.getDefaultData();this._defaultExpandStates=this.getDefaultExpandStates();e.addEventListener(me.d.EVENT_ROW_EXPANDED_COLLAPSED,this.persistRowExpandState.bind(this))}onModelChanged(){super.onModelChanged();if(this._modelPropertyChangedEvtReg){this._modelPropertyChangedEvtReg.unregister();this._modelPropertyChangedEvtReg=null}this.dataGrid.setSelectedRowIndex(-1);var e=this.model;e&&e.propertyChanged&&(this._modelPropertyChangedEvtReg=e.propertyChanged.addHandler(this.onModelPropertiesChanged.bind(this)));this.refreshUi()}refreshUi(){for(var e=[],t=0,i=this._defaultExpandStates.length;t<i;++t)if(this._defaultExpandStates[t]>0){var r=this._defaultDataSource[t];e.push(r.expanderType)}this.setDefaultDataSource();this.dataGrid.expandNodesIf(t=>e.indexOf(t.expanderType)>=0||!this.hasChildData(t))}onResize(){if(0!==this.rootElement.clientWidth){this._columnInfo[0].width=Math.max(0,this.rootElement.clientWidth-4);this.dataGrid.layout()}}copyValue(){var e,t=this.dataGrid.getAllRowData(),i=this.dataGrid.getSelectedDataIndex();"number"==typeof i&&i<t.length&&(e=t[i].value);this.dataGrid.copyTextToClipboard(e||"")}getDefaultDataSourceIndexForRowExpanderIndex(e){for(var t=0,i=0;i<this._defaultDataSource.length;++i){if(this._defaultDataSource[i].key===ye.ExpanderRowKeyString){if(t===e)return i;++t}}return-1}getRowExpanderIndexForDataIndex(e){for(var t=-1,i=this.dataGrid.getExpandStates(),r=0;r<i.length;++r){var s=this.dataGrid.getRowData(r);if(s&&s.key===ye.ExpanderRowKeyString&&r===e)return++t;var o=this.dataGrid._getExpandState(r);r+=Math.abs(o)}return-1}persistRowExpandState(e){var t=e?e.customData:null;if(t&&t.length>0){var i=t[0].dataIndex,r=this.getRowExpanderIndexForDataIndex(i);if(r>=0){var s=this.getDefaultDataSourceIndexForRowExpanderIndex(r);if(s>=0){var o=t[0].isExpanded,a=this._defaultExpandStates[s];a=Math.abs(a);a=o?a:-a;this._defaultExpandStates[s]=a}}e.cancelBubble=!0}}onModelPropertiesChanged(e){this.modelPropertiesDependencyList&&this.modelPropertiesDependencyList.indexOf(e)>=0&&this._delayer.delay(()=>{this.refreshUi()})}setDefaultDataSource(){var e=[];this.appendCustomData(e);this.hasData=e.length>0;var t=e.map(()=>0);e=e.concat(this._defaultDataSource);t=t.concat(this._defaultExpandStates);this.dataGrid.setDataSource(e,t,this._columnInfo,null)}}_e.HasDataPropertyName="hasData";_e.PlaceholderPropertyName="placeholder";_e.initialize();class Ce extends _e{constructor(e){super(e);this.modelPropertiesDependencyList=[te.FullURLPropertyName]}static ParseParams(e){for(var t=e.split(/[&;]/),i=[],r=0;r<t.length;++r){var s=t[r];if(s){var o,a,n=s.indexOf("=");if(n<0){o=s;a=""}else{o=s.substring(0,n);a=s.substring(n+1)}i.push({key:o,value:a})}}return i}static ParseParamsFromUrl(e){var t=e?e.indexOf("?"):-1;if(t<0)return[];var i=e.substr(t+1);return Ce.ParseParams(i)}onApplyTemplate(){super.onApplyTemplate();this.onModelChanged();this.rootElement.classList.add(Ce.CssClass)}onModelChanged(){super.onModelChanged();this.placeholder=this.model?Object(f.b)("ResourceNoParameters"):Object(f.b)("ResourceNothingSelected")}onTabResize(){super.onResize()}onTabActivated(){super.onResize()}appendCustomData(e){if(this.model){var t=Ce.ParseParamsFromUrl(this.model.fullURL);t.sort((e,t)=>e.key.localeCompare(t.key)||e.value.localeCompare(t.value));t.forEach(t=>{e.push(t)})}}}Ce.CssClass="parametersPane";class Te{static fromNetworkModel(e){return fe.fromNetworkModel(e).then(e=>JSON.stringify(e,void 0,4))}}class fe{static fromNetworkModel(e){var t=e.summaryModel.getOriginalArray();return ve.fromSummaryViewModelItemArray(t).then(e=>({log:{version:_.HAR_EXPORTED_VERSION,creator:{name:_.HAR_CREATOR_NAME,version:""},entries:e}}))}}class ve{static fromSummaryViewModelItemArray(e){var t=[];e.forEach(i=>{i.statusCode&&t.push(ve.fromSummaryViewModelItem(i,e))});return Promise.all(t).then(e=>{e.sort((e,t)=>e.startedDateTime.localeCompare(t.startedDateTime));return e})}static fromSummaryViewModelItem(e,t){return ve.completeSummaryViewModelItem(e).then(()=>({startedDateTime:Me.getISOString(e.startTimestamp.msec),time:Me.getRoundedMilliseconds(e.totalTime),request:Se.fromSummaryViewModelItem(e),response:be.fromSummaryViewModelItem(e,t),cache:{},timings:Ne.fromTimingsViewModel(e.timingsState,e.timingsViewModel)}))}static completeSummaryViewModelItem(e){var t=[e.retrieveRequestBodyData(),e.retrieveResponseBodyData()];let i=le.a.timeout(1e3);return Promise.race([i,Promise.all(t)]).then(()=>{},()=>{})}}class Se{static fromSummaryViewModelItem(e){const t={method:e.method,url:e.fullURL,httpVersion:e.protocolName,cookies:Ie.fromCookieHeaders(e.requestCookieHeaders),headers:Ee.fromKeyValueModels(e.requestHeaders,!0,e.fullURL),queryString:Pe.fromString(e.fullURL,!0),postData:we.fromSummaryViewModelItem(e),headersSize:0,bodySize:0};t.headersSize=xe.fromSummaryViewModelItemAndHeaders(e,t.headers);t.bodySize="POST"===e.method?Me.getNormalizedNumber(e.requestBodySizeInBytes):-1;return t}}class be{static fromSummaryViewModelItem(e,t){var i="";if(e.redirectedTo)for(var r=0;r<t.length;r++)if(t[r].id===e.redirectedTo.id){i=t[r].fullURL;break}return{status:Me.getNormalizedNumber(e.statusCode),statusText:e.statusText,httpVersion:e.protocolName,cookies:Ie.fromCookieHeaders(e.responseCookieHeaders,e.responseTime),headers:Ee.fromKeyValueModels(e.responseHeaders),content:{size:Me.getNormalizedNumber(e.contentSize||e.readBytes),compression:e.contentSize&&e.readBytes?e.contentSize-e.readBytes:void 0,mimeType:e.contentType||"",text:e.responseBody||""},redirectURL:i,headersSize:Me.getNormalizedNumber(e.responseHeadersSizeInBytes),bodySize:Me.getNormalizedNumber(e.readBytes)}}}class Ie{static fromCookieHeaders(e,t){var i=[];e.forEach(e=>{if(e.isRequest)i=i.concat(Pe.fromKeyValueModels(e.tuples));else{let r=Ie.fromResponseCookieTuples(e.tuples,t);r&&i.push(r)}});return i}static fromResponseCookieTuples(e,t){if(e||0!==e.length){var i={};i.name=e[0].key;i.value=e[0].value;for(var r=1;r<e.length;r++){var s=e[r];try{switch(s.key.toLocaleLowerCase()){case"domain":i.domain=s.value;break;case"expires":i.expires||(i.expires=Me.convertToISOString(s.value));break;case"httponly":i.httpOnly=!0;break;case"max-age":if(t){var o=t.msec+1e3*parseInt(s.value,10);i.expires=Me.getISOString(o)}break;case"path":i.path=s.value;break;case"samesite":i.sameSite=s.value;break;case"secure":i.secure=!0}}catch(e){d.a.failDebugOnly("Poorly formatted cookie")}}return i}}}class Ee{static fromKeyValueModels(e,t,i){var r=Pe.fromKeyValueModels(e);t&&!Ee.hasHostHeader(r)&&r.push({name:"Host",value:C.UrlToHostnameConverter.convertTo(i)});return r}static hasHostHeader(e){for(var t=0;t<e.length;t++)if(e[t].name&&"host"===e[t].name.toLowerCase())return!0;return!1}}class Pe{static fromString(e,t=!1){var i;i=t?Ce.ParseParamsFromUrl(e):Ce.ParseParams(e);return Pe.fromKeyValueModels(i)}static fromKeyValueModels(e){return e.map(e=>({name:e.key,value:e.value}))}}class we{static fromSummaryViewModelItem(e){const t=e.postData||e.requestBody;if("POST"!==e.method)return;const i={mimeType:e.requestContentType||"",params:[],text:""};if(!t)return i;switch(e.requestContentType.toLowerCase()){case"application/x-www-form-urlencoded":i.params=Re.fromParamString(t);break;case"multipart/form-data":default:i.text=t}return i}}class Re{static fromParamString(e){return Pe.fromString(e)}}class Ne{static fromTimingsViewModel(e,t){var i={blocked:-1,dns:-1,connect:-1,send:0,wait:0,receive:0,ssl:-1};if(t.stages&&t.stages.length){var r=i;t.stages.forEach(e=>{e.harFields.forEach(t=>{r[t]=Math.max(r[t],0);r[t]+=Me.getRoundedMilliseconds(e.duration)})})}else t.totalDuration&&(1===e?i.receive=Me.getRoundedMilliseconds(t.totalDuration):i.send=Me.getRoundedMilliseconds(t.totalDuration));return i}}class xe{static fromSummaryViewModelItemAndHeaders(e,t){let i=t.reduce((e,t)=>{const i=t.value?t.value.length:0;return e+t.name.length+i+4},0);if(e.method&&e.fullURL){const t=de.a.parse(e.fullURL).pathnameAndSearch||"/";i+=`${e.method} ${t} ${e.protocolName}\r\n`.length}return i>0?i:-1}}class Me{static getRoundedMilliseconds(e){return Math.round(e.msec)}static getISOString(e){return new Date(e).toISOString()}static convertToISOString(e){try{return new Date(e).toISOString()}catch(e){}var t=e.lastIndexOf("-")+1;try{e=e.replace(/-/g," ");return new Date(e).toISOString()}catch(e){}e=e.slice(0,t)+"20"+e.slice(t);return new Date(e).toISOString()}static getNormalizedNumber(e){return"number"==typeof e?e:-1}}class ke{constructor(e,t,i){this._networkProfiler=e;this._model=i;this._model.profilingState=3;this._lastProfilingState=3;this._networkProfiler.onDataReceived(this.onDataReceived.bind(this));this._networkProfiler.onLoadingFailed(this.onLoadingFailed.bind(this));this._networkProfiler.onLoadingFinished(this.onLoadingFinished.bind(this));this._networkProfiler.onRequestServedFromCache(this.onRequestServedFromCache.bind(this));this._networkProfiler.onRequestWillBeSent(this.onRequestWillBeSent.bind(this));this._networkProfiler.onResponseReceived(this.onResponseReceived.bind(this));if(t){t.onFrameNavigated(this.onFrameNavigated.bind(this));t.onDOMContentLoaded&&t.onDOMContentLoaded(this.onDOMContentLoaded.bind(this));t.onDownloadCompleted&&t.onDownloadCompleted(this.onDownloadCompleted.bind(this));t.onRemoteCodeInitialized&&t.onRemoteCodeInitialized(this.onRemoteCodeInitialized.bind(this));t.onRemoteCodeDetached&&t.onRemoteCodeDetached(this.onRemoteCodeDetached.bind(this))}}enable(){this._model.profilingState=0;return this._networkProfiler.enable().then(()=>{this._model.profilingState=1;return this.onRemoteCodeInitialized()},e=>{ne(Object(f.b)("NetworkCollectionStartError"));this._model.profilingState=3})}disable(){this._model.profilingState=2;return this._networkProfiler.disable().then(()=>{this._lastProfilingState=this._model.profilingState=3},e=>{ne(Object(f.b)("NetworkCollectionStopError"));this._model.profilingState=3})}open(){}async save(){var e,t="har";try{e=await Object(oe.a)().saveFileDialog({name:"",extensions:[t]},{access:se.a.write,encoding:"UTF-8",persistence:se.d.temporary,type:se.f.text});let i=await Te.fromNetworkModel(this._model);await e.writeAllText(i)}catch(e){if(void 0!==e.number&&e.number===_.WINDOWS_E_ABORT)return;ne(Object(f.b)("SaveSessionFailedMessage"))}finally{e&&e.close()}}static processResponseObject(e,t){e.servedFromCache=t.fromDiskCache;e.url=t.url;e.contentType=t.mimeType;e.headers=t.headers;var i=t;i._ms_httpVersion&&(e.httpVersion=i._ms_httpVersion);if(t.headers&&t.headers.status){var r=t.headers.status,s=r.indexOf(" ");if(s===ke.STATUS_CODE_LENGTH){e.statusCode=Number(r.substring(0,s));e.statusText=r.substring(s+1)}}if(!e.statusCode||!e.statusText){e.statusCode=t.status;e.statusText=t.statusText}e.timing=t.timing;e.requestHeadersText=t.requestHeadersText;e.responseHeadersText=t.headersText}onDataReceived(e){var t={id:e.requestId,dataLength:e.dataLength,dataReceivedTimestamp:G.a.fromSeconds(e.timestamp),encodedDataLength:e.encodedDataLength,timestamp:G.a.fromSeconds(e.timestamp)},i=e;if(i._ms_activityId){t.activityId=i._ms_activityId;t.responseContentLength=i._ms_responseContentLength}this._model.applyRequestToSummaryModelItem(t)}onDOMContentLoaded(e){this._model.domContentLoadedTime=G.a.fromMilliseconds(e[0])}onDownloadCompleted(e){this._model.loadEventCompletedTime=G.a.fromMilliseconds(e[0])}onFrameNavigated(e){this._model.onFrameNavigated();this._networkProfiler.clearActivities(new G.a(e.timeStamp))}onLoadingFailed(e){var t={};t.canceled=e.canceled;t.errorText=e.errorText;t.timestamp=G.a.fromSeconds(e.timestamp);var i={id:e.requestId,failureInfo:t,timestamp:G.a.fromSeconds(e.timestamp)},r=e;r._ms_activityId&&(i.activityId=r._ms_activityId);this._model.applyRequestToSummaryModelItem(i)}onLoadingFinished(e){var t={id:e.requestId,loadFinishedTimestamp:G.a.fromSeconds(e.timestamp),timestamp:G.a.fromSeconds(e.timestamp)},i=e;i._ms_activityId&&(t.activityId=i._ms_activityId);this._model.applyRequestToSummaryModelItem(t);var r=this._model.findSummaryItemByRequestId(t.id);r&&1!==r.timingsState&&this._networkProfiler.getResponseBody(t.id,t.activityId).then(e=>{r.responseBody=e.body;r.responseBodyBase64Encoded=e.base64Encoded},e=>{})}onRemoteCodeInitialized(e){return this.refreshFlags().then(()=>this._networkProfiler.setCacheDisabled(this._model.shouldRefreshFromServer)).then(()=>1===this._lastProfilingState&&3===this._model.profilingState?this.enable():Promise.resolve(null))}async onRemoteCodeDetached(e){this._lastProfilingState=this._model.profilingState;this._networkProfiler.clearEtw();this._model.shouldClearOnNavigate&&await this._model.clearSession(!0);this._model.profilingState=3}onRequestServedFromCache(e){var t={id:e.requestId,cacheHitKind:0},i=!1,r=e;if(r._ms_activityId){t.activityId=r._ms_activityId;t.preNetworkCacheHitUrl=r._ms_requestedUrl;this.tryGetCacheInfo(r.requestId,r._ms_activityId,r._ms_requestedUrl,0)&&(i=!0)}this._model.applyRequestToSummaryModelItem(t,i)}onRequestWillBeSent(e){var t={id:e.requestId,timestamp:G.a.fromSeconds(e.timestamp)},i={};t.requestInfo=i;i.originURL=e.documentURL;i.timestamp=G.a.fromSeconds(e.timestamp);i.requestURL=e.request.url;i.method=e.request.method;i.postData=e.request.postData;i.headers=e.request.headers;var r=e.request;r._ms_mimeType&&(i.mimeType=r._ms_mimeType);var s=e;s._ms_activityId&&(t.activityId=s._ms_activityId);if(e.initiator){var o=i.initiator={};o.url=e.initiator.url;o.type=e.initiator.type;o.lineNumber=e.initiator.lineNumber;o.columnNumber=e.initiator._ms_columnNumber||0;e.initiator.stackTrace&&(o.stackTrace=e.initiator.stackTrace.map(e=>({functionName:e.functionName,lineNumber:e.lineNumber,columnNumber:e.columnNumber})))}if(e.redirectResponse){var a={timestamp:G.a.fromSeconds(e.timestamp)};ke.processResponseObject(a,e.redirectResponse);a.redirectedTo=i.requestURL;i.redirectedFrom=a.url;var n=this._model.findSummaryItemByRequestId(t.id);i.redirectedFromId=n?n.id:void 0;var l=this._model.applyRequestToSummaryModelItem(t);a.redirectedToId=l;this._model.applyRedirectToSummaryModelItem(n,a)}else this._model.applyRequestToSummaryModelItem(t);var d=this._model.findSummaryItemByRequestId(t.id);d&&this._networkProfiler.getRequestBody&&this._networkProfiler.getRequestBody(t.id,t.activityId).then(e=>{d.requestBody=e.body;d.requestBodyBase64Encoded=e.base64Encoded},e=>{})}onResponseReceived(e){this.refreshFlags();var t={id:e.requestId,responseInfo:{timestamp:G.a.fromSeconds(e.timestamp)},timestamp:G.a.fromSeconds(e.timestamp)},i=e;if(i._ms_activityId){t.activityId=i._ms_activityId;i.response&&304===i.response.status&&this.tryGetCacheInfo(i.requestId,i._ms_activityId,i._ms_requestedUrl,1)}e.response&&304===e.response.status&&(t.cacheHitKind=1);e.response.timing&&-1!==e.response.timing.sslEnd&&(e.response.timing.connectEnd=e.response.timing.sslEnd);ke.processResponseObject(t.responseInfo,e.response);this._model.applyRequestToSummaryModelItem(t)}refreshFlags(){return this._networkProfiler.canClearBrowserCache().then(e=>{this._model.canClearCache=e;return this._networkProfiler.canClearBrowserCookies()}).then(e=>{this._model.canClearCookies=e})}tryGetCacheInfo(e,t,i,r){if(i){var s;try{s=re.b.networkUtilities.getCacheEntry(i)}catch(e){}if(s){var o=JSON.parse(s),a={activityId:t,messageBodyFilePath:o.messageBodyFilePath,requestId:e,startLineAndHeaderFields:o.startLineAndHeaderFields};this._networkProfiler.getCacheInfo(a).then(e=>{this._model.applyCacheInfo(e,r)});return!0}}return!1}}ke.STATUS_CODE_LENGTH=3;class Oe{constructor(){this.frameNavigatedEventSource=new c.a;this.remoteCodeInitializedEventSource=new c.a;this.remoteCodeDetachedEventSource=new c.a;this.DOMContentLoadedEventSource=new c.a;this.loadEventEventSource=new c.a;re.b.addEventListener("detach",this.onDetachCallback.bind(this));re.b.addEventListener("attach",this.onAttachCallback.bind(this));Object(o.g)().listen("notificationFromRemote|ms:network",e=>{const{event:t,params:i}=e;this.jsonRpcNotificationReceive(t,i)});re.b.isAttached&&this.onAttachCallback()}setProxy(e){this.proxy=e}canClearBrowserCache(){return this.jsonRpcMethodCall("canClearBrowserCache",[]).then(e=>e)}canClearBrowserCookies(){return this.jsonRpcMethodCall("canClearBrowserCookies",[]).then(e=>e)}clearBrowserCache(){return this.jsonRpcMethodCall("clearBrowserCache",[])}clearAllCookiesForDomain(){return this.jsonRpcMethodCall("clearAllCookiesForDomain",[])}setCacheDisabled(e){return this.jsonRpcMethodCall("setCacheDisabled",[e])}bypassServiceWorkers(e){return this.jsonRpcMethodCall("bypassServiceWorkers",[e])}jsonRpcMethodReceive(e){d.a.fail(`Frontend received an unexpected RPC method call: '${e}'`)}jsonRpcNotificationReceive(e,t){switch(e){case"DocumentNotYetReady":break;case"FrameNavigated":this.frameNavigatedEventSource.invoke();break;case"RemoteCodeInitialized":this.remoteCodeInitializedEventSource.invoke();break;case"DOMContentLoaded":this.DOMContentLoadedEventSource.invoke(t,e);break;case"LoadEvent":this.loadEventEventSource.invoke(t,e);break;case"etwmessage":this.proxy.onMessageReceived(t.toString());break;case"hasServiceWorkers":const[i]=t;this.showServiceWorkerWarning(i)}}jsonRpcMethodCall(e,t){return q.callRemote(Oe.PORT_NAME,e,t)}onAttachCallback(){re.b.notifyOnToolActivated(a.c.network);q.loadScripts(Oe.SCRIPTS,Oe.PORT_NAME)}onDetachCallback(){this.remoteCodeDetachedEventSource.invoke()}showServiceWorkerWarning(e){e?Object(ae.a)().show(Object(f.b)("NoFetchSupportWarning")):Object(ae.a)().isShown&&Object(ae.a)().close()}}Oe.SCRIPTS=["../network/remote/networkRemoteHelpers.bundle.js","../network/remote/networkRemote.bundle.js"];Oe.PORT_NAME="networkPort";class Le{constructor(){this._commandCallbacks={};this._notificationListeners=[];this._uid=0;this._chunks=new Map}addNotificationListener(e,t){this._notificationListeners.push({notificationName:e,listener:t})}call(e,t,i){var r=this.getUid();i&&(this._commandCallbacks[r]={synced:!0,callback:i||null});var s={id:r,method:e,params:t},o=JSON.stringify(s);this.sendMessage(o)}sendMessage(e){throw new Error("Not implemented.")}onMessageReceived(e){if(e){var t=this.processMessageChunk(e);if(t){var i;try{i=JSON.parse(t)}catch(e){}if(i)if("number"==typeof i.id&&this._commandCallbacks[i.id]){if(this._commandCallbacks[i.id]){var r={error:i.error,result:i.result},s=this._commandCallbacks[i.id].callback;delete this._commandCallbacks[i.id];s.call(this,r)}}else if(i.method)for(var o=0;o<this._notificationListeners.length;++o)this._notificationListeners[o].notificationName===i.method&&this._notificationListeners[o].listener(i.params)}}}start(){this._chunks.clear();return Promise.resolve(null)}getUid(){return this._uid++}processMessageChunk(e){var t;try{t=JSON.parse(e)}catch(e){return null}var i=this._chunks.get(t.messageId);if(t.chunksRemaining>0){(i=i||[]).push(t.chunk);this._chunks.set(t.messageId,i)}else if(0===t.chunksRemaining){if(i){this._chunks.delete(t.messageId);i.push(t.chunk);return i.join("")}return t.chunk}return null}}Le.AGENT_GUID_STRING="514A5E80-CC1B-4844-9139-0DA4AFDCF814";class De extends Le{constructor(){super();Object(o.g)().listen("networkEvent",e=>{let t=e.message;isNaN(parseInt(t))||(t=JSON.stringify({id:t}));this.onMessageReceived(t)})}sendMessage(e){Object(o.g)().call("ms:host","sendNetworkCollection",[e])}start(){return Object(o.g)().call("ms:host","startNetworkCollection",[])}stop(){return Object(o.g)().call("ms:host","stopNetworkCollection",[])}}class Ae{static create(){return new De}}class He{constructor(e){this._dataReceivedEventSource=new c.a;this._loadingFailedEventSource=new c.a;this._loadingFinishedEventSource=new c.a;this._requestServedFromCacheEventSource=new c.a;this._requestWillBeSentEventSource=new c.a;this._responseReceivedEventSource=new c.a;this._proxy=Ae.create();this._diagController=e;this._diagController.setProxy(this._proxy);this._proxy.addNotificationListener(_.DATA_RECEIVED_NOTIFICATION,this.fireDataReceivedEvent.bind(this));this._proxy.addNotificationListener(_.LOADING_FAILED_NOTIFICATION,this.fireLoadingFailedEvent.bind(this));this._proxy.addNotificationListener(_.LOADING_FINISHED_NOTIFICATION,this.fireLoadingFinishedEvent.bind(this));this._proxy.addNotificationListener(_.REQUEST_SERVED_FROM_CACHE_NOTIFICATION,this.fireRequestServedFromCacheEvent.bind(this));this._proxy.addNotificationListener(_.REQUEST_WILL_BE_SENT_NOTIFICATION,this.fireRequestWillBeSentEvent.bind(this));this._proxy.addNotificationListener(_.RESPONSE_RECEIVED_NOTIFICATION,this.fireResponseReceivedEvent.bind(this))}bypassServiceWorkers(e){return this._diagController.bypassServiceWorkers(e)}canClearBrowserCache(){return this._diagController.canClearBrowserCache()}canClearBrowserCookies(){return this._diagController.canClearBrowserCookies()}clearBrowserCache(){return this._diagController.clearBrowserCache()}clearBrowserCookies(){return this._diagController.clearAllCookiesForDomain()}clearEtw(){return this._proxy.stop()}disable(){return this.call("disable")}enable(){return this._proxy.start().then(()=>this.call("enable"))}clearActivities(e){return this.call("_ms_clearActivities",{timestamp:e.nsec})}getCacheInfo(e){return this.call("_ms_getCacheInfo",e)}getRequestBody(e,t){return this.call("_ms_getRequestBody",{requestId:e,activityId:t})}getResponseBody(e,t){d.a.isTrue(e&&e.length>0,"Sending a getResponseBody with no requestId");return this.call("getResponseBody",{requestId:e,_ms_activityId:t})}setCacheDisabled(e){return this._diagController.setCacheDisabled(e)}setExtraHTTPHeaders(){return Promise.resolve()}setUserAgentOverride(){return Promise.resolve()}onDataReceived(e){this._dataReceivedEventSource.addHandler(e)}onLoadingFailed(e){this._loadingFailedEventSource.addHandler(e)}onLoadingFinished(e){this._loadingFinishedEventSource.addHandler(e)}onRequestServedFromCache(e){this._requestServedFromCacheEventSource.addHandler(e)}onRequestWillBeSent(e){this._requestWillBeSentEventSource.addHandler(e)}onResponseReceived(e){this._responseReceivedEventSource.addHandler(e)}call(e,t){return new Promise((i,r)=>{this._proxy.call("Network."+e,t,e=>{e.error?r(new Error(e.error.message)):e.result&&e.result.error?r(new Error(e.result.error)):i(e.result)})})}fireDataReceivedEvent(e){this._dataReceivedEventSource.invoke(e)}fireLoadingFailedEvent(e){this._loadingFailedEventSource.invoke(e)}fireLoadingFinishedEvent(e){this._loadingFinishedEventSource.invoke(e)}fireRequestServedFromCacheEvent(e){this._requestServedFromCacheEventSource.invoke(e)}fireRequestWillBeSentEvent(e){this._requestWillBeSentEventSource.invoke(e)}fireResponseReceivedEvent(e){this._responseReceivedEventSource.invoke(e)}}var Fe=i(68);class Be{constructor(e){this._eventManager=new Fe.a;this._diagToolsWindowController=e;this._diagToolsWindowController.frameNavigatedEventSource.addHandler(this.fireFrameNavigated.bind(this));this._diagToolsWindowController.remoteCodeInitializedEventSource.addHandler(this.fireRemoteCodeInitialized.bind(this));this._diagToolsWindowController.remoteCodeDetachedEventSource.addHandler(this.fireRemoteCodeDetached.bind(this));this._diagToolsWindowController.DOMContentLoadedEventSource.addHandler(this.fireDOMContentLoaded.bind(this));this._diagToolsWindowController.loadEventEventSource.addHandler(this.fireDownloadCompleted.bind(this))}enable(){return Promise.resolve(null)}getResourceTree(){return Promise.resolve(null)}onFrameNavigated(e){this._eventManager.addEventListener("frameNavigated",e)}onFrameAttached(e){this._eventManager.addEventListener("frameAttached",e)}onFrameDetached(e){this._eventManager.addEventListener("frameDetached",e)}onFrameStartedLoading(e){this._eventManager.addEventListener("frameStartedLoading",e)}onRemoteCodeInitialized(e){this._eventManager.addEventListener("remoteCodeInitialized",e)}onRemoteCodeDetached(e){this._eventManager.addEventListener("remoteCodeDetached",e)}onDOMContentLoaded(e){this._eventManager.addEventListener("DOMContentLoaded",e)}onDownloadCompleted(e){this._eventManager.addEventListener("LoadEvent",e)}fireDOMContentLoaded(e){this._eventManager.dispatchEvent("DOMContentLoaded",e)}fireDownloadCompleted(e){this._eventManager.dispatchEvent("LoadEvent",e)}fireFrameNavigated(){this._eventManager.dispatchEvent("frameNavigated",[])}fireFrameAttached(){this._eventManager.dispatchEvent("frameAttached",[])}fireFrameDetached(e){this._eventManager.dispatchEvent("frameDetached",e)}fireFrameStartedLoading(e){this._eventManager.dispatchEvent("frameStartedLoading",e)}fireRemoteCodeInitialized(e){this._eventManager.dispatchEvent("remoteCodeInitialized",e)}fireRemoteCodeDetached(e){this._eventManager.dispatchEvent("remoteCodeDetached",e)}}class Ve{static create(){var e=new Oe;return Promise.resolve({page:new Be(e),profiler:new He(e)})}}Ve.SIMULATE_DELAY_ON_POST_MORTEM=!1;class qe{constructor(e){this._currentIteratorIndex=0;this._lastSearchText="";this._iterators=e}onSelectedItemChanged(e){this.findAndHighlightMatches(this._lastSearchText)}cleanupOldSearchResults(){for(var e=0;e<this._iterators.length;e++)this._iterators[e].cleanupOldSearchResults()}findAndHighlightMatches(e){"string"!=typeof e&&(e=this._lastSearchText);this._lastSearchText=e;for(var t=0;t<this._iterators.length;t++)this._iterators[t].findAndHighlightMatches(e)}getSearchTextFromSelection(e){return null}findNextMatch(e,t){this._lastSearchText=e;if(this._isSearching)return Promise.resolve(null);for(var i=0;i<this._iterators.length;i++)this._iterators[i].item||this._iterators[i].moveToNextItem(t);this._startItem=this._iterators[0].item;this._searchFinished=!1;return this.findNext(e,t).then(e=>{je.TestEventObject.fireEvent(ze.SearchComplete,e);return e})}findNext(e,t){if(this._iterators[this._currentIteratorIndex].findNext(e,t))return Promise.resolve(this._iterators[0].item);this._currentIteratorIndex+=t?1:-1;if(this._currentIteratorIndex<0||this._currentIteratorIndex>=this._iterators.length){this._currentIteratorIndex=t?0:this._iterators.length-1;if(this._searchFinished)return Promise.resolve(null);for(var i=[],r=0;r<this._iterators.length;r++)i.push(this._iterators[r].moveToNextItem(t));return Promise.all(i).then(()=>{this._startItem===this._iterators[0].item&&(this._searchFinished=!0);return this.findNext(e,t)})}return this.findNext(e,t)}}class ze{}ze.RefreshFromServer="RefreshFromServer";ze.BypassServiceWorkers="BypassServiceWorkers";ze.ClearCache="ClearCache";ze.ClearCookies="ClearCookies";ze.SearchComplete="SearchComplete";ze.ModelChanged="ModelChanged";ze.SummaryDataSourceUpdated="SummaryDataSourceUpdated";ze.ResponseProcessed="ResponseProcessed";class je{constructor(){this._model=new ie;this._model.onStart.addHandler(()=>this.enable());this._model.onStop.addHandler(()=>this.disable());this._model.onOpen.addHandler(()=>this.open());this._model.onSave.addHandler(()=>this.save());this._model.shouldRefreshFromServerChanged.addHandler(e=>this.onShouldRefreshFromServedChanged(e));this._rootPanel=new m.a("Network.rootPanel");this._rootPanel.model=this._model;document.getElementById("rootContainer").appendChild(this._rootPanel.rootElement);this._toolbar=this._rootPanel.getNamedControl("toolbar");this.createContentTypeFilteringMenu();this.setupSearch();this.resetProfiler().then(()=>{H.a.registerFocusHandlers(a.c.network);document.addEventListener("keydown",this.f12ShortcutHandler.bind(this));window.requestAnimationFrame(()=>{z.markToolReady(a.c.network);q.startPreload(a.c.network);V.b()&&Object(F.g)(()=>{},{Reliability:{isAlive:()=>Promise.resolve()}})})});this._model.initializeSettings();Object(A.a)()}open(){return this._client.open()}async save(){const e=this._toolbar.getNamedControl("f12SaveButton");e.isEnabled=!1;try{await this._client.save()}finally{e.isEnabled=!0}}onShouldRefreshFromServedChanged(e){je.NetworkProfiler.setCacheDisabled(e)}enable(){return this._client.enable()}disable(){this._client.disable()}resetProfiler(){return Ve.create().then(e=>{this._page=e.page;je.NetworkProfiler=e.profiler;this._client=new ke(je.NetworkProfiler,this._page,this._model);return this._page?this._page.enable():Promise.resolve(null)}).then(()=>{this._client.enable()})}get profiler(){return je.NetworkProfiler}get rootPanel(){return this._rootPanel}createContentTypeFilteringMenu(){const e=this._toolbar.getNamedControl("contentTypeFilterMenuButton");this._contentTypeFilterMenu=new D.a;this._contentTypeFilterMenu.menuItemsTemplateId="Network.contentTypeFilterMenuDropDown";this._contentTypeFilterMenu.targetButtonElement=e.rootElement;this._contentTypeFilterMenu.dismissOnMenuItemClick=!1;this._contentTypeFilterMenu.dismissOnTargetButtonClick=!0;this._contentTypeFilterMenu.focusFirstItemOnShow=!0;this._contentTypeFilterMenu.model=this._model;this._rootPanel.rootElement.appendChild(this._contentTypeFilterMenu.rootElement)}setupSearch(){const e=this._rootPanel.getNamedControl("mainPanel"),t=e.getNamedControl("selectionPanel"),i=e.getNamedControl("summaryView");if(t){const e=t.bodyView.textHandler.view.getSearchIterator(i,t),r=i.getSearchIterator();this._searchProvider=new qe([r,e])}this._toolbar.getNamedControl("_searchControl").searchProvider=this._searchProvider}f12ShortcutHandler(e){if(e.ctrlKey&&!e.shiftKey&&!e.altKey)if(69===e.keyCode){this._model.onToggleStartStop();e.preventDefault()}else if(83===e.keyCode){this._model.onSaveButtonActivated();e.preventDefault()}}}je.TestEventObject=new B.a;class Ue{constructor(e,t,i){this._textView=e;this._summaryView=t;this._selectionView=i}get item(){return this._item}findNext(e,t){if(this._item&&this._item.responseBody&&this._item.responseBody.length>0&&!this._item.responseBodyBase64Encoded){if(new RegExp(L.a.escapeRegExp(e),"gi").test(this._item.responseBody)){this._summaryView.selectedItem=this._item;this._selectionView.selectTab(3);this._selectionView.bodyView.selectTab(!1);var i=this._textView&&this._textView.getLocalMatches(e)||[];this._lastMatchIndex>i.length&&(this._lastMatchIndex=i.length);this._lastMatchIndex+=t?1:-1;var r=i[this._lastMatchIndex];if(r){this._textView.selectRange(r);return!0}}}return!1}moveToNextItem(e){var t=this._item?this._summaryView.items.indexOf(this._item):-1;(t+=e?1:-1)<0&&(t=this._summaryView.items.length-1);t>=this._summaryView.items.length&&(t=0);this._item=this._summaryView.items.getItem(t);if(!this.item||!this._item.contentSize)return Promise.resolve(null);if(this._item.responseBody){this._lastMatchIndex=e?-1:this._item.responseBody.length;return Promise.resolve(null)}return new Promise((t,i)=>{je.NetworkProfiler.getResponseBody(this._item.requestId,this._item.activityId).then(i=>{null===this._item.responseBody&&(this._item.responseBody=i.body);null===this._item.responseBodyBase64Encoded&&(this._item.responseBodyBase64Encoded=i.base64Encoded);this._lastMatchIndex=e?-1:this._item.responseBody.length;t()},e=>{this._lastMatchIndex=-1;t()})})}cleanupOldSearchResults(){if(this._textView&&this._decorationIds&&this._decorationIds.length>0){this._textView.removeDecorations(this._decorationIds);this._decorationIds=[]}}findAndHighlightMatches(e){"string"!=typeof e&&(e=this._lastSearchText);this._lastSearchText=e;this.cleanupOldSearchResults();if(this._textView&&e){var t=this._textView.getLocalMatches(e);this._decorationIds=this._textView.addDecorations(t,O.a.SEARCH_TERM_DECORATION_CLASS,Object(M.b)().getValue("plugin-editor-scrollbar-marker-search-result-color"))}}}class Ge{constructor(e){this.id=Ge.nextId++;this.modelName="editor";this.displayName="displayName";this.toolbarPanelTemplate="Network.editorToolbarPanel";this._showRequestInstead=e}get summaryModel(){return this._summaryModel}set summaryModel(e){this._summaryModel=e;if(e)if(this._showRequestInstead){this.content=e.requestBody;this.mimeType=e.requestContentType}else{this.content=e.responseBody;this.mimeType=e.contentType}}}Ge.nextId=0;class We{constructor(e){this.view=e}async open(e){if(e){await this.view.open(e);window.setImmediate(()=>{this.doLayout()})}return Promise.resolve(this.view)}close(e){}doLayout(){this.view.doLayout()}get wasRecentlyEditing(){return!1}clearRecentlyEditingState(){}}We.ModelName="editor";class Ke extends m.a{constructor(e){super(e||"Network.resourceTextTemplate");this._isEditorLoaded=!1;this.updateEditorTheme=(()=>{this._editor&&this._editor.updateOptions({theme:S.a})})}get editorModel(){return this._editor&&this._editor.getModel()}static initialize(){h.a.defineProperty(Ke,Ke.PrettyPrintStatePropertyName,1,e=>e.onPrettyPrintStateChanged());h.a.defineProperty(Ke,Ke.WordWrapStatePropertyName,0,e=>e.onWordWrapStateChanged())}onApplyTemplate(){var e=this.getNamedControl("editorToolbar");d.a.isTrue(!!e,"Expecting an element named editorToolbar.");e.model=this}getLocalMatches(e){var t=this._editor&&this._editor.getModel();if(t){return t.findMatches(e,!1,!1,!1,!1,!1).map(e=>e.range)}return[]}addDecorations(e,t,i){var r=[],s=this._editor&&this._editor.getModel();if(e&&s){const o=e.map(e=>({range:e,options:{className:t,showInOverviewRuler:i}}));r=s.deltaDecorations([],o)}return r}removeDecorations(e){var t=this._editor&&this._editor.getModel();e&&t&&t.deltaDecorations(e,[])}selectRange(e,t){if(this._editor){this.revealRange(e,t);this._editor.setSelection(e)}}revealRange(e,t=!0){if(this._editor&&this._editor.getModel()){this._editor.revealRangeInCenter(e);var i={lineNumber:e.startLineNumber,column:e.startColumn},r=this._editor.getModel().getLineCount();this._editor.getScrollTop()>this._editor.getTopForLineNumber(Math.min(e.startLineNumber,r))&&this._editor.revealLine(i.lineNumber);this._editor.setPosition(i);t&&this._editor.focus()}}async open(e){if(!this._isEditorLoaded){this._isEditorLoaded=!0;var t=this.getNamedElement("editorRoot");d.a.isTrue(!!t,"Expecting an element named editorRoot.");try{await this.setUpEditor(t)}catch(e){this._isEditorLoaded=!1}}if(e instanceof Ge){this._textModel=e;var i=x.a.getCanonicalMediaType(this._textModel.mimeType),r=monaco.editor.createModel(this._textModel.content,i);this.setModel(r);0===this.prettyPrintState&&this.format(this._textModel)}}doLayout(){window.setImmediate(()=>{if(this._editor){this._editor.layout();this._searchIterator&&this._searchIterator.findAndHighlightMatches()}})}getSearchIterator(e,t){this._searchIterator=new Ue(this,e,t);return this._searchIterator}onUrlClicked(e){k.h(e,1,1,null)}onPrettyPrintStateChanged(){this.format(this._textModel)}onWordWrapStateChanged(){this._editor.updateOptions({wrappingColumn:0===this.wordWrapState?0:Ke.WRAPPING_COLUMN});switch(this.wordWrapState){case 0:this._wordWrapEnabled=!0;break;case 1:this._wordWrapEnabled=!1}}setUpEditor(e){return new Promise(t=>{window.require(["vs/editor/editor.main"],()=>{Object(S.b)();this._editor=monaco.editor.create(e,{value:"",scrollbar:{vertical:"visible",horizontal:"visible",useShadows:!1,verticalHasArrows:!0,horizontalHasArrows:!0,handleMouseWheel:!0,verticalScrollbarSize:17,horizontalScrollbarSize:17,arrowSize:30},readOnly:!0,scrollBeyondLastLine:!1,roundedSelection:!0,quickSuggestions:!1,autoClosingBrackets:!1,automaticLayout:!1,glyphMargin:!1,hover:!1,wrappingColumn:0===this.wordWrapState?0:Ke.WRAPPING_COLUMN,selectOnLineNumbers:!1,theme:S.a,fontSize:12,contextmenu:!1,folding:!1,codeLens:!1,parameterHints:!1,tabCompletion:!1,wordBasedSuggestions:!1,snippetSuggestions:"none"});this._editor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_F,()=>{},"");this._editor.addCommand(monaco.KeyMod.Alt|monaco.KeyCode.KEY_W,()=>{},"");this._editor.addCommand(monaco.KeyCode.F1,()=>{},"");this._editor.addCommand(monaco.KeyCode.F3,()=>{},"");this._editor.addCommand(monaco.KeyCode.F12,()=>{},"");this._editor.addCommand(monaco.KeyMod.Shift|monaco.KeyCode.F3,()=>{},"");this._editor.addCommand(monaco.KeyMod.Shift|monaco.KeyCode.F12,()=>{},"");this._editor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.F3,()=>{},"");this._editor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyMod.Shift|monaco.KeyCode.F3,()=>{},"");Object(M.b)().addEventListener("themeinitialize",this.updateEditorTheme);Object(M.b)().addEventListener("themechanged",this.updateEditorTheme);this._editor.onDidDispose(()=>{Object(M.b)().removeEventListener("themeinitialize",this.updateEditorTheme);Object(M.b)().removeEventListener("themechanged",this.updateEditorTheme)});window.open=(e=>this.onUrlClicked(e));window.addEventListener("resize",()=>{this._editor.layout()});t(this._editor)})})}format(e){if(e){var t=e.content,i=x.a.getCanonicalMediaType(e.mimeType);if(0===this.prettyPrintState){if(R.supportsMimeType(i)){var r=monaco.editor.createModel((new R).format(t),i);this.setModel(r);return}var s,o;E.a.supportsMimeType(i)?s=new E.a:w.isSupportedScript(i)?s=new I.a:b.a.supportsMimeType(i)&&(s=new b.a);if(s){s.options.prettyPrint=!0;s.setDocument(t,"",i).then(t=>{s.getFormattedText().then(t=>{if(e===this._textModel){o=monaco.editor.createModel(t.text,i);this.setModel(o)}})})}}else this.setModel(monaco.editor.createModel(t,i))}}setModel(e){var t=this._editor.getModel();this._editor.setModel(e);t&&!t.isDisposed()&&t!==e&&t.dispose();this._searchIterator&&this._searchIterator.findAndHighlightMatches();this.wordWrapState=this._wordWrapEnabled?0:1}}Ke.WRAPPING_COLUMN=3e3;Ke.PrettyPrintStatePropertyName="prettyPrintState";Ke.WordWrapStatePropertyName="wordWrapState";Ke.initialize();var Ye=i(93);class Xe{open(e){if(e instanceof Je){this._control||(this._control=new Ze);this._control.model=e;return Promise.resolve(this._control)}}close(e){this._control&&this._control.model===e&&(this._control.model=null)}doLayout(){this._control.refreshUi()}get wasRecentlyEditing(){return!1}clearRecentlyEditingState(){}}class Ze extends _e{constructor(){super();this.hasData=!0;this.rootElement.classList.add(Ze.CssClass)}appendCustomData(e){this.model&&this.model.items.forEach(t=>{e.push(t)})}}Ze.CssClass="formDataViewer";class Je{constructor(){this._items=[];this._id=v.a.NextModelId++}get id(){return this._id}get items(){return this._items}get modelName(){return Je.ModelName}get toolbarPanelTemplate(){return null}get summaryModel(){return this._summaryModel}set summaryModel(e){e&&e.requestBody?this._items=Ce.ParseParams(e.requestBody).sort((e,t)=>e.key.localeCompare(t.key)):this._items=[]}}Je.ModelName="FormData";var Qe=i(92);class $e{open(e){if(e instanceof tt){this._control=new m.a("Network.resourceImageControlTemplate");this._control.model=e;return Promise.resolve(this._control)}}close(e){this._control&&(this._control.model=null)}doLayout(){}get wasRecentlyEditing(){return!1}clearRecentlyEditingState(){}}class et extends h.b{constructor(e,t){super();this.key=e;void 0!==t&&(this.value=t)}static initialize(){h.a.defineProperty(et,et.KeyPropertyName,null);h.a.defineProperty(et,et.ValuePropertyName,null)}}et.KeyPropertyName="key";et.ValuePropertyName="value";et.initialize();class tt{constructor(){this._id=v.a.NextModelId++}get summaryModel(){return this._summaryModel}set summaryModel(e){if(this._summaryModelPropertyChangedEvtReg){this._summaryModelPropertyChangedEvtReg.unregister();this._summaryModelPropertyChangedEvtReg=null}this._summaryModel=e;if(e){this._summaryModelPropertyChangedEvtReg=e.propertyChanged.addHandler(this.onSummaryModelPropertiesChanged.bind(this));var t=C.UrlToFilenameConverter.convertTo(e.fullURL);this.displayName=t;this.displayProperties=new Qe.a;this.displayProperties.push(new et(Object(f.b)("Name"),t));e.responseBody&&this.displayProperties.push(this._contentSizeKeyValue=new et(Object(f.b)("ContentSize"),C.ByteSizeToStringConverter.convertTo(e.contentSize)));this.displayProperties.push(new et(Object(f.b)("ContentType"),e.contentType));this.displayProperties.push(new et(Object(f.b)("Url"),e.fullURL));this._imageTag=new Image;this._imageTag.onload=(()=>{if(this._summaryModel.responseBody){var e=new et(Object(f.b)("Dimensions"),Object(f.b)("DimensionsFormat",this._imageTag.width,this._imageTag.height));this.displayProperties.splice(1,0,e)}});this.updateImageData()}}get id(){return this._id}get modelName(){return tt.ModelName}get toolbarPanelTemplate(){return null}static isContentTypeSupported(e){return-1===tt.UnsupportedContentTypes.indexOf(e.toLowerCase())}onSummaryModelPropertiesChanged(e){switch(e){case te.ContentSizePropertyName:this._contentSizeKeyValue.value=C.ByteSizeToStringConverter.convertTo(this._summaryModel.contentSize);break;case te.ResponseBodyPropertyName:case te.ResponseBodyBase64EncodedPropertyName:this.updateImageData()}}updateImageData(){if(this.summaryModel.contentType&&tt.isContentTypeSupported(this.summaryModel.contentType)&&this.summaryModel.responseBody){this.imageData="data:"+this.summaryModel.contentType+";base64,"+this.summaryModel.responseBody;this._imageTag.src=this.imageData}}}tt.UnsupportedContentTypes=["image/webp"];tt.ModelName="SimpleImage";class it{open(e){if(e instanceof rt){this._control=new m.a("Network.resourcePlaceholderTemplate");this._control.model=e;return Promise.resolve(this._control)}}close(e){this._control&&(this._control.model=null)}doLayout(){}get wasRecentlyEditing(){return!1}clearRecentlyEditingState(){}}class rt{constructor(){this._id=v.a.NextModelId++}get displayName(){return this.text}get id(){return this._id}get modelName(){return rt.ModelName}get toolbarPanelTemplate(){return null}}rt.ModelName="Placeholder";class st extends m.a{constructor(e){super(e||"Network.bodyView");this._delayer=new ge}get documentModel(){return this._documentModel}get isRequest(){var e=this._tabControl.selectedItem;return e&&e===this._requestTab}get isResponse(){var e=this._tabControl.selectedItem;return e&&e===this._responseTab}selectTab(e){e!==this.isRequest&&(this._tabControl.selectedItem=e?this._requestTab:this._responseTab)}onApplyTemplate(){this._tabControl=this.getNamedControl("bodyViewTabControl");d.a.isTrue(!!this._tabControl,"Expecting a control named bodyViewTabControl.");this._responseTab=new Ye.a;this._responseTab.title=Object(f.b)("ResponseBody");this._tabControl.addTab(this._responseTab);this._requestTab=new Ye.a;this._requestTab.title=Object(f.b)("RequestBody");this._tabControl.addTab(this._requestTab);this._tabControl.selectedItemChanged=(()=>this.openDocument(this.isRequest));var e=this.getNamedElement("resourceViewerContainer");d.a.isTrue(!!e,"Expecting an element named resourceViewerContainer.");this._resourceViewController=new v.a(e);this._resourceViewController.registerHandler(rt.ModelName,new it);this._resourceViewController.registerHandler(tt.ModelName,new $e);this._resourceViewController.registerHandler(Je.ModelName,new Xe);this._resourceViewController.registerHandler(We.ModelName,this.textHandler=new We(new Ke));this.rootElement.classList.add(st.CssClass)}onTabResize(){this.textHandler.doLayout()}onTabActivated(){this.textHandler.doLayout()}onModelChanged(){if(this._summaryModelPropertyChangedEvtReg){this._summaryModelPropertyChangedEvtReg.unregister();this._summaryModelPropertyChangedEvtReg=null}this.model&&(this._summaryModelPropertyChangedEvtReg=this.model.propertyChanged.addHandler(this.onSummaryModelPropertiesChanged.bind(this)));var e=this._tabControl.selectedItem===this._requestTab;this.openDocument(e)}openDocument(e){this._documentModel&&this._documentModel.summaryModel&&(this._documentModel.summaryModel=null);if(this.model&&this.model.contentType&&!e)if(this.model.contentType.match(/^image/)){this._documentModel=new tt;this._documentModel.summaryModel=this.model}else if(this.model.responseBody&&this.model.responseBody.length>0){this._documentModel=new Ge(e);this._documentModel.summaryModel=this.model}else this._documentModel=null;else if(this.model&&this.model.requestContentType&&e)if("application/x-www-form-urlencoded"===this.model.requestContentType.toLowerCase()){this._documentModel=new Je;this._documentModel.summaryModel=this.model}else if(this.model.requestBody&&this.model.requestBody.length>0){this._documentModel=new Ge(e);this._documentModel.summaryModel=this.model}else this._documentModel=null;else if(this._resourceViewController&&this._documentModel){this._resourceViewController.close(this._documentModel,!0,!1);this._documentModel=null}if(!this._documentModel){var t=new rt;t.text=e?this.model?Object(f.b)("ResourceNoRequestBody"):Object(f.b)("ResourceNothingSelected"):this.model?Object(f.b)("ResourceNoResponseBody"):Object(f.b)("ResourceNothingSelected");this._documentModel=t}this._resourceViewController.open(this._documentModel)}onSummaryModelPropertiesChanged(e){switch(e){case te.RequestContentTypePropertyName:case te.RequestBodyPropertyName:case te.ContentTypePropertyName:case te.ResponseBodyPropertyName:this._delayer.delay(()=>this.openDocument(this.isRequest))}}}st.CssClass="bodyPane";class ot extends _e{constructor(e){super(e)}onApplyTemplate(){super.onApplyTemplate();this.onModelChanged();this.rootElement.classList.add(ot.CssClass)}onModelChanged(){super.onModelChanged();this.placeholder=this.model?Object(f.b)("ResourceNoCookies"):Object(f.b)("ResourceNothingSelected");this.hasData=!!this.model&&(this.model.requestCookieHeaders.length>0||this.model.responseCookieHeaders.length>0)}getChildData(e,t){var i={itemsWithPlaceholders:[],expandStates:[]};if(this.model){var r;0===e.expanderType?r=this.model.requestCookieHeaders:1===e.expanderType&&(r=this.model.responseCookieHeaders);r.forEach(e=>{e.tuples.forEach((t,r)=>{i.itemsWithPlaceholders.push({key:t.key,value:t.value});e.isRequest||0!==r?i.expandStates.push(0):i.expandStates.push(e.tuples.length-1)})})}t(i)}hasChildData(e){if(!this.model)return!1;switch(e.expanderType){case 0:return!!this.model.requestCookieHeaders&&this.model.requestCookieHeaders.length>0;case 1:return!!this.model.responseCookieHeaders&&this.model.responseCookieHeaders.length>0;default:return!1}}onTabResize(){super.onResize()}onTabActivated(){super.onResize()}getDefaultData(){return[{key:ye.ExpanderRowKeyString,value:Object(f.b)("RequestCookies"),expanderType:0},{isPlaceholder:!0},{key:ye.ExpanderRowKeyString,value:Object(f.b)("ResponseCookies"),expanderType:1},{isPlaceholder:!0}]}getDefaultExpandStates(){return[1,0,1,0]}}ot.CssClass="cookiesPane";class at extends _e{constructor(e){super(e);this.modelPropertiesDependencyList=[te.FullURLPropertyName,te.MethodPropertyName,te.ResponseHeadersPropertyName,te.RequestHeadersPropertyName,te.StatusCodePropertyName,te.StatusTextPropertyName]}onApplyTemplate(){super.onApplyTemplate();this.onModelChanged();this.rootElement.classList.add(at.CssClass)}onModelChanged(){super.onModelChanged();this.placeholder=this.model?Object(f.b)("ResourceNoHeader"):Object(f.b)("ResourceNothingSelected")}getChildData(e,t){var i={itemsWithPlaceholders:[],expandStates:[]};if(this.model){var r=[];0===e.expanderType?r=this.model.requestHeaders:1===e.expanderType&&(r=this.model.responseHeaders);r.forEach(e=>{i.itemsWithPlaceholders.push({key:e.key,value:e.value});i.expandStates.push(0)})}t(i)}hasChildData(e){if(!this.model)return!1;switch(e.expanderType){case 0:return this.hasHeaderData(this.model.requestHeaders);case 1:return this.hasHeaderData(this.model.responseHeaders);default:return!1}}onTabResize(){super.onResize()}onTabActivated(){super.onResize()}getDefaultData(){return[{key:ye.ExpanderRowKeyString,value:Object(f.b)("RequestHeadersTitle"),expanderType:0},{isPlaceholder:!0},{key:ye.ExpanderRowKeyString,value:Object(f.b)("ResponseHeadersTitle"),expanderType:1},{isPlaceholder:!0}]}getDefaultExpandStates(){return[1,0,1,0]}appendCustomData(e){if(this.model){this.model.fullURL&&e.push({key:Object(f.b)("RequestURLTitle"),value:this.model.fullURL});this.model.method&&e.push({key:Object(f.b)("RequestMethodTitle"),value:this.model.method});if(this.model.statusCode){var t=this.model.statusCode+" / "+this.model.statusText;e.push({key:Object(f.b)("StatusCodeTitle"),value:t,valueDecorator:this.buildDecoratorFromStatus(this.model.statusCode)})}}}buildDecoratorFromStatus(e){var t=document.createElement("span");t.classList.add("status-widget");e>=400?t.classList.add("status-error"):e>=300?t.classList.add("status-warning"):t.classList.add("status-ok");return t.outerHTML}hasHeaderData(e){return!!e&&e.length>0}}at.CssClass="headersPane";class nt extends m.a{constructor(e){super(e||"Network.timingsView");this.tabIndex=0}static initialize(){h.a.defineProperty(nt,nt.AriaLabelPropertyName,"");h.a.defineProperty(nt,nt.HideRedirectInfoPropertyName,!1)}onModelChanged(){super.onModelChanged();var e=[];if(this.rootElement){for(var t=[this.rootElement];t.length>0;){var i=t.pop();if(i.nodeType===i.TEXT_NODE&&i.textContent.trim())e.push(i.textContent);else if(i.childNodes&&(!i.getAttribute||!i.getAttribute("aria-hidden")||"true"!==i.getAttribute("aria-hidden").toLowerCase()))for(var r=i.childNodes.length-1;r>=0;r--)t.push(i.childNodes[r])}this.rootElement.setAttribute("aria-label",e.join(", "))}}onTabActivated(){}onTabResize(){}}nt.AriaLabelPropertyName="ariaLabel";nt.HideRedirectInfoPropertyName="hideRedirectInfo";nt.initialize();class lt extends m.a{constructor(e){super(e)}onApplyTemplate(){this._selectionTabControl=new g.a;this._selectionTabControl.tabsLeftAligned=!0;this.rootElement.appendChild(this._selectionTabControl.rootElement);this.headersView=new at;this._headersTab=new Ye.a;this._headersTab.tabPane=this.headersView;this._headersTab.title=Object(f.b)("HeadersTabTitle");this._headersTab.tooltip=Object(f.b)("HeadersTabTooltip");this._selectionTabControl.addTab(this._headersTab);this.bodyView=new st;this._bodyTab=new Ye.a;this._bodyTab.tabPane=this.bodyView;this._bodyTab.title=Object(f.b)("BodyTabTitle");this._bodyTab.tooltip=Object(f.b)("BodyTabTooltip");this._selectionTabControl.addTab(this._bodyTab);this.parametersView=new Ce;this._parametersTab=new Ye.a;this._parametersTab.tabPane=this.parametersView;this._parametersTab.title=Object(f.b)("ParametersTabTitle");this._parametersTab.tooltip=Object(f.b)("ParametersTabTooltip");this._selectionTabControl.addTab(this._parametersTab);this.cookiesView=new ot;this._cookiesTab=new Ye.a;this._cookiesTab.tabPane=this.cookiesView;this._cookiesTab.title=Object(f.b)("CookiesTabTitle");this._cookiesTab.tooltip=Object(f.b)("CookiesTabTooltip");this._selectionTabControl.addTab(this._cookiesTab);this.timingsView=new nt;this._timingsTab=new Ye.a;this._timingsTab.tabPane=this.timingsView;this._timingsTab.title=Object(f.b)("TimingsTabTitle");this._timingsTab.tooltip=Object(f.b)("TimingsTabTooltip");this._selectionTabControl.addTab(this._timingsTab);this._selectionTabControl.selectedItemChanged=(()=>{var e={TabTitle:this._selectionTabControl.selectedItem?this._selectionTabControl.selectedItem.title:"invalid"};J.analytics.logExecuteCommand(J.DETAIL_PANEL_TAB_CHANGE,T.c.Ui,2,T.b.Telemetry,e);this.updateCurrentTabView()})}onModelChanged(){super.onModelChanged();this.updateCurrentTabView()}getSelectedTab(){switch(this._selectionTabControl.selectedItem){case this._headersTab:return 0;case this._parametersTab:return 1;case this._cookiesTab:return 2;case this._bodyTab:return 3;default:return 0}}selectTab(e){switch(e){case 0:this._selectionTabControl.selectedItem=this._headersTab;break;case 1:this._selectionTabControl.selectedItem=this._parametersTab;break;case 2:this._selectionTabControl.selectedItem=this._cookiesTab;break;case 3:this._selectionTabControl.selectedItem=this._bodyTab;break;default:throw Error("Invalid tab was requested: "+e)}}onSplitterPositionChanged(e){this.headersView.onTabResize();this.bodyView.onTabResize();this.parametersView.onTabResize();this.cookiesView.onTabResize();this.timingsView.onTabResize()}updateCurrentTabView(){var e=this._selectionTabControl.selectedItem;if(e){d.a.hasValue(e.tabPane);e===this._bodyTab&&this.model?this.bodyView.isResponse?this.model.retrieveResponseBodyData().then(()=>{this.bodyView.model=this.model}):this.model.retrieveRequestBodyData().then(()=>{this.bodyView.model=this.model}):e.tabPane.model=this.model}}}var dt=i(97);class ht extends dt.a{constructor(e){super(e||"Network.defaultSummaryItemLinkTemplate")}get summaryView(){if(!this._summaryView){var e=document.getElementById("summaryView");e&&(this._summaryView=e.control);this._summaryView||d.a.failDebugOnly("Could not get the summary view - was its template or control modified?")}return this._summaryView}static initialize(){h.a.defineProperty(ht,ht.ItemIdPropertyName,void 0,(e,t,i)=>e.onItemIdChanged())}onApplyTemplate(){super.onApplyTemplate();if(this.rootElement){var e=this.getNamedElement(ht.LinkClassName)||this.rootElement;e.addEventListener("click",()=>this.navigateToRequest());e.addEventListener("keydown",e=>this.onKeydown(e))}}onItemIdChanged(){for(var e=this.summaryView.items.getOriginalArray(),t=0;t<e.length;t++)if(e[t].id===this.itemId){this.content=e[t].fullURL;break}}onKeydown(e){32!==e.keyCode&&13!==e.keyCode||this.navigateToRequest()}navigateToRequest(){this.summaryView&&this.summaryView.setSelectedItem(this.itemId)}}ht.LinkClassName="_summaryLink";ht.ItemIdPropertyName="itemId";ht.initialize();var mt,ct=i(102),ut=i(173),pt=i(62),gt=i(20);class yt extends m.a{constructor(e){super(e||yt.TemplateId)}static initialize(){h.a.defineProperty(yt,yt.BackgroundImagePropertyName,null,e=>e.onBackgroundImageChanged());h.a.defineProperty(yt,yt.MinWidthPropertyName,"3px");h.a.defineProperty(yt,yt.NetworkModelPropertyName,null,e=>e.onNetworkModelChanged());h.a.defineProperty(yt,yt.StartRatioPropertyName,0);h.a.defineProperty(yt,yt.WidthInPixelsPropertyName,0,e=>e.onWidthInPixelsChanged());h.a.defineProperty(yt,yt.WidthPropertyName,"0");h.a.defineProperty(yt,yt.WidthRatioPropertyName,0,e=>e.onWidthRatioChanged())}onApplyTemplate(){super.onApplyTemplate();this.bar=this.getNamedElement("waterfallItemBar");d.a.isTrue(!!this.bar||"div"!==this.bar.tagName,"Expecting a div element named waterfallItemBar.")}onModelChanged(){super.onModelChanged();if(null===this.model)this.networkModel=null;else{this.trySetBackgroundImage();this.trySetPositionAndWidth()}}onBackgroundImageChanged(){this.trySetBackgroundImage()}onNetworkModelChanged(){if(this._networkModelPropertyChangedEventRegistration){this._networkModelPropertyChangedEventRegistration.unregister();this._networkModelPropertyChangedEventRegistration=null}if(this.networkModel){this._networkModelPropertyChangedEventRegistration=this.networkModel.propertyChanged.addHandler(this.onNetworkModelPropertyChanged.bind(this));this.trySetBackgroundImage();this.trySetPositionAndWidth()}}onNetworkModelPropertyChanged(e){switch(e){case ie.RulerDurationPropertyName:case ie.StartTimestampPropertyName:this.trySetPositionAndWidth()}}onWidthInPixelsChanged(){this.minWidth="";this.width=this.widthInPixels+"px"}onWidthRatioChanged(){this.minWidth="3px";this.width=C.DecimalToPercentageStringConverter.convertTo(this.widthRatio)}trySetBackgroundImage(){if(this.model&&this.networkModel){var e=this.model.timingsViewModel;if(0!==this.model.timingsState)this.backgroundImage="linear-gradient(to right,"+_.CACHE_HIT_COLOR+" 0%,"+_.CACHE_HIT_COLOR+" 100%)";else if(e&&e.stages&&e.stages.length>0){for(var t="",i=0,r=e.stages.length;i<r;++i){var s=e.stages[i],o=e.stages[i+1],a=s.startRatio,n=s.startRatio+s.durationRatio;o&&(n=Math.min(n,o.startRatio));if(a!==n){var l=C.DecimalToPercentageStringConverter.convertTo(a),d=C.DecimalToPercentageStringConverter.convertTo(n);t+=s.color+" "+l+","+s.color+" "+d;i<r-1&&(t+=",")}}this.backgroundImage="linear-gradient(to right,"+t+")"}}}setWidthInPixels(e){this.widthRatio=0;this.widthInPixels=e}setWidthRatio(e){this.widthInPixels=0;this.widthRatio=e}trySetPositionAndWidth(){if(this.model&&this.networkModel){var e=this.networkModel.rulerDuration;if(e.greaterThan(G.a.Zero)){var t=this.model.timingsViewModel;if(0!==this.model.timingsState){var i=this.model.startTimestamp.subtract(this.networkModel.startTimestamp).nsec/e.nsec;this.startRatio=i;this.setWidthInPixels(1);this.trySetBackgroundImage()}else if(t&&t.totalDuration&&void 0!==this.model.startTimestamp){i=this.model.startTimestamp.subtract(this.networkModel.startTimestamp).nsec/e.nsec;var r=t.totalDuration.nsec/e.nsec;if(i+r>1){this.networkModel.rulerDuration=G.a.fromNanoseconds(e.nsec*(i+r));return}this.startRatio=i;this.setWidthRatio(r)}}}}}yt.BackgroundImagePropertyName="backgroundImage";yt.MinWidthPropertyName="minWidth";yt.NetworkModelPropertyName="networkModel";yt.StartRatioPropertyName="startRatio";yt.TemplateId="Network.waterfallItemTemplate";yt.WidthInPixelsPropertyName="widthInPixels";yt.WidthPropertyName="width";yt.WidthRatioPropertyName="widthRatio";yt.initialize();class _t{constructor(e){this._summaryView=e}get item(){return this._item}findNext(e){if(!this._item||this._wasFound)return!1;var t=L.a.escapeRegExp(e),i=new RegExp(t,"gi");this._wasFound=i.test(this._item.fullURL);if(this._wasFound){this._summaryView.selectedItem=this._item;return!0}return!1}moveToNextItem(e){var t=this._item?this._summaryView.items.indexOf(this._item):-1;(t+=e?1:-1)<0&&(t=this._summaryView.items.length-1);t>=this._summaryView.items.length&&(t=0);this._item=this._summaryView.items.getItem(t);this._wasFound=!1;return Promise.resolve(null)}cleanupOldSearchResults(){}findAndHighlightMatches(e){}}!function(e){e[e.CopyRow=0]="CopyRow";e[e.CopyUrl=1]="CopyUrl";e[e.CopyRequestHeaders=2]="CopyRequestHeaders";e[e.CopyResponseHeaders=3]="CopyResponseHeaders";e[e.CopyResponsePayload=4]="CopyResponsePayload"}(mt||(mt={}));class Ct extends me.a{constructor(e){super(e.index,e.label,e.tooltip,e.width,!0,null);this.headerCss="header";this.evenRowCss="even-row-cell";this.oddRowCss="odd-row-cell";this.hidden=e.hidden;this.tooltip=e.tooltip;this.comparer=e.comparer;this.getCellControl=e.getCellControl;this.getClipboardText=e.getClipboardText;this.excludeFromClipboard=e.excludeFromClipboard;this.getAriaLabelDescription=e.getAriaLabelDescription}bindContents(e){if(this.subLabel){this.getHeaderCellContents=e.buildMultilineHtmlHeaderCellContents.bind(e);this.subLabel=this.subLabel}if(this.getCellControl){this.hasHTMLContent=!0;this.getCellContents=e.buildCellContents.bind(e,this.populateCellControl.bind(this))}}populateCellControl(e,t,i,r,s){var o=this.getCellControl();o instanceof m.a&&(o.model=s);e.appendChild(o.rootElement)}}class Tt extends m.a{onTooltipChangedOverride(){super.onTooltipChangedOverride();if(this.tooltip){this.rootElement.setAttribute("data-plugin-vs-tooltip",this.tooltip);gt.b(this.rootElement)}else this.rootElement.removeAttribute("data-plugin-vs-tooltip")}}class ft extends m.a{constructor(){super(ft.TemplateId)}onSourceInfoClicked(){if(this.model&&this.model.initiatorSourceInfo){var e=this.model.initiatorSourceInfo;k.h(e.source,e.line,e.column)}}}ft.TemplateId="Network.cellInitiator";class vt extends Ct{constructor(e){super(e);this._domNodeInsertedHandler=this.onDomNodeInserted.bind(this);this.getHeaderCellContents=this.getHeaderElement.bind(this)}bindContents(e){super.bindContents(e);this.getCellContents=e.buildCellContents.bind(e,this.populateCell.bind(this))}static showTimingsTooltip(e){var t=new m.a("Network.timingsTooltip");t.model=e;gt.c({content:t.rootElement.outerHTML,contentContainsHTML:!0,delay:250})}addAppEventMark(e,t){var i;try{i=Microsoft.VisualStudio.DiagnosticsHub.BigNumber.convertFromNumber(e.nsec)}catch(e){i=Microsoft.VisualStudio.DiagnosticsHub.BigNumber.zero}var r=new Microsoft.VisualStudio.DiagnosticsHub.MarkData(i,t);this._rulerScale.addMark(Microsoft.VisualStudio.DiagnosticsHub.MarkType.LifeCycleEvent,r)}removeAppEventMarks(e){for(var t=0;t<this._markSeries.length;t++)if(this._markSeries[t].id===Microsoft.VisualStudio.DiagnosticsHub.MarkType.LifeCycleEvent){for(var i=this._markSeries[t].data,r=0;r<i.length;r++)if(e===i[r].tooltip){i.splice(r,1);break}break}}getHeaderElement(e,t){if(!this._header||!this._headerPopulated){this._header=document.createElement("div");this._header.id="timingsWaterfallColumnHeader";this._header.className="timingsWaterfallColumnHeader";this._header.addEventListener("DOMNodeInserted",this._domNodeInsertedHandler);this._cachedWidth=0}if(this._cachedWidth!==this._header.clientWidth){this._cachedWidth=this._header.clientWidth;this.onResize()}return this._header}initializeRuler(){this._markSeries=[{index:0,id:Microsoft.VisualStudio.DiagnosticsHub.MarkType.LifeCycleEvent,label:Object(f.b)("RulerLifecycleMarkLabel"),data:null},{index:1,id:Microsoft.VisualStudio.DiagnosticsHub.MarkType.UserMark,label:Object(f.b)("RulerUserMarkLabel"),data:null}];var e=["vs-image-graph-app-event","vs-image-graph-user-mark"],t="vs-image-graph-aggregated-event";this._rulerScale=new Microsoft.VisualStudio.DiagnosticsHub.RulerScale(new Microsoft.VisualStudio.DiagnosticsHub.JsonTimespan(Microsoft.VisualStudio.DiagnosticsHub.BigNumber.zero,Microsoft.VisualStudio.DiagnosticsHub.BigNumber.zero),this._markSeries,e,t,!0);this._header.appendChild(this._rulerScale.container);this._rulerScale.resize(null);this._rulerScale.container.querySelector("#scaleMarks").setAttribute("tabIndex","-1")}onDomNodeInserted(e){if(e.target===this._header&&document.getElementById(this._header.id)){this._header.removeEventListener("DOMNodeInserted",this._domNodeInsertedHandler);this.populateHeader()}}onNetworkModelPropertyChanged(e){switch(e){case ie.RulerDurationPropertyName:case ie.StartTimestampPropertyName:this.renderRuler();break;case ie.DomContentLoadedTimeProperty:this.updateDOMContentLoadedMark();break;case ie.LoadEventCompletedTimeProperty:this.updateLoadEventMark()}}onResize(){this._rulerScale&&this._rulerScale.resize(null)}populateCell(e,t,i,r,s){var o=this.getCellControl(),a=s;o.model=a;o.networkModel=this.networkModel;o.bar.onmouseover=vt.showTimingsTooltip.bind(this,a);o.bar.onmouseout=(()=>gt.a());e.appendChild(o.rootElement)}populateHeader(){this.initializeRuler();if(this._networkModelPropertyChangedEventRegistration){this._networkModelPropertyChangedEventRegistration.unregister();this._networkModelPropertyChangedEventRegistration=null}this.networkModel&&(this._networkModelPropertyChangedEventRegistration=this.networkModel.propertyChanged.addHandler(this.onNetworkModelPropertyChanged.bind(this)));this._headerPopulated=!0}renderRuler(){var e;try{e=Microsoft.VisualStudio.DiagnosticsHub.BigNumber.convertFromNumber(this.networkModel.rulerDuration.nsec)}catch(t){e=Microsoft.VisualStudio.DiagnosticsHub.BigNumber.zero}var t=new Microsoft.VisualStudio.DiagnosticsHub.JsonTimespan(Microsoft.VisualStudio.DiagnosticsHub.BigNumber.zero,e);this._rulerScale.onViewportChanged({currentTimespan:t,selectionTimespan:null,isIntermittent:!1})}updateDOMContentLoadedMark(){var e=this.networkModel.domContentLoadedTime;this.updateMark(e,"DOMContentLoaded")}updateLoadEventMark(){var e=this.networkModel.loadEventCompletedTime;this.updateMark(e,"Load")}updateMark(e,t){e&&e!==G.a.Zero?this.addAppEventMark(e,t):this.removeAppEventMarks(t)}}vt.NetworkModelPropertyName="networkModel";class St extends h.b{constructor(e){super();e||(e=document.createElement("div"));this._expandStates=[];this._rootElement=e;this._cellControlPool=new ut.a;this.dataGrid=new pe(this._rootElement,this);this.dataGrid.selectedIndexChanged=((e,t)=>this.onGridSelectedIndexChanged(e,t));this._sortColumns=this.dataGrid.getSortColumns();this._rootElement.addEventListener("keydown",this.onKeyDown.bind(this));this._timeoutId=null}bindColumns(e){this._columnInfo.forEach(t=>{t.bindContents(e)})}get rootElement(){return this._rootElement}static initialize(){h.a.defineProperty(St,St.ItemsPropertyName,[],(e,t,i)=>e.onItemsChanged(t,i));h.a.defineProperty(St,St.ModelPropertyName,null,e=>e.onModelChanged());h.a.defineProperty(St,St.SelectedItemPropertyName,null,(e,t,i)=>e.onSelectedItemChanged(t,i))}setSelectedItem(e){if("number"==typeof e)for(var t=this.items.getFilteredArray(),i=0;i<t.length;i++)if(t[i].id===e){this.selectedItem=t[i];return!0}ne(Object(f.b)("MissingRequestError"));return!1}getChildData(e,t){}getColumns(){if(!this._columnInfo){var e=[{getCellControl:()=>this._cellControlPool.getControl("Network.cellURL",()=>new Tt("Network.cellURL")),index:te.FullURLPropertyName,label:Object(f.b)("Name"),subLabel:Object(f.b)("Path"),tooltip:Object(f.b)("PathHeaderTooltip"),width:300,comparer:(e,t,i,r)=>te.compareOnFilename(i,r)},{getCellControl:()=>this._cellControlPool.getControl("Network.cellProtocol",()=>new Tt("Network.cellProtocol")),index:te.ProtocolNamePropertyName,label:Object(f.b)("ProtocolHeaderLabel"),tooltip:Object(f.b)("ProtocolHeaderLabelTooltip"),width:60},{getCellControl:()=>this._cellControlPool.getControl("Network.cellMethod",()=>new Tt("Network.cellMethod")),index:te.MethodPropertyName,label:Object(f.b)("MethodHeaderLabel"),tooltip:Object(f.b)("MethodHeaderTooltip"),width:60},{getCellControl:()=>this._cellControlPool.getControl("Network.cellStatusCode",()=>new Tt("Network.cellStatusCode")),index:te.StatusCodePropertyName,label:Object(f.b)("StatusCodeHeaderLabel"),subLabel:Object(f.b)("StatusCodeHeaderSubLabel"),tooltip:Object(f.b)("StatusCodeHeaderTooltip"),width:100},{getCellControl:()=>this._cellControlPool.getControl("Network.cellContentType",()=>new Tt("Network.cellContentType")),index:te.ContentTypePropertyName,label:Object(f.b)("ContentType"),tooltip:Object(f.b)("ContentTypeHeaderTooltip"),width:100},{getCellControl:()=>this._cellControlPool.getControl("Network.cellTransferSize",()=>new Tt("Network.cellTransferSize")),index:te.TransferSizePropertyName,label:Object(f.b)("ReceivedHeaderLabel"),tooltip:Object(f.b)("ReceivedHeaderTooltip"),width:100,comparer:(e,t,i,r)=>te.compareOnContentSize(i,r)},{getCellControl:()=>this._cellControlPool.getControl("Network.cellTotalTime",()=>new Tt("Network.cellTotalTime")),index:te.TotalTimePropertyName,label:Object(f.b)("TotalTimeHeaderLabel"),tooltip:Object(f.b)("TotalTimeHeaderTooltip"),width:70,comparer:St.columnComparerForTimestamps,getClipboardText:St.getClipboardTextForTimestamp,getAriaLabelDescription:St.getAriaLabelDescriptionForTimestamp},{getCellControl:()=>this._cellControlPool.getControl(ft.TemplateId,()=>new ft),index:te.InitiatorLocationPropertyName,label:Object(f.b)("InitiatorHeaderLabel"),subLabel:Object(f.b)("InitiatorHeaderSubLabel"),tooltip:Object(f.b)("InitiatorHeaderTooltip"),width:200,comparer:(e,t,i,r)=>te.compareOnInitiator(i,r),getClipboardText:St.getClipboardTextForInitiator,hidden:!1},{getCellControl:()=>this._cellControlPool.getControl(yt.TemplateId,()=>new yt),index:te.StartTimestampPropertyName,label:Object(f.b)("StartTimeLabel"),tooltip:Object(f.b)("WaterfallHeaderTooltip"),width:300,comparer:St.columnComparerForStartTimestamp,excludeFromClipboard:!0,getAriaLabelDescription:St.getAriaLabelDescriptionForTimeobject}];this._columnInfo=e.map(e=>{if(e.index===te.StartTimestampPropertyName){var t=new vt(e);new ct.c(this,St.ModelPropertyName,t,vt.NetworkModelPropertyName);return t}return new Ct(e)})}return this._columnInfo}getDefaultSortOrders(){return[new pt.g(te.StartTimestampPropertyName,"asc")]}customizeGridOptions(e){e.asyncInit=!1;e.coreCssClass="network-grid";e.canvasClass="network-grid-canvas";e.headerElementClass="network-grid-header";e.cellClass=pe.MultiLineGridCellClass;e.cellCleanUpCallback=(e=>this.onCellCleanUp(e));e.onBeforeSortCallback=(e=>this.onBeforeSort(e));return e}getContextMenuCommands(){var e=[];e.push({callback:()=>{this.invokeCopy(mt.CopyRow)},type:he.MenuItemType.command,label:Object(f.b)("CopyWithKeyboardShortcutContextMenu")});e.push({callback:()=>{this.invokeCopy(mt.CopyUrl)},type:he.MenuItemType.command,label:Object(f.b)("CopyURLContextMenu")});e.push({callback:()=>{this.invokeCopy(mt.CopyRequestHeaders)},type:he.MenuItemType.command,label:Object(f.b)("CopyRequestHeaderContextMenu")});e.push({callback:()=>{this.invokeCopy(mt.CopyResponseHeaders)},type:he.MenuItemType.command,label:Object(f.b)("CopyResponseHeaderContextMenu")});e.push({callback:()=>{this.invokeCopy(mt.CopyResponsePayload)},type:he.MenuItemType.command,label:Object(f.b)("CopyResponsePayloadContextMenu")});return e}onContextMenuOpening(){this._responseBodyRetrievalPromise=this.selectedItem.retrieveResponseBodyData()}onCtrlG(){}onSplitterPositionChanged(e){}getSearchIterator(){return new _t(this)}static columnComparerForNumbers(e,t,i){return(t[e.index]||0)-(i[e.index]||0)}static columnComparerForStartTimestamp(e,t,i,r){var s=i[e.index],o=r[e.index];s&&0===s.nsec&&(s=null);o&&0===o.nsec&&(o=null);return St.compareTimestamp(s,o)}static columnComparerForTimestamps(e,t,i,r){var s=i[e.index],o=r[e.index];return St.compareTimestamp(s,o)}static compareTimestamp(e,t){return e&&t?e.compare(t):e&&!t?-1:t&&!e?1:0}static getAriaLabelDescriptionForTimestamp(e,t){var i=t[e.index];return C.TimeStampToStringConverter.convertTo(i)}static getAriaLabelDescriptionForTimeobject(e,t){var i=t[e.index];return C.TimeStampToTimeStringConverter.convertTo(i)}static getClipboardTextForTimestamp(e,t){var i=t[e.index];return C.TimeStampToStringConverter.convertTo(i)}static getClipboardTextForInitiator(e,t){var i=t.initiatorType||"";t.initiatorLocation&&(i+=" ("+t.initiatorLocation+")");return i}ensureFallbackSortOrder(e){for(var t=0;t<e.length;++t){if(e[t].index===te.StartTimestampPropertyName)return}var i=this.getDefaultSortOrders();e.push.apply(e,i)}invokeCopy(e){var t=[],i="";switch(e){case mt.CopyRow:this.dataGrid.copyTextToClipboard();return;case mt.CopyUrl:t.push(this.selectedItem.fullURL);break;case mt.CopyRequestHeaders:t=this.selectedItem.requestHeaders.map(e=>e.key+": "+e.value);i="\r\n";break;case mt.CopyResponseHeaders:t=this.selectedItem.responseHeaders.map(e=>e.key+": "+e.value);i="\r\n";break;case mt.CopyResponsePayload:this._responseBodyRetrievalPromise.then(()=>{this.selectedItem.responseBodyBase64Encoded&&t.push("data:"+this.selectedItem.contentType+";base64,");t.push(this.selectedItem.responseBody);this.dataGrid.copyTextToClipboard(t.join(i))})}this.dataGrid.copyTextToClipboard(t.join(i))}isSortableProperty(e){for(var t=this.dataGrid.getSortOrder(),i=0;i<t.length;++i){if(t[i].index===e)return!0}return!1}onBeforeSort(e){this.ensureFallbackSortOrder(e);this._sortColumns=this.dataGrid.getSortColumns(e)}onCellCleanUp(e){if(1===e.childElementCount){var t=e.firstElementChild.control;if(t instanceof m.a){t.model=null;this._cellControlPool.recycleControl(t.templateId,t)}}}onItemsChanged(e,t){if(this._onItemsCollectionChangedRegistration){this._onItemsCollectionChangedRegistration.unregister();this._onItemsCollectionChangedRegistration=null}t&&(this._onItemsCollectionChangedRegistration=t.collectionChanged.addHandler(e=>this.onItemsCollectionChanged(e)));this.setDataSource(t?t.getFilteredArray():[])}onItemsCollectionChanged(e){this.setDataSource(this.items.getFilteredArray())}onItemPropertyChanged(e){this.isSortableProperty(e.propertyName)&&this.setDataSource(this.items.getFilteredArray())}onGridSelectedIndexChanged(e,t){if(t>=0&&!this.dataGrid.isEmpty()){this.selectedItem=this.dataGrid.getRowData(t);J.analytics.logExecuteCommand(J.SELECTED_INDEX_CHANGED,T.c.Ui,2,T.b.Telemetry,{ContentType:this.selectedItem.contentType,RequestContentType:this.selectedItem.requestContentType,ContentEncoding:this.selectedItem.contentEncoding})}else this.selectedItem=null}onModelChanged(){if(this._summaryBarEventRegistration){this._summaryBarEventRegistration.unregister();this._summaryBarEventRegistration=null}if(this._onItemPropertyChangedRegistration){this._onItemPropertyChangedRegistration.unregister();this._onItemPropertyChangedRegistration=null}if(this.model){this._summaryBarEventRegistration=this.model.summaryBarModel.sortByStatusCode.addHandler(this.onSortByStatusCodeViaSummaryBar.bind(this));this._onItemPropertyChangedRegistration=this.model.summaryItemPropertyChanged.addHandler(this.onItemPropertyChanged.bind(this))}}onKeyDown(e){!this.selectedItem||!this.model.detailsPanelCollapsed||13!==e.keyCode||e.shiftKey||e.ctrlKey||e.altKey||(this.model.detailsPanelCollapsed=!1)}onSelectedItemChanged(e,t){this.updateSourceInfoTabIndex(e,-1);if(this.selectedItem){var i=!0,r=this.dataGrid.getSelectedDataIndex();if(r>=0){this.dataGrid.getRowData(r)===this.selectedItem&&(i=!1)}if(i){var s=this.dataGrid.getRowDataIndex(this.selectedItem);this.dataGrid.setSelectedDataIndex(s);this.dataGrid.getSelectedRowIntoView()}this.updateSourceInfoTabIndex(t,0)}else{e!==t&&this.updateSourceInfoTabIndex(t,-1);this.dataGrid._clearSelection()}}updateSourceInfoTabIndex(e,t){if(e&&e.initiatorSourceInfo){var i=this.dataGrid.getRowDataIndex(e),r=this.dataGrid.getRowInfo(i);if(r)for(var s=r.row.getElementsByClassName("BPT-FileLink clippedText"),o=0;o<s.length;o++){var a=s[o];if("sourceInfo"===a.getAttribute("data-name")){a.tabIndex=t;break}}}}setDataSource(e){if(this._timeoutId)this._nextDataSource=e;else{if(this._expandStates.length>e.length)this._expandStates.length=e.length;else for(;this._expandStates.length<e.length;)this._expandStates.push(0);var t=this.dataGrid.getSelectedDataIndex(),i=this.dataGrid.getRowData(t),r=this.dataGrid.getSortOrder();this.onBeforeSort(r);e.sort((e,t)=>me.c.sortComparer(r,this._sortColumns,e,t));this.dataGrid.setDataSource(e,this._expandStates,this.getColumns(),r);if(t>=0&&i){var s=e.indexOf(i);this.dataGrid.setSelectedDataIndex(s)}je.TestEventObject.fireEvent(ze.SummaryDataSourceUpdated);this._timeoutId=window.setTimeout(()=>{this._timeoutId=null;if(this._nextDataSource){this.setDataSource(this._nextDataSource);this._nextDataSource=null}},St.UpdateTimeoutLength)}}getColumnWithIndex(e){for(var t,i=0;i<this._columnInfo.length;i++)if(this._columnInfo[i].index===e){t=this._columnInfo[i];break}return t}onSortByStatusCodeViaSummaryBar(){var e=new pt.g(te.StatusCodePropertyName,"desc"),t=this.getColumnWithIndex(te.StatusCodePropertyName);this.dataGrid.onSort([e],[t]);this.dataGrid.setSelectedRowIndex(0);this.dataGrid.getSelectedRowIntoView()}}St.UpdateTimeoutLength=50;St.ItemsPropertyName="items";St.ModelPropertyName="model";St.SelectedItemPropertyName="selectedItem";St.initialize();class bt extends m.a{onApplyTemplate(){super.onApplyTemplate();gt.b(this.rootElement)}}function It(){Object(l.a)();Object(n.a)("Common.Controls",{TabControl:g.a});Object(n.a)("F12.Tools.Network.Converters",{ByteSizeToStringConverter:C.ByteSizeToStringConverter,DecimalToPercentageStringConverter:C.DecimalToPercentageStringConverter,StatusCodeToClassNameConverter:C.StatusCodeToClassNameConverter,TimeStampToStringConverter:C.TimeStampToStringConverter,UrlHasNoNameConverter:C.UrlHasNoNameConverter,UrlToFilenameConverter:C.UrlToFilenameConverter,UrlToHostnameConverter:C.UrlToHostnameConverter,UrlToPathConverter:C.UrlToPathConverter,ZeroToEmptyStringConverter:C.ZeroToEmptyStringConverter,TimingsStateIsServedFromCacheConverter:C.TimingsStateIsServedFromCacheConverter,TimeStampToTimeStringConverter:C.TimeStampToTimeStringConverter});Object(n.a)("F12.Tools.Network",{CollapsibleGridSplitter:p,SelectionView:lt,SummaryItemLinkControl:ht,SummaryView:St,TimingsView:nt,TooltipTemplateControl:bt})}It();Object(s.a)().then(async()=>{await Object(r.a)();window.addEventListener("load",()=>{Object(o.g)().call("ms:host","postPendingMessageToPlugin",[a.c.network]);J.initializeAnalytics();new je})})}});
