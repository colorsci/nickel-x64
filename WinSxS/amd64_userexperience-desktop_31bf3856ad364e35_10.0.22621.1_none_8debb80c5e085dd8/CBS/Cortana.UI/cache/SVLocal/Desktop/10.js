var Microsoft,__extends,WindowsFeedback,Feedback;(function(n){var t;(function(t){"use strict";function e(t){for(var f=null,r,i,u=0;u<t.length;u++){r=t[u];try{i=r.provide()}catch(e){n.le("Query provider "+r.name+" failed",e)}if(typeof i=="string"&&i.length>0){f=i;break}}return f}function p(t){var u=t.querySelectorAll('input[type="radio"][required][name]'),i=!0,r;return n.Core.ForEach(u,function(n){var r=n.getAttribute("name"),u='input[type="radio"][required][name="'+r+'"]:checked',f=t.querySelector(u)!==null;i=i&&f}),r=t.querySelectorAll('input[type="checkbox"][required][groupname]'),n.Core.ForEach(r,function(n){var r=n.getAttribute("groupname"),u='input[type="checkbox"][required][groupname="'+r+'"]:checked',f=t.querySelector(u)!==null;i=i&&f}),i}function l(t,i){var r,u;return t===window?t.document.documentElement["client"+i]:t.nodeType===9?(r=t.documentElement,u=t.body,Math.max(u["scroll"+i],u["offset"+i],r["scroll"+i],r["offset"+i],r["client"+i])):parseFloat(n.Core.GetComputedStyle(t)[i.toLowerCase()])}function a(n,t,i){var u={},f;for(var r in t)u[r]=n.style[r],n.style[r]=t[r];f=i(n);for(r in t)n.style[r]=u[r];return f}function w(){y(!1)}function v(n){y(!0,n)}function y(t,i){n.Core.ForEach(_d.querySelectorAll('input[type="text"], input[type="search"]'),function(n){n.hasAttribute("data-depends-on")||t&&n===i||(n.disabled=t)})}function i(n){var t=String(n);return t.length===1&&(t="0"+t),t}var f,r,o,s,h,c,u;t.selectedElementClass="hlsrc";t.menuListClass="hlselcxmnlist";t.menuButtonClass="hlselcxmnbt";t.verbatimTxtId="fbpgdgtx";window._w=window._w||window;window._d=window._d||_w.document;f=_d.documentElement.matches||_d.documentElement.webkitMatchesSelector||_d.documentElement.mozMatchesSelector||_d.documentElement.oMatchesSelector||_d.documentElement.msMatchesSelector;r=document.compatMode==="CSS1Compat";t.spokenQuery=null;n.Core.GenerateString=function(n){for(var i="",r="abcdefghijklmnopqrstuvwxyz0123456789",t=0;t<n;++t)i+=r.charAt(Math.floor(Math.random()*r.length));return i};n.Core.GenerateHtmlId=function(t){return"f"+n.Core.GenerateString(t-1)};n.Core.Stringify=function(t){var i="",u=0,r;switch(typeof t){case"object":if(t instanceof Array){for(i+="[",r=0;r<t.length;r++)r>0&&(i+=","),i+=n.Core.Stringify(t[r]);i+="]"}else if(t instanceof Boolean||t instanceof Date||t instanceof Number||t instanceof String)i=t.toString();else{i+="{";for(r in t)t.hasOwnProperty(r)&&(u>0&&(i+=","),i+='"'+r+'":'+n.Core.Stringify(t[r]),u++);i+="}"}return i;case"boolean":case"number":return t.toString();case"string":return'"'+t.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t")+'"';default:return null}};n.Core.FetchLocalStorage=function(){try{if(_w.localStorage){var n="CB47C15FA3044AB884F7E32B9FD32ED2";return _w.localStorage.setItem(n,"1"),_w.localStorage.removeItem(n),_w.localStorage}}catch(t){return undefined}};o=[{name:"page",provide:function(){var n=_ge("sb_form_q");return n&&n.value}},{name:"threshold",provide:function(){var t="ThresholdUtilities",n=_w[t]||_w.parent[t];return n&&n.getDecodedQuery&&n.getDecodedQuery()}},{name:"cortana",provide:function(){var t="SearchAppWrapper",i=_w[t]||_w.parent[t],r=i&&i.CortanaApp,n=r&&r.searchBox;return n&&n.getQueryText&&n.getQueryText().queryText}},{name:"spokenquery",provide:function(){return t.spokenQuery}},{name:"urlparam",provide:function(){if(typeof URL!="function")return null;var n=new URL(t.GetLocation()),i;return n&&n.search&&n.search.match&&(i=n.search.match(/[?&]q=([^?&#]*)/i))&&i.length>=2?decodeURI(i[1]):null}}];n.Core.GetUserQuery=function(){return e(o)};s=[{name:"locmet",provide:function(){var n="sj_locmet";return typeof _w[n]=="object"&&_w[n].GetCurrentUrl()}},{name:"miniSerp",provide:function(){var t=window.self!==window.top,n;return t?(n=_d.querySelector("base[href]"),n&&n.href):null}},{name:"location",provide:function(){return location.href}}];n.Core.GetLocation=function(){return e(s)};n.Core.GetISODate=function(n){return Date.prototype.toISOString?n.toISOString():n.getUTCFullYear()+"-"+i(n.getUTCMonth()+1)+"-"+i(n.getUTCDate())+"T"+i(n.getUTCHours())+":"+i(n.getUTCMinutes())+":"+i(n.getUTCSeconds())+"."+String((n.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"};n.Core.AddUrlParam=function(n,t,i){var r=n;return t&&t.length>0&&i&&(r=r+(r.indexOf("?")>=0?"&":"?")+t+"="+encodeURIComponent(i)),r};n.Core.AddInstToUrl=function(t){var u=_w.feedback,i,f,r;return u&&u.config&&u.config.postIgEnabled&&(t=n.Core.AddUrlParam(t,"IG",_G.IG),i=_w.fbpkgiid,f=i&&i.page,f&&(t=n.Core.AddUrlParam(t,"iid",f),r=i&&i.sfx,isNaN(r)?r=1:r++,i.sfx=r,t=n.Core.AddUrlParam(t,"sfx",r))),t};n.Core.IsEmptyObject=function(n){for(var t in n)return!1;return!0};h=/\s+$/;c=/^\s+/;n.Core.Trim=function(n){return n.trim?n.trim():n.replace(c,"").replace(h,"")};n.Core.IndexOf=function(n,t){var i;if(n.indexOf)i=n.indexOf(t);else{for(i=0;i<n.length;i++)if(n[i]===t)break;i=i<n.length?i:-1}return i};n.Core.EnableValidation=function(i,r){var u=function(t){var i=sj_et(t),u;i&&(!!r==!1&&v(i),u=n.Core.GetTextInputValue(i),u&&u.length!==0||(Lib.CssClass.add(i,"active"),i.value=""))},f=function(n){var i=sj_et(n),r;i&&(w(),t.RemoveTextError(i),r=_w.feedback&&_w.feedback.config&&_w.feedback.config.dialog&&_w.feedback.config.dialog.emulatePlaceholderText,i.value.length===0&&r&&(Lib.CssClass.remove(i,"active"),i.value=i.getAttribute("data-txt")))},e=function(n){var t=sj_et(n);t&&v(t)};n.Core.ForEach(i.querySelectorAll('textarea, input[type="text"]'),function(n){sj_be(n,"blur",f);sj_be(n,"change",f);r?(sj_be(n,"focus",e),sj_be(n,"keydown",u),sj_be(n,"tap",u),sj_be(n,"taphold",u),sj_be(n,"mouseup",u),sj_be(n,"click",u)):sj_be(n,"focus",u)})};n.Core.ValidateInputs=function(i){var f=i.querySelectorAll('input[type="text"][data-err]:enabled, textarea[data-err]:enabled'),u=!0,r=null;return n.Core.ForEach(f,function(i){var f=i,e=f.getAttribute("data-depends-on"),o=typeof e=="string"&&e.length>0&&_ge(e),s=f.value;if(o&&!o.checked||!o&&f.getAttribute("data-optional")){t.RemoveTextError(f);return}f.id===n.Core.verbatimTxtId&&n.CheckboxMenus&&n.CheckboxMenus.IsAtLeastOneItemChecked()||(t.GetTextInputValue(f).length===0||n.Core.Trim(s)==="")&&(feedback.config.dialog.dynamicSubmitButton||(t.AddTextError(f),r||(r=f,r.focus())),u=!1)}),u&&p(i)};n.Core.GetTextInputValue=function(n){if(!n)return"";var t=n.value;return(t===n.getAttribute("data-txt")||t===n.getAttribute("data-err"))&&(t=""),t};n.Core.GetTextInputErrorElement=function(n){return!n||!n.id?null:_ge(n.id+"_error")};n.Core.RemoveTextError=function(n){Lib.CssClass.remove(n,"error");var i=t.GetTextInputErrorElement(n);i&&!t.IsHidden(i)&&t.Hide(i)};n.Core.AddTextError=function(n){Lib.CssClass.add(n,"error");var i=t.GetTextInputErrorElement(n);i&&t.IsHidden(i)&&t.Show(i,"inline-block")};n.Core.LoopFocus=function(n){var e,i,o,h,s,r,l;if(n){var u=null,f=null,c=n.querySelectorAll("*");for(e=0;e<c.length;e++)if(i=c[e],o=!1,i instanceof HTMLInputElement||i instanceof HTMLSelectElement||i instanceof HTMLTextAreaElement||i instanceof HTMLButtonElement?(h=i,o=!h.disabled&&!h.readOnly):i instanceof HTMLAnchorElement&&(o=!!i.href),o&&!t.IsHidden(i)){for(s=i,r=s;r!==n&&!t.IsHidden(r);)r=r.parentNode;l=r!==n;l||(u===null&&(u=s),f=s)}u&&f&&(sj_be(u,"keydown",function(n){n.key!=="Tab"||!n.shiftKey||n.ctrlKey||n.altKey||(n.preventDefault(),f.focus())}),sj_be(f,"keydown",function(n){n.key!=="Tab"||n.shiftKey||n.ctrlKey||n.altKey||(n.preventDefault(),u.focus())}))}};n.Core.ForEach=function(n,t){for(var r,u,i=0;i<n.length;i++)if(r=n[i],u=t(r),u===!1)break};n.Core.WindowScrollTop=function(){return _w.pageYOffset||r&&_d.documentElement.scrollTop||_d.body.scrollTop};n.Core.WindowScrollLeft=function(){return _w.pageXOffset||r&&_d.documentElement.scrollLeft||_d.body.scrollLeft};n.Core.Width=function(n){return l(n,"Width")};n.Core.Height=function(n){return l(n,"Height")};n.Core.Remove=function(n){n&&n.parentNode&&n.parentNode.removeChild&&n.parentNode.removeChild(n)};n.Core.ForEachChildren=function(n,t){for(var i=n.firstChild;i;i=i.nextSibling)i.nodeType===1&&t(i)};n.Core.Matches=function(n,t){return f.call(n,t)};n.Core.Offset=function(t){var i,r,u,f;if(t)return t.getClientRects().length?(i=t.getBoundingClientRect(),r=i.height!==undefined?i.height||i.width:i.bottom-i.top||i.right-i.left,!r)?i:(u=_d.documentElement.clientTop||_d.body.clientTop||0,f=_d.documentElement.clientLeft||_d.body.clientLeft||0,{top:i.top+n.Core.WindowScrollTop()-u,left:i.left+n.Core.WindowScrollLeft()-f}):{top:0,left:0}};u={position:"absolute",visibility:"hidden",display:"block"};n.Core.GetComputedStyle=function(n){return!n||!n.style?undefined:_w.getComputedStyle?_w.getComputedStyle(n):n.currentStyle};n.Core.ApplyCss=function(n,t){if(n&&n.style&&typeof t=="object")for(var i in t)n.style[i]=t[i]};n.Core.OuterWidth=function(t){return!t||!t.style?undefined:n.Core.IsHidden(t)?a(t,u,function(n){return n.offsetWidth}):t.offsetWidth};n.Core.OuterHeight=function(t){return!t||!t.style?undefined:n.Core.IsHidden(t)?a(t,u,function(n){return n.offsetHeight}):t.offsetHeight};n.Core.Show=function(n,t){n&&n.style&&t!==undefined&&t!==null&&(n.style.display=t)};n.Core.Hide=function(n){n&&n.style&&(n.style.display="none")};n.Core.IsHidden=function(t){return!t||!t.style?undefined:n.Core.GetComputedStyle(t).display==="none"};n.Core.SetPosition=function(n,i,r,u){var f=i,e=r;i&&r&&(u&&u.length===2&&(u[0]==="b"&&(f-=t.OuterHeight(n)),u[1]==="r"&&(e-=t.OuterWidth(n))),f<0&&(f=0),e<0&&(e=0),t.ApplyCss(n,{top:f+"px",left:e+"px",bottom:"unset",right:"unset"}))};n.Core.GetElementByHlid=function(n,t){return _d.querySelector('[hlid="'+n+'"]'+(t?"."+t:""))||undefined};n.Core.GetAllElementsByHlid=function(n){return _d.querySelectorAll('[hlid="'+n+'"]')};n.Core.GetHlid=function(n){return n&&(n.getAttribute("hlid")||undefined)};n.Core.SetHlid=function(n,t){n&&n.setAttribute("hlid",t)};n.Core.GetSelectedElements=function(){return _d.querySelectorAll("."+n.Core.selectedElementClass)};n.Core.UpdateSubmit=function(t){var i=_ge("fbpgdgsbbt");n.Core.ValidateInputs(t)===!0?i.removeAttribute("disabled"):i.setAttribute("disabled","true")};n.le=function(n,t){SharedLogHelper&&SharedLogHelper.LogError&&SharedLogHelper.LogError("Feedback: "+n,null,t)};n.leh=function(t,i,r){n.le("Feedback: "+t+" handler failed in "+i,r)};n.fel=function(t,i){for(var u=[],r=2;r<arguments.length;r++)u[r-2]=arguments[r];try{u.unshift(t);sj_evt.fire.apply(null,u)}catch(f){n.leh(t,i,f);throw f;}}})(t=n.Core||(n.Core={}))})(Feedback||(Feedback={})),function(){"use strict";var n=function(){function n(){this.maxSizeBytes=35e5;this.feedbackUploadUrl="/feedback/submission";this.maxSendTries=3;this.requestTimeout=1e4}return n.prototype.Send=function(n,t,i,r){t===void 0&&(t=undefined);i===void 0&&(i=undefined);r===void 0&&(r=undefined);var u=typeof t=="undefined"?Feedback.Core.GenerateString(32):t;return this.SendAttempt(n,u,1,i,r)},n.prototype.SendAttempt=function(n,t,i,r,u){var f=sj_gx(),e=Feedback.Core.AddUrlParam(this.feedbackUploadUrl,"debugid",t);e=Feedback.Core.AddInstToUrl(e);f.open("POST",e,!0);f.timeout=this.requestTimeout;f.setRequestHeader("Content-Type","application/json; charset=UTF-8");f.onreadystatechange=function(){f.readyState==f.DONE&&(f.status==204||f.status==1223?this.OnSendSuccess(n,t,r):i>=this.maxSendTries?this.OnOnlineSendFailure(n,t,r):(typeof _G!="undefined"&&_G.IG?Log2.LogEvent("ClientInst",{error:"Will need to retry sending the payload because not all of them reached the live bing.com servers"},"Feedback.Error",null,null,_G.IG,null,null):Log2.LogEvent("ClientInst",{error:"_G.IG was not available when we wanted to log that we will resend the payload"},"Feedback.Error",null,null,null,null,null),this.SendAttempt(n,t,++i,r,u)))}.bind(this);f.send(JSON.stringify(n))},n.prototype.OnSendSuccess=function(n,t,i){i===void 0&&(i=undefined);delete n.html;typeof _G!="undefined"&&_G.IG?Log2.LogEvent("ClientInst",JSON.stringify(n),"Feedback.Online",null,null,_G.IG,null,null):Log2.LogEvent("ClientInst",{error:"_G.IG was not available when submitting feedback online"},"Feedback.Error",null,null,null,null,null);typeof i!="undefined"&&i(t)},n.prototype.OnOnlineSendFailure=function(n,t,i){i===void 0&&(i=undefined);delete n.html;typeof _G!="undefined"&&_G.IG?Log2.LogEvent("ClientInst",JSON.stringify(n),"Feedback.Offline",null,null,_G.IG,null,null):Log2.LogEvent("ClientInst",{error:"_G.IG was not available when submitting feedback offline"},"Feedback.Error",null,null,null,null,null);typeof i!="undefined"&&i(t)},n}();_w.WindowsFeedbackProtocol=new n}(WindowsFeedback||(WindowsFeedback={})),function(n){var t;(function(n){"use strict";var t=function(){function n(n){this.base64ImageBlobs=this.GetImageBlobsAsBase64(n)}return n.prototype.Manipulate=function(n){if(n instanceof HTMLImageElement){var t=n;t.src&&this.base64ImageBlobs[t.src]&&(t.src=this.base64ImageBlobs[t.src])}},n.prototype.GetImageBlobsAsBase64=function(n){for(var u=n.querySelectorAll("img[src^='blob:']"),f={},t,i,e,o,r=0;r<u.length;r++)t=u[r],i=document.createElement("canvas"),i.width=t.width,i.height=t.height,e=i.getContext("2d"),e.drawImage(t,0,0),o=i.toDataURL(),f[t.src]=o;return f},n}();n.InlineImagesManipulator=t})(t=n.Search||(n.Search={}))}(Microsoft||(Microsoft={})),function(n){var t;(function(n){"use strict";var t=function(){function n(n){this.DocumentFragment=document.createDocumentFragment();this.DocumentFragment.appendChild(n.cloneNode(!0))}return n.prototype.ManipulateElementsBySelector=function(n,t){var u,i,e,f,r,o;if(t)for(u=this.DocumentFragment.querySelectorAll(n),i=0,e=u.length;i<e;i++)for(f=u[i],r=0;r<t.length;r++)o=t[r],typeof f!="undefined"&&o.Manipulate(f)},n.prototype.DeleteElementsBySelector=function(n){for(var t;t=this.DocumentFragment.querySelector(n);)t&&t.parentNode.removeChild(t)},n.prototype.SerializeToHtml=function(n){n===void 0&&(n=null);var t=this.DocumentFragment.firstChild.outerHTML;return typeof n=="function"&&(t=n(this.DocumentFragment,t)),t},n.prototype.ApplyStyle=function(n,t,i){for(var u,f=this.DocumentFragment.querySelectorAll(n),r=0,e=f.length;r<e;r++)u=f[r],u instanceof HTMLElement&&(u.style[t]=i)},n}();n.DOMCopyManipulator=t})(t=n.Search||(n.Search={}))}(Microsoft||(Microsoft={})),function(n){"use strict";var t=function(){function n(n,t){this.fileName=n;this.contentType=t}return n}();n.FeedbackFile=t}(Feedback||(Feedback={})),function(n){"use strict";var t=function(){function t(){var n=_w.feedback;this.timeout=n&&n.config&&n.config.getFilesTimeout;this.recreateFilePromisesMap()}return t.isImage=function(n){return n==="image/png"||n==="image/jpeg"},t.prototype.getFiles=function(n,t,i){var s=[],e=this.filePromises,h=!!_w.Promise,o=0,u,f,r,c;for(u in e)if(e.hasOwnProperty(u)&&(n||!t(u)))for(f=e[u],r=0;r<f.length;r++)c=h?this.waitForFile(f[r],this.timeout).then(function(n){if(n&&n.base64Content&&n.contentType&&n.fileName)if(n.base64Content.length===0)i("Did not populate base64Content before submitting for "+n.fileName);else return n;else o++;return null},function(){return null}):f[r],s.push(c);return h?new _w.Promise(function(n){_w.Promise.all(s).then(function(t){o>0&&i(o+" feedback files not returned in time for feedback submit.");n(t.filter(function(n){return!!n}))},function(){})}):{then:function(n){n&&n([])}}},t.prototype.collect=function(n){var t,i;this.recreateFilePromisesMap();this.filesRequested=!0;try{t=_w.SearchAppWrapper&&SearchAppWrapper.CortanaApp;t&&t.getFeedbackFilesAsync?(i=this,t.getFeedbackFilesAsync().then(function(t){if(t)for(var r=0;r<t.length;r++)i.collectFile(t[r],n);i.fileDescriptorsReceived=!0},function(t){n("GetFeedbackFiles","FeedbackFileFetchAllError","Could not get feedback files: "+t.message);i.fileDescriptorsReceived=!0})):this.fileDescriptorsReceived=!0}catch(r){n("GetFeedbackFiles","FeedbackFileFetchAllError","Could not get feedback files")}},t.prototype.clear=function(){this.recreateFilePromisesMap()},t.prototype.collectFile=function(t,i){try{var r=this,u=this.ToPromise(t.getBase64ContentAsync()).then(function(i){if(!i)return null;var u=new n.FeedbackFile(t.fileName,t.contentType);return u.base64Content=i,t.fileName==="CortanaTrace.log"&&_w.atob&&r.extractSpokenQuery(i),u},function(){return null});this.addPromise(t.contentType,u)}catch(f){i("GetFeedbackFile","FeedbackFileFetchSingleError","GetFeedbackFile: Could not get feedback file content")}},t.prototype.ToPromise=function(n){return new _w.Promise(function(t,i){n.done(function(n){t(n)},function(n){i(n)})})},t.prototype.waitForFile=function(n,t){return new _w.Promise(function(i){var r=sb_st(function(){i(null)},t);n.then(function(n){sb_ct(r);i(n)},function(){i(null)})})},t.prototype.recreateFilePromisesMap=function(){this.filePromises={};this.fileDescriptorsReceived=!1;this.filesRequested=!1},t.prototype.addPromise=function(n,t){this.filePromises[n]=this.filePromises[n]||[];this.filePromises[n].push(t)},t.prototype.extractSpokenQuery=function(t){for(var u=decodeURIComponent(escape(_w.atob(t))),f=/UserSaid='(.*?)'. Dialog={/g,r,i=null;r=f.exec(u);)i=r[1];typeof i=="string"&&i.length>0&&(n.Core.spokenQuery=i)},t}();n.FeedbackFiles=t;n.files=new t}(Feedback||(Feedback={})),function(n){var t;(function(){"use strict";function u(t,i){var u=t.getAttribute("id"),f;u||(u="genId"+n.length,t.setAttribute("id",u));f=new r(u,i,t.getAttribute(i));n.push(f)}function i(n,t,i){i===null?n.removeAttribute(t):n.setAttribute(t,i)}function t(n,t,r,f){for(var e,s=_d.querySelectorAll(r),o=0;o<s.length;o++)(e=s[o],f&&e.id&&f[e.id])||(u(e,n),i(e,n,t))}function f(n){for(var u=_d.querySelectorAll(n),e=1,f={},t,i,r=0;r<u.length;++r){if(t=u[r],!t.id){for(;;)if(i="fbpgdgelem"+e++,!_ge(i))break;t.id=i}f[t.id]=t}return f}function e(){var i="tabindex",r="-1",n=f("#fbpgdg, #fbpgdg *");t(i,r,"div",n);t(i,r,"svg",n);t(i,r,"a",n);t(i,r,"li",n);t(i,r,"input",n);t(i,r,"select",n);t("aria-hidden","true","body :not(script):not(style)",n)}function o(){for(var r,t=0;t<n.length;t++)r=_d.getElementById(n[t].id),r&&i(r,n[t].attributeName,n[t].originalAttributeValue);n.length=0}function s(){typeof sj_evt!="undefined"&&(sj_evt.bind("onFeedbackStarting",function(){e()}),sj_evt.bind("onFeedbackClosing",function(){o()}))}var n=[],r=function(){function n(n,t,i){this.id=n;this.attributeName=t;this.originalAttributeValue=i}return n}();s()})(t=n.Accessibility||(n.Accessibility={}))}(Feedback||(Feedback={})),function(n){"use strict";var t=function(){function t(){this.callbacks=[];this.debugValues={}}return t.prototype.setContextValue=function(n,t){typeof n!="string"||n.length<1||(this.debugValues[n]=t)},t.prototype.setContextValues=function(n){if(n)for(var t in n)n.hasOwnProperty(t)&&this.setContextValue(t,n[t])},t.prototype.registerCollectionCallback=function(n){n&&this.callbacks.push(n)},t.prototype.collect=function(t){for(var f=this.getStaticValues(),e,r,u,i=0;i<this.callbacks.length;i++){e=this.callbacks[i];try{r=e(t)}catch(o){n.leh("debug collector callback","c",o);throw o;}for(u in r)r.hasOwnProperty(u)&&(f[u]=r[u])}return f},t.prototype.clear=function(){for(var n in this.debugValues)delete this.debugValues[n];this.callbacks=[]},t.prototype.getStaticValues=function(){var t={};for(var n in this.debugValues)this.debugValues.hasOwnProperty(n)&&(t[n]=this.debugValues[n]);return t},t}();n.debugCollector=new t}(Feedback||(Feedback={})),function(n){"use strict";var t=function(){function n(){var n=this,t=_w.feedback;this.feedbackContainerId="fbpgdg";this.screenshotChkName="screenshotAllowed";this.sendmailChkName="sendmail";this.aliasTxtName="alias";this.privacyPolicyUrl="http://go.microsoft.com/fwlink/?LinkId=521839";this.learnMoreLinkUrl="http://go.microsoft.com/fwlink/?LinkID=618051";this.reportPrivacyPolicyUrl="https://www.microsoft.com/concern/bing";this.internalCheckUrl="/feedback/internal";this.internalCheckRequestTimeout=2e3;this.dlAlias="sfeed";this.dlLink="mailto:"+this.dlAlias;this.localStorage=Feedback.Core.FetchLocalStorage();this.selectedByDefaultCatIdx=0;this.fbcfg=t.config;this.cortanaApp=_w.SearchAppWrapper&&SearchAppWrapper.CortanaApp;this.fbcfg.requestScreenshotAPIAllowed&&this.cortanaApp&&this.cortanaApp.addEventListener&&this.cortanaApp.requestScreenshot&&(this.requestScreenshotAPIAllowed=!0,this.cortanaApp.addEventListener("screenshotcompleted",function(t){return n.onScreenshotCompleted(t)}))}return n.prototype.ResetShowForm=function(){},n.prototype.CreateShowForm=function(){},n.prototype.AddInternalFormElements=function(){},n.prototype.HideForm=function(){},n.prototype.RemoveForm=function(){},n.LogError=function(n,t,i){Log2.LogEvent("ClientInst",{source:n,type:t,error:i},"Feedback.Error",null,null,_G.IG,null,null)},n.prototype.onScreenshotCompleted=function(n){this.onScreenshotCompletedInitFeedbackForm&&(n.base64PngContent&&(this.screenshotFile={contentType:"image/png",fileName:"WSBScreenshot.png",base64Content:n.base64PngContent}),this.onScreenshotCompletedInitFeedbackForm())},n.prototype.IsDarkMode=function(){return SearchAppWrapper.CortanaApp&&SearchAppWrapper.CortanaApp.theme&&SearchAppWrapper.CortanaApp.theme.indexOf("000000")>-1},n.prototype.IsWSBCobalt=function(){return _w.WSB&&_w.WSB.config&&_w.WSB.config.useCobaltCSS},n.prototype.Show=function(t,i){function p(n,t){return n?n.replace(y,function(n,i){return t[i]}):n}var e=this,s,v;t===void 0&&(t=null);i===void 0&&(i=!1);var w=!!this.fbcfg.capturePage,y=/{([0-9]+)}/g,o=function(n,t){var i=parseInt(n.substr(1),16),r=i>>16&255,u=i>>8&255,f=i&255;return"rgba("+r+","+u+","+f+","+t+")"};if(SearchAppWrapper!=null&&SearchAppWrapper.CortanaApp!=null&&SearchAppWrapper.CortanaApp.themeColors&&SearchAppWrapper.CortanaApp.themeColors.accent!=this.lastAccentColor){this.lastAccentColor=SearchAppWrapper.CortanaApp.themeColors.accent;var l=!1,a="feedback-accent-style",u=_ge(a);u||(u=_d.createElement("style"),u.setAttribute("id",a),u.type="text/css",l=!0);var f=SearchAppWrapper.CortanaApp.themeColors,r="",k="#"+f.accent.substr(3),h="#"+f.accentDark1.substr(3),d="#"+f.accentDark2.substr(3),g="#"+f.accentLight1.substr(3),c="#"+f.accentLight2.substr(3);this.IsWSBCobalt()?this.IsDarkMode()?(r+="#fbpgdg.darkTheme19H1 a { color: {1} }",r+="#fbpgdg.darkTheme19H1 a:hover { color: {4} }",r+="#fbpgdg.darkTheme19H1 a:active { color: {5} }",r+="#fbpgdg.darkTheme19H1 input[type= radio ]:checked ~ .radioDecoration, #fbpgdg input[type= checkbox ]:checked ~ .checkboxDecoration { background-color: {1} }",r+="#fbpgdg.darkTheme19H1 .button.send input[type= submit ] { background-color: {1} ; border: {1} }",r+="#fbpgdg.darkTheme19H1 .button.send input[type= submit ]:hover { background-color: {4} ; border-color: {4} }",r+="#fbpgdg.darkTheme19H1 .button.send input[type= submit ]:active { background-color: {5} ; border-color: {5} }",r+="#fbpgdg.darkTheme19H1 :first-child.button.send { background-color: {1} ; border: 1px solid {1} }",r+="#fbpgdg.darkTheme19H1 textarea.hlig:focus { border-bottom: 2px solid {1}}",r+="#fbml input[type= text].hlig:focus { border-bottom: 2px solid {1}; margin-bottom: 0;}"):(r+="#fbpgdg a { color: {0} }",r+="#fbpgdg a:hover { color: {2} }",r+="#fbpgdg a:active { color: {3} }",r+="#fbpgdg input[type= radio ]:checked ~ .radioDecoration, #fbpgdg input[type= checkbox ]:checked ~ .checkboxDecoration { background-color: {0} }",r+="#fbpgdg .button.send input[type= submit ] { background-color: {0} }",r+="#fbpgdg .button.send input[type= submit ]:hover { background-color: {2} ; border-color: {3} }",r+="#fbpgdg .button.send input[type= submit ]:active { background-color: {3} ; border-color: {3} }",r+="#fbpgdg :first-child.button.send { background-color: {0}; border: 1px solid {0} }",r+="#fbpgdg textarea.hlig:focus { border-bottom: 2px solid {0} }",r+="#fbml input[type= text].hlig:focus { border-bottom: 2px solid {0}; margin-bottom: 0 }"):(s="#"+f.accentDark1.substr(3),r="#fbpgdg a { color: "+s+"}"+("#fbpgdg :first-child.button a, #fbpgdg :first-child.button input {background-color: "+s+"; border-color: "+s+"}"));u.innerHTML=p(r,[h,c,o(h,.9),o(h,.8),o(c,.9),o(c,.8),]);l&&_d.head.appendChild(u)}typeof _G!="undefined"&&_G.IG?Log2.LogEvent("ClientInst",null,"FeedbackStarted",null,null,_G.IG,null,null):Log2.LogEvent("ClientInst",{type:"ImpressionSubmitError",error:"_G.IG was not available when showing form"},"Feedback.Error",null,null,null,null,null);this.requestScreenshotAPIAllowed?(this.onScreenshotCompletedInitFeedbackForm=function(){e.InitFeedbackForm(t,i);e.onScreenshotCompletedInitFeedbackForm=null},v=2e3,setTimeout(function(){e.onScreenshotCompletedInitFeedbackForm&&e.onScreenshotCompletedInitFeedbackForm()},v),this.cortanaApp.requestScreenshot(null)):this.InitFeedbackForm(t,i);Feedback.files.collect(n.LogError)},n.prototype.AddFocusEventForWSB=function(){if(this.IsWSBCobalt()){var t=0,n=function(n){var t=_ge(n);t.addEventListener("blur",function(){t.parentElement.classList.remove("selectedLabel")});t.addEventListener("focus",function(){t.parentElement.classList.add("selectedLabel")})},i=this.GetFormValue(this.sendmailChkName,"checked");_ge("fbpgdg").tabIndex=0;n("fbpgdgtp1");n("fbpgdgtp2");n("fbpgdgtp3");n("fbpgdgsschk");i&&n("fbpgdgml");sj_be(_d,"keydown",function(n){switch(n.keyCode){case 37:case 38:case 39:case 40:case 9:t=Date.now()}})}},n.prototype.InitFeedbackForm=function(n,t){n===void 0&&(n=null);t===void 0&&(t=!1);sj_evt.fire("onFeedbackStarting",t);var i=_ge(this.feedbackContainerId);i===null?this.CreateShowForm(n):this.ResetShowForm();this.IsDarkMode()&&(i=_ge(this.feedbackContainerId),i.classList.add("darkTheme19H1"));Feedback.CortanaState.SetForFeedback();this.AddFocusEventForWSB();_ge("fbpgdg").setAttribute("aria-label",this.GetLocString("WINDOWS_TITLE_TEXT"));_ge("fbpgdg").focus();sj_evt.fire("ajax.feedback.initialized",Feedback)},n.prototype.Hide=function(){var n=_ge(this.feedbackContainerId);n&&(sj_evt.fire("onFeedbackClosing"),this.HideForm());this.FeedbackFormCleanup()},n.prototype.Remove=function(){var n=_ge(this.feedbackContainerId);n&&(sj_evt.fire("onFeedbackClosing"),this.RemoveForm());this.FeedbackFormCleanup()},n.prototype.FeedbackFormCleanup=function(){var n=_ge("fbpgdgsbbt");n&&Lib.CssClass.remove(n.parentElement,"inactive");Feedback.CortanaState.Reset();Feedback.files.clear()},n.prototype.CheckInternal=function(n){var t=sj_gx(),i=Feedback.Core.AddInstToUrl(this.internalCheckUrl),r=this;t.open("HEAD",i,!0);t.timeout=this.internalCheckRequestTimeout;t.onreadystatechange=function(){t.readyState===t.DONE&&t.status===204&&r.AddInternalFormElements(n)}.bind(this);t.send()},n.prototype.AddLabeledInput=function(n,t,i,r,u,f,e,o,s,h,c){var v,l,a;return r===void 0&&(r=undefined),u===void 0&&(u=undefined),f===void 0&&(f=undefined),e===void 0&&(e="inputwrapper"),o===void 0&&(o=null),s===void 0&&(s=null),h===void 0&&(h=null),v=sj_ce("div",null,e),l=sj_ce("input",h,o),l.type=t,u===!0&&(l.checked=!0),typeof r=="string"&&(l.name=r),typeof f=="string"&&(l.value=f),typeof c=="string"&&l.setAttribute("aria-label",c),a=sj_ce("label",null,s),a.appendChild(l),a.appendChild(_d.createTextNode(i)),v.appendChild(a),n.appendChild(v),l},n.prototype.AddLink=function(n,t,i,r){var u=sj_ce("a",t);return u.href=i,u.target="_blank",u.innerText=r,n.appendChild(u),u},n.prototype.AddTextArea=function(n,t,i,r){r===void 0&&(r=!0);var u=sj_ce("textarea",t);return u.placeholder=i,u.required=!0,n.appendChild(u),u},n.prototype.AddText=function(n,t,i,r){var u=sj_ce(t);return u.innerText=i,typeof r!="undefined"&&(u.className=r),n.appendChild(u),u},n.prototype.AddButton=function(n,t,i){var r=sj_ce("input");return r.type=t,r.value=i,n.appendChild(r),r},n.prototype.OnSubmitForm=function(t){var e,o,c,l,a,v,w,u;if(t.preventDefault(),Feedback.Core.ValidateInputs(_ge(this.feedbackContainerId))!==!1){Lib.CssClass.add(_ge("fbpgdgsbbt").parentElement,"inactive");var b=!!this.fbcfg.capturePage,s=this.GetFormValue(this.screenshotChkName,"checked"),h=b&&(!this.FormElementExists(this.screenshotChkName)||s),f=Feedback.debugCollector.collect(h),i={partner:"BingLegacy",feedbackType:"feedback",trafficType:this.fbcfg.internal?"MSCorp":"External",feedbackPackage:"bing.feedback.qf",url:location.href,width:Math.round(_w.innerWidth),height:Math.round(_w.innerHeight),source:typeof f.source=="undefined"?"windows":f.source,send_mail:!0};s!==null&&(i.screenshotAllowed=s);e=this.GetFormValue(this.sendmailChkName,"checked");e!==null&&(i.send_mail=e);o=this.GetFormValue(this.aliasTxtName,"value");o&&(!e||(i.alias=o),this.SetAlias(o));typeof _G!="undefined"&&(_G.IG&&(i.impression_guid=_G.IG),_G.EventID&&(i.traceId=_G.EventID),_G.ST&&(i.timeStamp=Feedback.Core.GetISODate(_G.ST)),_G.V?i.vertical=_G.V:_G.P&&(i.vertical=_G.P),_G.PN!==undefined&&(i.canvas=_G.PN));var y=window.frames.miniIframeSerp,p=y&&y.contentWindow,r=p&&p._G;r&&(r.IG||r.EventID)&&(c=i.structured_data=i.structured_data||{},r.IG&&(c.impression_guid_miniSerp=r.IG),r.EventID&&(c.traceId_miniSerp=r.EventID));l=Feedback.Core.GetUserQuery();l!==null&&(i.query=l);for(a in f)i[a]=f[a];i.canvas!==undefined&&(i.vertical=i.canvas);v=this.GetFormValue(Feedback.Core.verbatimTxtId,"value");typeof v=="string"&&(i.text=v);i.type=this.DetermineFeedbackType();w=function(t){n.LogError("OnSubmitForm","FeedbackFileTimeoutError",t)};u=this;Feedback.files.getFiles(h,function(){return!0},w).then(function(n){u.requestScreenshotAPIAllowed&&u.screenshotFile&&(n.push(u.screenshotFile),u.screenshotFile=null);u.ContinueSubmit(i,h,n)},function(t){n.LogError("OnSubmitForm","FeedbackFileGetError",t.toString())})}},n.prototype.ContinueSubmit=function(n,t,i){if(t){var r=new Microsoft.Search.DOMCopyManipulator(_d.documentElement);r.DeleteElementsBySelector("script");r.DeleteElementsBySelector("#aRmsDefer");r.DeleteElementsBySelector(".fbig");r.ManipulateElementsBySelector("img",[new Microsoft.Search.InlineImagesManipulator(r.DocumentFragment)]);r.ApplyStyle("body","background-color","#303030");n.html=r.SerializeToHtml(this.InlineIFramesAndAbsoluteURLs)}i.length>0&&(n.feedbackFiles=i);_w.WindowsFeedbackProtocol&&WindowsFeedbackProtocol.Send(n);this.Hide();typeof _G!="undefined"&&_G.IG?Log2.LogEvent("ClientInst",{target:"Submit"},"Feedback.Click",null,null,_G.IG,null,null):Log2.LogEvent("ClientInst",{type:"ImpressionSubmitError",error:"_G.IG was not available when clicking on Submit button"},"Feedback.Error",null,null,null,null,null)},n.prototype.OnCloseForm=function(n){n.preventDefault();this.Hide();typeof _G!="undefined"&&_G.IG?Log2.LogEvent("ClientInst",{target:"Cancel"},"Feedback.Click",null,null,_G.IG,null,null):Log2.LogEvent("ClientInst",{type:"ImpressionCloseError",error:"_G.IG was not available when clicking on Cancel button"},"Feedback.Error",null,null,null,null,null)},n.prototype.GetCategoryRadioButtons=function(n){return n.querySelectorAll('input[name="type"]')},n.prototype.DetermineFeedbackType=function(){for(var r=_ge(this.feedbackContainerId),t=this.GetCategoryRadioButtons(r),i=1,n=0,u=t.length;n<u;n++)if(t[n].checked){i=+t[n].value;break}return i},n.prototype.GetFormValue=function(n,t){var r=_ge(this.feedbackContainerId),i=r.querySelector('[id="'+n+'"], [name="'+n+'"]');return i&&(!i.placeholder||i.placeholder!==i[t])?i[t]:null},n.prototype.FormElementExists=function(n){var t=_ge(this.feedbackContainerId),i=t.querySelector('input[name="'+n+'"]');return i?!0:!1},n.prototype.GetLocString=function(n){return LocStringManager.getLocString({uiCulture:SearchAppWrapper.CortanaApp.uiLanguage,name:"LocStrings",namespace:"Feedback"})[n]},n.prototype.GetAlias=function(){return this.localStorage?this.localStorage.getItem(this.aliasTxtName):null},n.prototype.SetAlias=function(n){this.localStorage&&this.localStorage.setItem(this.aliasTxtName,n)},n.prototype.InlineIFramesAndAbsoluteURLs=function(n,t){var f=n.querySelectorAll("iframe"),u,i,e,r,o,s;if(f)for(u=0;u<f.length;u++)(i=f[u],i&&i.style&&i.style.visibility==="hidden")||(e=i.id,r=new Microsoft.Search.DOMCopyManipulator(_w.frames[e].contentDocument.documentElement),r.DeleteElementsBySelector("script"),r.DeleteElementsBySelector("#aRmsDefer"),r.DeleteElementsBySelector(".fbig"),o=r.SerializeToHtml(),s=new RegExp('(<iframe[^>]*id="'+e+'"[^>]*>)(<\/iframe>)'),t=t.replace(s,function(n,t,i){return t.replace("iframe","div")+o+i.replace("iframe","div")}));return t.replace(/(src="|href="|url\()\//g,"$1/")},n}();n.WindowsFeedbackFormBase=t;typeof sj_evt!="undefined"&&(sj_evt.bind("WindowsFeedback.Form.Show",function(){_w.WindowsFeedbackForm.Show()},1),sj_evt.bind("WindowsFeedback.Form.Hide",function(){_w.WindowsFeedbackForm.Hide()}));typeof SearchAppWrapper!="undefined"&&SearchAppWrapper.CortanaApp&&SearchAppWrapper.CortanaApp.addEventListener&&SearchAppWrapper.CortanaApp.addEventListener("feedbackformrequested",function(n){typeof n!="undefined"&&n!==null&&(n.isHandled=!0);_w.WindowsFeedbackForm.Show(null,!0)})}(WindowsFeedback||(WindowsFeedback={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){"use strict";var t=function(n){function t(){var t=n.call(this)||this;return t.modalShieldId="feedbackModalShield",t}return __extends(t,n),t.prototype.CreateShowForm=function(n){var g=sj_ce("div",this.modalShieldId,"modalShield hlig"),nt,h,i,c,u,l,tt,a,v,y,p,o,w,it,b,f,d,e,ut;sj_be(g,"click",this.OnCloseForm.bind(this));var r=sj_ce("div",this.feedbackContainerId,"modal hlig"),t=sj_ce("div",null,null),s=sj_ce("div","fbpgdghd","hlig");t.appendChild(s);s.appendChild(sj_ce("div",null,"padding hlig"));nt=this.AddText(s,"h2",this.GetLocString("WINDOWS_TITLE_TEXT"),"step1 hlig");h=sj_ce("div","fbctgrs");t.appendChild(h);i=sj_ce("div",null,"hlig step1 fbctgcntsdk");i.setAttribute("role","radiogroup");i.setAttribute("aria-label",this.GetLocString("DIALOG_COMMENT_TYPE_LABEL"));var ft=this.AddLabeledInputSdk(i,"radio",this.GetLocString("DIALOG_COMMENT_TYPE4"),"type",this.selectedByDefaultCatIdx==0,"1","inline hlig fbctgctlsdk","hlig","hlig","fbpgdgtp1"),et=this.AddLabeledInputSdk(i,"radio",this.GetLocString("DIALOG_COMMENT_TYPE5"),"type",this.selectedByDefaultCatIdx==1,"2","inline hlig fbctgctlsdk","hlig","hlig","fbpgdgtp2"),ot=this.AddLabeledInputSdk(i,"radio",this.GetLocString("DIALOG_COMMENT_TYPE6"),"type",this.selectedByDefaultCatIdx==2,"3","inline hlig fbctgctlsdk","hlig","hlig","fbpgdgtp3");h.appendChild(i);c=sj_ce("div","fbvrbtm","hlig");t.appendChild(c);u=this.AddTextArea(c,Feedback.Core.verbatimTxtId,this.GetLocString("WINDOWS_DIALOG_COMMENT_TEXT"));u.setAttribute("maxlength","1200");u.className="step1 hlig";u.setAttribute("aria-label",this.GetLocString("DIALOG_COMMENT_LABEL"));u.setAttribute("data-err",this.GetLocString("DIALOG_COMMENT_ERROR_TEXT"));l=sj_ce("div","fbpgdgpnl","step1");t.appendChild(l);tt=this.AddLabeledInputSdk(l,"checkbox",this.GetLocString("DIALOG_INCLUDE_SCREENSHOT"),this.screenshotChkName,!0,undefined,"hlig fb-t-small fb-mrg-med","hlig","hlig","fbpgdgsschk");a=sj_ce("div","fbml");t.appendChild(a);this.CheckInternal(a);v=sj_ce("div","fbpgdgpnlrp");t.appendChild(v);y=sj_ce("p");v.appendChild(y);this.AddLink(y,"fbpgdgpslk",this.reportPrivacyPolicyUrl,this.GetLocString("REPORT_LEGAL_OR_PRIVACY_CONCERN"));p=sj_ce("div","fbpgdgpnl2","step1");t.appendChild(p);o=sj_ce("div");p.appendChild(o);w=sj_ce("p");o.appendChild(w);it=this.AddLink(w,"fbpgdgpslk",this.privacyPolicyUrl,this.GetLocString("PRIVACY_STATEMENT_LINK_TEXT"));b=sj_ce("p");o.appendChild(b);var st=this.AddLink(b,"fbpgdgplmlk",this.learnMoreLinkUrl,this.GetLocString("LEARN_MORE_LINK_TEXT")),k=sj_ce("div",null,"container"),rt=sj_ce("div",null,"button step1 hlig send");return k.appendChild(rt),f=sj_ce("input","fbpgdgsbbt","hlig"),f.type="submit",f.value=this.GetLocString("DIALOG_SEND_BUTTON_TEXT"),rt.appendChild(f),d=sj_ce("div",null,"button step1 hlig cancel"),k.appendChild(d),e=sj_ce("input","fbpgdgcnclbt","hlig"),e.type="button",e.value=this.GetLocString("DIALOG_CANCEL_BUTTON_TEXT"),d.appendChild(e),t.appendChild(k),sj_be(e,"click",this.OnCloseForm.bind(this)),sj_be(f,"click",this.OnSubmitForm.bind(this)),r.appendChild(t),Feedback.Core.EnableValidation(r,!1),Feedback.Core.LoopFocus(r),_d.body.appendChild(g),ut=_ge(n)||_d.body,ut.appendChild(r),typeof TestHooksEnabled!="undefined"&&TestHooksEnabled===!0&&(r.setAttribute("data-tag","WindowsFeedback.Form"),nt.setAttribute("data-tag","WindowsFeedback.FormTitle"),ft.setAttribute("data-tag","WindowsFeedback.SuggestRadioButton"),et.setAttribute("data-tag","WindowsFeedback.LikeRadioButton"),ot.setAttribute("data-tag","WindowsFeedback.DislikeRadioButton"),u.setAttribute("data-tag","WindowsFeedback.VerbatimTextArea"),tt.setAttribute("data-tag","WindowsFeedback.IncludeScreenshotCheckbox"),it.setAttribute("data-tag","WindowsFeedback.PrivacyLink"),st.setAttribute("data-tag","WindowsFeedback.LearnMoreLink"),f.setAttribute("data-tag","WindowsFeedback.SubmitButton"),e.setAttribute("data-tag","WindowsFeedback.CloseButton")),r},t.prototype.AddInternalFormElements=function(n){var h=this.GetAlias(),c="fbpgdgml",r=sj_ce("div",null,"hlig step1 internal fb-t-small"),l,u,i,a,f,o,v,e,y,s,t;this.AddText(r,"h3",this.GetLocString("DIALOG_MSFT_INTERNAL"));n.appendChild(r);l=sj_ce("div",null,"hlig fb-mrg-med");u=sj_ce("label",null,"hlig outerlabel");u.htmlFor=c;l.appendChild(u);i=sj_ce("input",c,"hlig");i.type="checkbox";i.name=this.sendmailChkName;i.checked=!0;u.appendChild(i);a=sj_ce("span",null,i.type+"Decoration");u.appendChild(a);f=sj_ce("div",null,"SendMailText");u.appendChild(f);o=sj_ce("label",null,"hlig");o.htmlFor=c;v=this.GetLocString("DIALOG_SEND_EMAIL_LABEL").replace("{0}","Bing");o.appendChild(_d.createTextNode(v));f.appendChild(o);e=sj_ce("span");e.dir="ltr";e.innerHTML+="&nbsp;(";y=this.AddLink(e,null,this.dlLink,this.dlAlias);y.className="hlig";e.innerHTML+=")";f.appendChild(e);s=sj_ce("label",null,"hlig");s.htmlFor="fbpgdgal";s.appendChild(_d.createTextNode(this.GetLocString("DIALOG_ALIAS_LABEL")));f.appendChild(s);f.appendChild(sj_ce("br",null,"hlig"));r.appendChild(l);t=sj_ce("input","fbpgdgal","hlig");t.type="text";t.placeholder=this.GetLocString("DIALOG_ALIAS_TEXT");t.name=this.aliasTxtName;t.setAttribute("data-err",this.GetLocString("DIALOG_ALIAS_ERROR_TEXT"));t.setAttribute("data-depends-on",c);t.required=!0;r.appendChild(t);h!=null&&h!=t.placeholder&&h!=t.getAttribute("data-err")&&(t.value=h);n.appendChild(r);sj_be(i,"click",function(){i.checked?t.removeAttribute("disabled"):(t.setAttribute("disabled","true"),Lib.CssClass.remove(t,"error"),t.value==t.getAttribute("data-err")&&(t.value=""));Lib.CssClass.toggle(s,"disabled");Lib.CssClass.toggle(o,"disabled")});Feedback.Core.EnableValidation(r,!1)},t.prototype.ResetShowForm=function(){for(var u,n=_ge(this.feedbackContainerId),f=this.GetCategoryRadioButtons(n),e=n.querySelector('input[name="screenshot"]'),o=n.querySelector('input[name="sendmail"]'),t=n.querySelector('input[name="alias"]'),r=this.GetAlias(),i=0,s=f.length;i<s;i++)f[i].checked=i==this.selectedByDefaultCatIdx?!0:!1;u=_ge(Feedback.Core.verbatimTxtId);u.value="";Lib.CssClass.remove(u,"error");e&&(e.checked=!0);o&&(o.checked=!0,Lib.CssClass.remove(n.querySelector('label[for="fbpgdgal"]'),"disabled"),Lib.CssClass.remove(n.querySelector('label[for="fbpgdgml"]'),"disabled"),t.removeAttribute("disabled"));t&&(t.value=r&&r!=t.placeholder?r:"",Lib.CssClass.remove(t,"error"));_ge(this.modalShieldId).style.display="block";_ge(this.feedbackContainerId).style.display="block"},t.prototype.HideForm=function(){_ge(this.feedbackContainerId).style.display="none";_ge(this.modalShieldId).style.display="none"},t.prototype.RemoveForm=function(){Feedback.Core.Remove(_ge(this.feedbackContainerId));Feedback.Core.Remove(_ge(this.modalShieldId))},t.prototype.AddLabeledInputSdk=function(n,t,i,r,u,f,e,o,s,h){var a,c,v,l;return r===void 0&&(r=undefined),u===void 0&&(u=undefined),f===void 0&&(f=undefined),e===void 0&&(e="inputwrapper"),o===void 0&&(o=null),s===void 0&&(s=null),h===void 0&&(h=null),a=sj_ce("div",null,e),c=sj_ce("input",h,o),c.type=t,u===!0&&(c.checked=!0),typeof r=="string"&&(c.name=r),typeof f=="string"&&(c.value=f),v=sj_ce("span",null,t+"Decoration"),l=sj_ce("label",null,s+" outerlabel"),l.setAttribute("for",h),l.appendChild(c),l.appendChild(v),l.appendChild(_d.createTextNode(i)),a.appendChild(l),n.appendChild(a),c},t}(n.WindowsFeedbackFormBase);_w.WindowsFeedbackForm=new t}(WindowsFeedback||(WindowsFeedback={})),function(n){var t;(function(t){"use strict";function u(){typeof SearchAppWrapper!="undefined"&&SearchAppWrapper.CortanaApp&&SearchAppWrapper.CortanaApp.setChromeState&&SearchAppWrapper.CortanaApp.setChromeState(7);r=n.Core.GetComputedStyle(_d.documentElement)["overflow-y"];_d.documentElement.style["overflow-y"]="hidden";i=!0}function f(){if(i){if(typeof SearchAppWrapper!="undefined"&&SearchAppWrapper.CortanaApp){SearchAppWrapper.CortanaApp.restorePreviousChromeState&&SearchAppWrapper.CortanaApp.restorePreviousChromeState();SearchAppWrapper.CortanaApp.closeFeedbackPage&&SearchAppWrapper.CortanaApp.closeFeedbackPage();var n=_w.feedback&&_w.feedback.config&&_w.feedback.config.focusCortanaSearchBoxOnFeedbackClosed;n&&SearchAppWrapper.CortanaApp.searchBox&&SearchAppWrapper.CortanaApp.searchBox.requestFocus&&SearchAppWrapper.CortanaApp.searchBox.requestFocus()}_d.documentElement.style["overflow-y"]=r;i=!1}}var r,i=!1;t.SetForFeedback=u;t.Reset=f})(t=n.CortanaState||(n.CortanaState={}))}(Feedback||(Feedback={}))