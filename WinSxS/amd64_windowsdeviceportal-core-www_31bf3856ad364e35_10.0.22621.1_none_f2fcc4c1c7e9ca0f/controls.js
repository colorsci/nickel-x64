function HighlightHoverAndFocus(n,t,i){var r=i.getTimeSeriesOptions(t).fillStyle,u=i.getTimeSeriesOptions(t).lineWidth;$(n).parent().hover(function(){i.getTimeSeriesOptions(t).fillStyle="rgba(255,255,255,1)";i.getTimeSeriesOptions(t).lineWidth=5},function(){$(n).is(":focus")===!1&&(i.getTimeSeriesOptions(t).fillStyle=r,i.getTimeSeriesOptions(t).lineWidth=u)});$(n).focus(function(){i.getTimeSeriesOptions(t).fillStyle="rgba(255,255,255,1)";i.getTimeSeriesOptions(t).lineWidth=5}).blur(function(){$(n).parent().is(":hover")===!1&&(i.getTimeSeriesOptions(t).fillStyle=r,i.getTimeSeriesOptions(t).lineWidth=u)})}function AriaLiveOnFocus(n){$(n).focus(function(){$(n).attr("aria-live","polite")}).blur(function(){$(n).removeAttr("aria-live")})}function createTextInputWithButton(n,t){var i=$(document.createElement("input")).prop("type","text").attr("id",t.fieldId).addClass("wideInputField").appendTo(n);$(document.createElement("button")).attr("id",t.buttonId).prop("disabled",!0).addClass("commonButton").text(t.buttonText).appendTo(n);$(document.createElement("span")).attr("id",t.errorId).appendTo(n)}function createSmallSpinOptions(){return{lines:7,length:5,width:2,radius:1,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"webbBusySpin",zIndex:2e9,top:"50%",left:"50%"}}function createSmallSpin(){return new Spinner(createSmallSpinOptions())}function getSystemPowerInformation(){$.get("/api/power/battery").done(function(n){if(n.BatteryPresent){var t="",i="",u=n.AcOnline!==1?["","","","","","","","","","",""]:["","","","","","","","","","",""];var f=Math.round(n.RemainingCapacity/n.MaximumCapacity*100),r=Math.max(0,Math.min(f,100));t=r+"%";i=u[Math.floor(r/10)];setTimeout(getSystemPowerInformation,6e4);$("#batteryHeaderText").text(t);$("#batteryHeaderIcon").text(i);$("#batteryHeader").attr("aria-label","Battery state: "+t)}}).fail(function(){$("#batteryHeaderText").text(" N/A");$("#batteryHeaderIcon").text("");setTimeout(getSystemPowerInformation,6e4)})}function isDeveloperApp(n){return n.PackageOrigin===4||n.PackageOrigin===5?!0:!1}function stopAppFormatter(){return'<span class="symbol link" style="text-decoration: none;" aria-label="Stop app" role="button">&#xe711;<\/span>'}function stopProcessFormatter(){return'<span class="symbol link" style="text-decoration: none;" aria-label="Stop process" role="button">&#xe711;<\/span>'}function suspendResumeFormatter(n,t,i){return i?'<a href="#">Suspend<\/a>':'<a href="#">Resume<\/a>'}function saveFormatter(){return'<span class="symbol">&#xe74e;<\/span>'}function documentFormatter(){return'<span class="symbol">&#xe7c3;<\/span>'}function versionFormatter(n,t,i,r,u){var f="";return u.Version!=null&&(f=""+u.Version.Major+"."+u.Version.Minor+"."+u.Version.Build+"."+u.Version.Revision),f}function fileTimeFormatter(n,t,i){if(typeof i=="undefined")return"";return new Date(parseInt((i-116444736000000000)/1e4)).toLocaleString()}function bytesToDisplayValue(n){if(isNaN(n))return"N/A";n=parseFloat(n);for(var i=["bytes","KB","MB","GB"],t=0;n>1024&&t<i.length-1;)n/=1024,t++;return n.toFixed(1)+" "+i[t]}function bitsToDisplayValue(n){if(isNaN(n))return"N/A";n=parseFloat(n);for(var i=["bits","Kb","Mb","Gb"],t=0;n>1024&&t<i.length-1;)n/=1024,t++;return n.toFixed(1)+" "+i[t]}function byteSizeFormatter(n,t,i){return bytesToDisplayValue(i)}function percentFormatter(n,t,i){return i.toFixed(2)+"%"}function padLeft(n,t){for(var i=""+n;i.length<t;)i="0"+i;return i}function durationMsFormatter(n,t,i){var f=parseInt(i),r=f/1e3,u=r/60,e=Math.floor(u/60);return u=Math.floor(u%60),r=Math.floor(r%60),e+":"+padLeft(u,2)+":"+padLeft(r,2)}function gridCaseInsensitiveObjectComparer(n,t){var i=n[this.sortCol.field],r=t[this.sortCol.field];return typeof i=="string"&&typeof r=="string"&&(i=i.toLowerCase(),r=r.toLowerCase()),i===r?0:i>r?1:-1}function MachineNameControl(n){function u(){var i=$("#machineNameField").val(),n,t;i&&($("#setMachineNameErrorText").text(""),n=createSmallSpin(),n.spin($("#machineNameField").parent().get()[0]),t=new WebbRest,t.setComputerName(i).done(function(){function n(){Wdp.Utils._hideVisibleOverlays();t.restart().fail(function(){Wdp.Utils._showPopUp("","Failed to restart the device.")})}Wdp.Utils._showPopUp("Device name changed.","Restart now for changes to take effect?",{label:"Restart now",callback:n},{label:"Later",callback:Wdp.Utils._hideVisibleOverlays})}).fail(function(n){var t="";if(n&&n.responseText)try{response=JSON.parse(n.responseText);response&&response.ErrorMessage&&(t=response.ErrorMessage)}catch(i){}Wdp.Utils._showPopUp("Failed to save the device name",t)}).always(function(){n.stop()}))}var r=$("#"+n),t,i;createTextInputWithButton(r,{labelText:"Device name",fieldId:"machineNameField",buttonId:"setMachineNameButton",buttonText:"Save",errorId:"setMachineNameErrorText"});$("#setMachineNameButton").click(u);t="";i=new WebbRest;i.getComputerName().done(function(n){t=n.ComputerName;$("#machineNameField").val(n.ComputerName)});$("#machineNameField").keyup(function(){$("#setMachineNameButton").prop("disabled",t==$("#machineNameField").val())})}function triggerPackageInstalledCallback(){for(var n=0,t=packageInstalledCallbacks.length;n<t;n++)packageInstalledCallbacks[n]&&packageInstalledCallbacks[n]()}function RunningAppsViewer(n,t){function f(){this.appsGrid.updateRowCount();this.appsGrid.render()}function e(n,t){this.appsGrid.invalidateRows(t.rows);this.appsGrid.render()}function o(n,t){this.dataView.sort(gridCaseInsensitiveObjectComparer.bind(t),t.sortAsc)}function s(n){var i=this.appsGrid,r=i.getCellFromEvent(n),t,u;i.getColumns()[r.cell].id=="StopApp"&&(t=this.dataView.getItems()[r.row],window.confirm("Do you want to close "+t.ImageName+" ("+t.AppName+")?")&&(u=new WebbRest,u.stopApp(t.PackageFullName)))}var r=this;this.updateRunningAppsList=function(n){var i=[],r,t;for(r in n)t=n[r],t.PackageFullName&&i.push(t);this.dataView.setItems(i,"ProcessId");this.dataView.reSort();this.appsGrid.invalidate();this.appsGrid.render()};this.onDataSourceError=function(){this.dataView.setItems([],"ProcessId");this.appsGrid.invalidate()};var i=[{id:"StopApp",name:"Stop App",field:"",width:42,cssClass:"tableCell",headerCssClass:"tableHeaderHidden",formatter:stopAppFormatter},{id:"ImageName",name:"Process Name",field:"ImageName",sortable:!0,width:256,cssClass:"tableCell",headerCssClass:"tableHeader"},{id:"Name",name:"Package Name",field:"AppName",sortable:!0,width:256,cssClass:"tableCell",headerCssClass:"tableHeader"},{id:"CPUUsage",name:"CPU",field:"CPUUsage",sortable:!0,width:96,formatter:percentFormatter,cssClass:"tableCell",headerCssClass:"tableHeader"},{id:"PrivateWorkingSet",name:"Private Working Set",field:"PrivateWorkingSet",sortable:!0,width:128,cssClass:"tableCell",headerCssClass:"tableHeader",formatter:byteSizeFormatter},{id:"WorkingSet",name:"Working Set",field:"WorkingSetSize",sortable:!0,width:128,cssClass:"tableCell",headerCssClass:"tableHeader",formatter:byteSizeFormatter},{id:"TotalCommit",name:"Commit Size",field:"TotalCommit",sortable:!0,width:128,cssClass:"tableCell",headerCssClass:"tableHeader",formatter:byteSizeFormatter},{id:"PackageFullName",name:"Package Full Name",field:"PackageFullName",sortable:!0,width:300,cssClass:"tableCell",headerCssClass:"tableHeader"},{id:"Version",name:"Version",field:"",sortable:!0,width:142,cssClass:"tableCell",headerCssClass:"tableHeader",formatter:versionFormatter},{id:"Publisher",name:"Publisher",field:"Publisher",sortable:!0,width:209,cssClass:"tableCell",headerCssClass:"tableHeader"}],u={selectedCellCssClass:"rowSelected",enableCellNavigation:!0,enableColumnReorder:!1,showHeaderRow:!0,syncColumnCellResize:!0,scaleHeightToDockContentParent:!0,rowHeight:36.5,headerRowHeight:40.45,gridLabel:t.gridLabel,rowHeaderName:t.rowHeaderName,rowHeaderId:t.rowHeaderId,rowHeaderColumn:t.rowHeaderColumn};this.dataView=new Slick.Data.DataView;this.appsGrid=new Slick.Grid("#"+n,this.dataView,i,u);$(window).resize(this.appsGrid.resizeCanvas.bind(this.appsGrid));this.dataView.onRowCountChanged.subscribe(f.bind(this));this.dataView.onRowsChanged.subscribe(e.bind(this));this.appsGrid.onSort.subscribe(o.bind(this));this.appsGrid.setSortColumn("ProcessId",!0);this.appsGrid.onClick.subscribe(s.bind(this));window.DeviceSettings&&window.DeviceSettings.DeviceFamily&&(window.DeviceSettings.DeviceFamily==="Windows.Desktop"&&i.push({id:"UserName",name:"User name",field:"UserName",sortable:!0,width:200,cssClass:"tableCell",headerCssClass:"tableHeader"}),r.appsGrid.setColumns(i))}function SleepStudyReportsViewer(n,t){function o(){this.reportsGrid.updateRowCount();this.reportsGrid.render()}function s(n,t){this.reportsGrid.invalidateRows(t.rows);this.reportsGrid.render()}function h(n,t){this.dataView.sort(gridCaseInsensitiveObjectComparer.bind(t),t.sortAsc)}function u(n,t,r){var e=new ActiveXObject("Msxml2.XSLTemplate"),o=new ActiveXObject("Msxml2.FreeThreadedDOMDocument"),f,s,u;o.loadXML(i.SleepStudyTransform);e.stylesheet=o;f=e.createProcessor();f.input=n;f.transform();s="<!DOCTYPE html>"+f.output.toString();u=window.open();u.document.open("text/html","replace");u.document.write(s);u.document.close();r&&(u.document.execCommand("SaveAs",null,t.replace(".xml",".htm")),u.close())}function c(n){var i=this.reportsGrid,f=i.getCellFromEvent(n),t=this.dataView.getItems()[f.row];i.getColumns()[f.cell].id=="View"?u(t.xmlReport,t.FileName,!1):i.getColumns()[f.cell].id=="HTML"?u(t.xmlReport,t.FileName,!0):i.getColumns()[f.cell].id=="XML"&&window.open(r.createSleepStudyDownloadLink(t.FileName))}this.onDataSourceError=function(){this.dataView.setItems([],"FileName");this.reportsGrid.invalidate()};var f=[{id:"View",name:"View",field:"",width:50,cssClass:"tableCell",headerCssClass:"tableHeader",formatter:documentFormatter},{id:"HTML",name:"HTML",field:"",width:50,cssClass:"tableCell",headerCssClass:"tableHeader",formatter:saveFormatter},{id:"XML",name:"XML",field:"",width:40,cssClass:"tableCell",headerCssClass:"tableHeader",formatter:saveFormatter},{id:"EnergyRate",name:"Energy Rate",field:"EnergyRate",sortable:!0,width:100,cssClass:"tableCell",headerCssClass:"tableHeader"},{id:"HWLOW",name:"%HWLOW",field:"HWLOW",sortable:!0,width:75,cssClass:"tableCell",headerCssClass:"tableHeader",formatter:percentFormatter},{id:"Duration",name:"Duration",field:"Duration",sortable:!0,width:100,cssClass:"tableCell",headerCssClass:"tableHeader",formatter:durationMsFormatter},{id:"FileName",name:"FileName",field:"FileName",sortable:!0,width:325,cssClass:"tableCell",headerCssClass:"tableHeader"}],e={selectedCellCssClass:"rowSelected",enableCellNavigation:!0,enableColumnReorder:!1,showHeaderRow:!0,syncColumnCellResize:!0,autoHeight:!0,rowHeight:36.5,headerRowHeight:40.45,gridLabel:t.gridLabel,rowHeaderName:t.rowHeaderName,rowHeaderId:t.rowHeaderId,rowHeaderColumn:t.rowHeaderColumn},i=this,r=new WebbRest;r.getSleepStudyTransform().done(function(n){i.SleepStudyTransform=n});this.downloadReports=function(){var n=new WebbRest;n.getSleepStudyReportList().done(function(n){function f(n){var t=n,i=new WebbRest;return i.getSleepStudyReport(t).done(function(n){var u=n.getElementsByTagName("ScenarioInstance")[0],i,f,e;if(u==null){r.push({xmlReport:n,EnergyRate:0,HWLOW:0,Duration:36e7,FileName:t});return}i=u.getAttributeNode("EnergyDrain").value;i==0?i="N/A":i+="mW";f=u.getAttributeNode("Duration").value;e=100*u.getAttributeNode("HwLowPowerStateTime").value/f;f/=1e4;r.push({xmlReport:n,EnergyRate:i,HWLOW:e,Duration:f,FileName:t})})}var u=[],r=[],t;if(n.Reports)for(t=n.Reports.length-1;t>=0;t--)u.push(f(n.Reports[t].FileName));$.when.apply(null,u).done(function(){i.dataView.setItems(r,"FileName");i.dataView.reSort()})})};this.dataView=new Slick.Data.DataView;this.reportsGrid=new Slick.Grid("#"+n,this.dataView,f,e);$(window).resize(this.reportsGrid.resizeCanvas.bind(this.reportsGrid));this.dataView.onRowCountChanged.subscribe(o.bind(this));this.dataView.onRowsChanged.subscribe(s.bind(this));this.reportsGrid.onSort.subscribe(h.bind(this));this.reportsGrid.setSortColumn("FileName",!0);this.reportsGrid.onClick.subscribe(c.bind(this))}function RunningProcessesViewer(n,t){function f(n){var i=this.processesGrid,r=i.getCellFromEvent(n),t,u;i.getColumns()[r.cell].id=="StopProcess"&&(t=this.dataView.getItems()[r.row],window.confirm("Do you want to terminate process "+t.ProcessId+":"+t.ImageName+"?")&&(u=new WebbRest,u.stopProcess(t.ProcessId,this.containerId)))}function e(){this.processesGrid.updateRowCount();this.processesGrid.render()}function o(n,t){this.processesGrid.invalidateRows(t.rows);this.processesGrid.render()}function s(n,t){this.dataView.sort(gridCaseInsensitiveObjectComparer.bind(t),t.sortAsc)}var i,r,u;this.updateRunningProcessesList=function(n){this.dataView.setItems(n,"ProcessId");this.dataView.beginUpdate();this.dataView.reSort();this.processesGrid.invalidate();this.dataView.endUpdate()};this.onDataSourceError=function(){this.dataView.setItems([],"ProcessId");this.processesGrid.invalidate()};this.updateContainerId=function(n){this.containerId=n};i=[{id:"ProcessId",name:"PID",field:"ProcessId",sortable:!0,width:80,cssClass:"tableCell",headerCssClass:"tableHeader"},{id:"ImageName",name:"Name",field:"ImageName",sortable:!0,width:256,cssClass:"tableCell",headerCssClass:"tableHeader"},{id:"UserName",name:"User name",field:"UserName",sortable:!0,width:200,cssClass:"tableCell",headerCssClass:"tableHeader"},{id:"SessionID",name:"Session Id",field:"SessionId",sortable:!0,width:96,cssClass:"tableCell",headerCssClass:"tableHeader"}];window.DeviceSettings&&window.DeviceSettings.NoProcessTermination||i.splice(0,0,{id:"StopProcess",name:"Stop Process",field:"",width:32,cssClass:"tableCell",headerCssClass:"tableHeaderHidden",formatter:stopProcessFormatter});t&&t.showCpuUsage===!0&&i.push({id:"CPUUsage",name:"CPU",field:"CPUUsage",sortable:!0,width:96,formatter:percentFormatter,cssClass:"tableCell",headerCssClass:"tableHeader"});t&&t.showMemStatistics===!0&&(r=[{id:"PrivateWorkingSet",name:"Private Working Set",field:"PrivateWorkingSet",sortable:!0,width:128,cssClass:"tableCell",headerCssClass:"tableHeader",formatter:byteSizeFormatter},{id:"WorkingSet",name:"Working Set",field:"WorkingSetSize",sortable:!0,width:128,cssClass:"tableCell",headerCssClass:"tableHeader",formatter:byteSizeFormatter},{id:"TotalCommit",name:"Commit Size",field:"TotalCommit",sortable:!0,width:128,cssClass:"tableCell",headerCssClass:"tableHeader",formatter:byteSizeFormatter}],i=i.concat(r));u={selectedCellCssClass:"rowSelected",enableCellNavigation:!0,enableColumnReorder:!1,showHeaderRow:!0,syncColumnCellResize:!0,scaleHeightToDockContentParent:!0,rowHeight:36.5,headerRowHeight:40.45,gridLabel:t.gridLabel,rowHeaderName:t.rowHeaderName,rowHeaderId:t.rowHeaderId,rowHeaderColumn:t.rowHeaderColumn};this.dataView=new Slick.Data.DataView;this.processesGrid=new Slick.Grid("#"+n,this.dataView,i,u);$(window).resize(this.processesGrid.resizeCanvas.bind(this.processesGrid));this.dataView.onRowCountChanged.subscribe(e.bind(this));this.dataView.onRowsChanged.subscribe(o.bind(this));this.processesGrid.onSort.subscribe(s.bind(this));this.processesGrid.setSortColumn("ProcessId",!0);this.processesGrid.onClick.subscribe(f.bind(this))}function InstalledAppsViewer(n,t){function l(n,t){var i=n.Name.toLowerCase(),r=t.Name.toLowerCase();return i<r?-1:i>r?1:0}function a(n){i.options.disablePackageActionButtons=n;f()}function v(n){i.userSid=n;f()}function f(){var f=$("#installedPackagesList").find("option:selected"),n=i.getPackageEntryFromUniqueId(f.val()),e,u,r,o;if(n){if(e=!1,i.userSid){for(u=!1,o=n.RegisteredUsers.length,r=0;r<o;r++)u=u?u+", "+n.RegisteredUsers[r].UserDisplayName:n.RegisteredUsers[r].UserDisplayName,n.RegisteredUsers[r].UserSID===i.userSid&&(e=!0);$("#appRegisteredUsers").text("Users: "+u)}t.disablePackageActionButtons!==!0?(n.PackageRelativeId?($("#appStartButton").prop("disabled",!1),$("#appStartMRButton").prop("disabled",!1)):($("#appStartButton").prop("disabled",!0),$("#appStartMRButton").prop("disabled",!0)),$("#appStartMRButton").show(),n.CanUninstall===!1?($("#appRemoveButton").prop("disabled",!0),$("#appWarning").text(n.UninstallDeniedReason),$("#appWarning").removeClass("hidden")):i.userSid&&!e?($("#appRemoveButton").prop("disabled",!0),$("#appWarning").text("Package is not installed for the current user"),$("#appWarning").removeClass("hidden")):($("#appRemoveButton").prop("disabled",!1),$("#appWarning").addClass("hidden"))):($("#appStartButton").prop("disabled",!0),$("#appStartMRButton").prop("disabled",!0),$("#appRemoveButton").prop("disabled",!0),$("#appWarning").addClass("hidden"));i.holographicAvailable||$("#appStartMRButton").hide();$("#appVersion").text("Version: "+n.Version.Major+"."+n.Version.Minor+"."+n.Version.Build+"."+n.Version.Revision);$("#appPublisher").text("Publisher: "+n.Publisher);$("#appPackageFullName").text("PackageFullName: "+n.PackageFullName);n.PackageRelativeId?$("#appPackageRelativeId").text("PackageRelativeId: "+n.PackageRelativeId):$("#appPackageRelativeId").text("");$("#appStartButton").attr("aria-label","Start app: "+f.text());$("#appStartMRButton").attr("aria-label","Start app in Mixed Reality: "+f.text());$("#appRemoveButton").attr("aria-label","Remove app: "+f.text())}}function y(n){var r=$("#installedPackagesList"),u=r.find("option:selected").val(),t,f,e,o;for(r.children().remove(),t=0;t<n.length;t++)f=n[t].PackageFullName,e=n[t].Name,n[t].PackageRelativeId&&(o=n[t].PackageRelativeId.replace(/^.*!/,""),f+="!"+o,e+=" ("+o+")"),r.append($("<option>",{value:f,text:e}));u&&i.getPackageEntryFromUniqueId(u)&&r.val(u)}function e(){var n=createSmallSpinOptions();return n.top="0%",n.left="0%",n.position="relative",new Spinner(n)}function c(n,t){var r=i.getPackageEntryFromUniqueId(n),u,f;r&&(u=e(),u.spin($("#installedAppsSpinner").get()[0]),f=new WebbRest,f.startApp(r.PackageRelativeId,t).fail(function(n){if(n.responseJSON&&n.responseJSON.Code){var t=n.responseJSON.Code>>>32;t===2279669768?alert("You need to sign in a user to launch "+r.PackageRelativeId):alert("Failed to start package "+r.PackageRelativeId+" (0x"+t.toString(16)+")")}else alert("Failed to start package "+r.PackageRelativeId)}).always(function(){u.stop()}))}function p(n,t){var u=e(),f,r;u.spin($("#installedAppsSpinner").get()[0]);f=new WebbRest;r=i.getPackageEntryFromUniqueId(n);f.stopApp(r.PackageFullName,t).fail(function(){alert("Failed to stop package "+r.PackageFullName)}).always(function(){u.stop()})}function w(n){var r=e(),f,t;r.spin($("#installedAppsSpinner").get()[0]);f=new WebbRest;t=i.getPackageEntryFromUniqueId(n);f.uninstallAppPackage(t.PackageFullName).fail(function(){alert("Failed to uninstall package "+t.PackageFullName)}).always(function(){r.stop();u(!1)})}function u(n){var t=e(),r;t.spin($("#installedAppsSpinner").get()[0]);r=new WebbRest;r.getInstalledAppPackages(n,i.includeFrameworkPackages).done(function(n){if(i.holographicAvailable=n.HolographicAvailable,i.installedPackages=n.InstalledPackages.sort(l),y(i.installedPackages),f(),i.onChangeSelectedPackageCallback)i.onChangeSelectedPackageCallback($("#installedPackagesList").find("option:selected"))}).always(function(){t.stop()})}var i=this,r,s,o,h;i.installedPackages=[];i.options=t;i.userSid=!1;i.onChangeSelectedPackageCallback=null;i.holographicAvailable=!1;i.includeFrameworkPackages=!1;r=$("#"+n);$(document.createElement("select")).addClass("wideInputField").attr("id","installedPackagesList").attr("aria-label","Select installed package").appendTo(r).change(function(n){if(f(),i.onChangeSelectedPackageCallback)i.onChangeSelectedPackageCallback($(n.target).find("option:selected"))});t&&(t.enableUninstall===!0&&($(document.createElement("button")).addClass("commonButton").attr("id","appRemoveButton").text("Remove").click(function(){window.confirm("This app and its related info will be uninstalled.")&&w($("#installedPackagesList").find("option:selected").val())}).appendTo(r),$("#removePackage").bind("click",function(){})),t.enableStart===!0&&($(document.createElement("button")).addClass("commonButton").attr("id","appStartButton").text("Start").click(function(){c($("#installedPackagesList").find("option:selected").val(),!1)}).appendTo(r),t.supportsMR===!0&&$(document.createElement("button")).addClass("commonButton").attr("id","appStartMRButton").text("Start in Mixed Reality").click(function(){c($("#installedPackagesList").find("option:selected").val(),!0)}).appendTo(r)),t.enableStop===!0&&($(document.createElement("button")).addClass("commonButton").attr("id","appStopButton").text("Stop").click(function(){p($("#installedPackagesList").find("option:selected").val(),$("#forceStopAppCheckBox").is(":checked"))}).appendTo(r),s=$(document.createElement("label")).text("Force stop").attr("id","appForceStopGroup").appendTo(r),$(document.createElement("input")).prop("type","checkbox").attr("id","forceStopAppCheckBox").appendTo(s)),t.enableRefresh===!0&&$(document.createElement("button")).addClass("commonButton").attr("id","appListRefreshButton").text("Refresh").attr("aria-label","Refresh the list of apps").click(function(){u(t.streamableAppsOnly)}).appendTo(r),$(document.createElement("div")).attr("id","installedAppsSpinner").attr("style","display:inline-block;margin-top:4px;margin-bottom:4px").appendTo(r),t.enableFrameworkPackages&&(o=$(document.createElement("div")).attr("id","showFrameworkPackagesGroup").appendTo(r),$(document.createElement("input")).prop("type","checkbox").attr("id","showFrameworkPackagesCheckBox").click(function(){i.includeFrameworkPackages=this.checked;u(t.streamableAppsOnly)}).appendTo(o),$(document.createElement("label")).text("Show framework packages").attr("id","showFrameworkPackagesLabel").attr("for","showFrameworkPackagesCheckBox").appendTo(o)),t.enableDetails!==!1&&(h='<label id="appWarning" class="hidden warning"><\/label>                 <div id="appVersion"><\/div>                 <div id="appPublisher"><\/div>                 <div id="appPublisherCN"><\/div>                 <div id="appPackageFullName"><\/div>                 <div id="appPackageRelativeId"><\/div>                 <div id="appRegisteredUsers"><\/div>',$(document.createElement("div")).attr("id","appDetails").attr("class","indentSection").html(h).appendTo(r)),t.enableViewFiles==!0&&$(document.createElement("button")).addClass("commonButton").attr("id","appFilesButton").text("View App Data").click(function(){i.onFileSelect($("#installedPackagesList").find("option:selected").val())}).appendTo(r),t.disablePackageActionButtons===!0&&($("#appStartButton").prop("disabled",!0),$("#appStartMRButton").prop("disabled",!0),$("#appRemoveButton").prop("disabled",!0)));i.onFileSelect=function(){};this.subscribeOnChangeSelectedPackage=function(n){i.onChangeSelectedPackageCallback=n};this.getSelectedPackage=function(){var n=$("#installedPackagesList").find("option:selected");return i.getPackageEntryFromUniqueId(n.val())};this.getPackageEntryFromUniqueId=function(n){var t;if(n){var u=i.installedPackages,r=n.indexOf("!"),e=n.substr(0,r==-1?n.length:r),f=r==-1?"":n.substr(r+1);for(var o in u){if(t=u[o],t.PackageFullName!=e)continue;else if(f.length>0&&(!t.PackageRelativeId||t.PackageRelativeId.replace(/^.*!/,"")!=f))continue;return t}}};u(t.streamableAppsOnly?!0:!1);this.getInstalledPackages=u;this.setPackageActionButtons=a;this.setUserSID=v;packageInstalledCallbacks.push(this.getInstalledPackages)}function setWidthAndHeightFromParent(n){var i=document.getElementById(n),r,t;i&&(r=i.parentNode,r&&(t=r.getBoundingClientRect(),t.height&&t.width&&(i.height=t.height,i.width=t.width),t=r.getBoundingClientRect(),t.height&&t.width&&(i.height=t.height,i.width=t.width)))}function distributeWidthAndHeightsFromParent(n){var i,t,u,f,r;for(n.length&&(i=n[0].parentNode),t=0,u=n.length;t<u;t++)f=n[t],i&&(r=i.getBoundingClientRect(),r.width&&(f.width=r.width))}function IsHighContrastBlack(){var n=document.defaultView.getComputedStyle(document.body,null).color;return n==="rgb(255, 255, 255)"?!0:!1}function CPUChart(n){var t,i,r;$("#"+n).html('<div class="expandToAvailableSpace">             <div class="expandToAvailableSpace">                 <canvas id="cpuChart"><\/canvas>             <\/div>             <div class="chartLegend">                 <span><label id="CpuUtilization" for="CpuUtilizationValue">■ <label class="chartLabel">CPU utilization: <\/label><\/label><span id="CpuUtilizationValue" tabindex="0" aria-label="CPU utilization"><\/span><\/span>             <\/div>          <\/div>');AriaLiveOnFocus("#CpuUtilizationValue");i=new TimeSeries;r={fillStyle:"#fff",minValue:0,maxValue:100,interpolation:"linear",enableDpiScaling:!1,grid:{fillStyle:"transparent",strokeStyle:"rgb(217, 234, 244)",verticalSections:10},labels:{fillStyle:IsHighContrastBlack()?"rgb(255, 255, 255)":"rgb(58, 58, 58)",fontSize:15}};t=new SmoothieChart(r);t.streamTo(document.getElementById("cpuChart"),1e3);t.addTimeSeries(i,{strokeStyle:"rgb(17, 125, 187)",fillStyle:"rgba(17, 125, 187, 0.05)",lineWidth:1});$("#CpuUtilization").attr({style:"color:rgb(17, 125, 187); margin:0px 2px 0px 0px;"});$(window).resize(function(){setWidthAndHeightFromParent("cpuChart")});$(document).ready(function(){setWidthAndHeightFromParent("cpuChart")});this.onMessageCallback=function(n){var t=new Date;i.append(t,n.CpuLoad);$("#CpuUtilizationValue").html(n.CpuLoad+"%")};HighlightHoverAndFocus("#CpuUtilizationValue",i,t)}function NetworkPerfChart(n){var u='<div class="expandToAvailableSpace">             <div class="expandToAvailableSpace">                 <canvas id="NetworkChartCanvas" height="'+_DEFAULT_CHART_HEIGHT+'"><\/canvas>             <\/div>             <div class="chartLegend">                 <span><label id="NetworkInSpeed" for="NetworkInSpeedValue">■ <label class="chartLabel">Receive: <\/label><\/label><span id="NetworkInSpeedValue" tabindex="0" aria-label="Receive"><\/span><\/span>                 <span><label id="NetworkOutSpeed" for="NetworkOutSpeedValue">■ <label class="chartLabel">Send: <\/label><\/label><span id="NetworkOutSpeedValue" tabindex="0" aria-label="Send"><\/span><\/span>             <\/div>          <\/div>';$("#"+n).html(u);AriaLiveOnFocus("#NetworkInSpeedValue");AriaLiveOnFocus("#NetworkOutSpeedValue");var t,i=new TimeSeries,r=new TimeSeries,f={fillStyle:"#fff",interpolation:"linear",minValue:0,enableDpiScaling:!1,grid:{fillStyle:"transparent",strokeStyle:"rgb(238, 222, 207)",verticalSections:10},labels:{fillStyle:IsHighContrastBlack()?"rgb(255, 255, 255)":"rgb(58, 58, 58)",fontSize:15}};t=new SmoothieChart(f);t.streamTo(document.getElementById("NetworkChartCanvas"),1e3);t.addTimeSeries(i,{strokeStyle:"rgb(167, 79, 1)",fillStyle:"rgba(167, 79, 1, 0.05)",lineWidth:1});t.addTimeSeries(r,{strokeStyle:"rgb(227, 120, 68)",fillStyle:"rgba(227, 120, 68, 0.05)",lineWidth:1});$("#NetworkInSpeed").attr({style:"color:rgb(167, 79, 1); margin:0px 2px 0px 0px;"});$("#NetworkOutSpeed").attr({style:"color:rgb(227, 120, 68); margin:0px 2px 0px 0px;"});$(document).ready(function(){setWidthAndHeightFromParent("NetworkChartCanvas")});$(window).resize(function(){setWidthAndHeightFromParent("NetworkChartCanvas")});this.onMessageCallback=function(n){var f=new Date,t=0,u=0;n.NetworkingData&&(t=n.NetworkingData.NetworkInBytes*8,u=n.NetworkingData.NetworkOutBytes*8);i.append(f,t/1048576);r.append(f,u/1048576);$("#NetworkInSpeedValue").html(bitsToDisplayValue(t));$("#NetworkOutSpeedValue").html(bitsToDisplayValue(u))};HighlightHoverAndFocus("#NetworkInSpeedValue",i,t);HighlightHoverAndFocus("#NetworkOutSpeedValue",r,t)}function IOChart(n){var u='<div class="expandToAvailableSpace">             <div class="expandToAvailableSpace">                 <canvas id="IOChartCanvas" height="'+_DEFAULT_CHART_HEIGHT+'"><\/canvas>             <\/div>             <div class="chartLegend">                 <span><label id="IOReadSpeed" for="IOReadSpeedValue">■ <label class="chartLabel">Read: <\/label><\/label><span id="IOReadSpeedValue" tabindex="0" aria-label="Read"><\/span><\/span>                 <span><label id="IOWriteSpeed" for="IOWriteSpeedValue">■ <label class="chartLabel">Write: <\/label><\/label><span id="IOWriteSpeedValue" tabindex="0" aria-label="Write"><\/span><\/span>             <\/div>          <\/div>';$("#"+n).html(u);AriaLiveOnFocus("#IOReadSpeedValue");AriaLiveOnFocus("#IOWriteSpeedValue");var t,i=new TimeSeries,r=new TimeSeries,f={interpolation:"linear",minValue:0,enableDpiScaling:!1,grid:{fillStyle:"transparent",strokeStyle:"rgb(219, 237, 206)",verticalSections:10},labels:{fillStyle:IsHighContrastBlack()?"rgb(255, 255, 255)":"rgb(58, 58, 58)",fontSize:15}};t=new SmoothieChart(f);t.streamTo(document.getElementById("IOChartCanvas"),1e3);t.addTimeSeries(i,{strokeStyle:"rgb(77, 166, 12)",fillStyle:"rgba(77, 166, 12, 0.05)",lineWidth:1});t.addTimeSeries(r,{strokeStyle:"rgb(0, 178, 148)",fillStyle:"rgba(0, 178, 148, 0.05)",lineWidth:1});$("#IOReadSpeed").attr({style:"color:rgb(77, 166, 12); margin:0px 2px 0px 0px;"});$("#IOWriteSpeed").attr({style:"color:rgb(0, 178, 148); margin:0px 2px 0px 0px;"});$(document).ready(function(){setWidthAndHeightFromParent("IOChartCanvas")});$(window).resize(function(){setWidthAndHeightFromParent("IOChartCanvas")});this.onMessageCallback=function(n){var t=new Date;i.append(t,n.IOReadSpeed/1048576);r.append(t,n.IOWriteSpeed/1048576);$("#IOReadSpeedValue").html(bytesToDisplayValue(n.IOReadSpeed));$("#IOWriteSpeedValue").html(bytesToDisplayValue(n.IOWriteSpeed))};HighlightHoverAndFocus("#IOReadSpeedValue",i,t);HighlightHoverAndFocus("#IOWriteSpeedValue",r,t)}function MemoryChart(n,t){var h='<div class="expandToAvailableSpace">             <div class="expandToAvailableSpace">                 <canvas id="MemoryChartCanvas" height="'+_DEFAULT_CHART_HEIGHT+'"><\/canvas>             <\/div>             <label id="InstalledMemory">Installed Memory<\/label>             <div class="chartLegend">                 <span><label id="TotalMemory" for="TotalMemoryValue">■ <label class="chartLabel">Total: <\/label><\/label><span id="TotalMemoryValue" tabindex="0" aria-label="Total"><\/span><\/span>                 <br/>                 <span><label id="InUseMemory" for="InUseMemoryValue">■ <label class="chartLabel">In use: <\/label><\/label><span id="InUseMemoryValue" tabindex="0" aria-label="In use"><\/span><\/span>                 <br/>                 <span><label id="AvailableMemory" for="AvailableMemoryValue">■ <label class="chartLabel">Available: <\/label><\/label><span id="AvailableMemoryValue" tabindex="0" aria-label="Available"><\/span><\/span>                 <br/>                 <span><label id="CommitedMemory" for="CommitedMemoryValue">■ <label class="chartLabel">Committed: <\/label><\/label><span id="CommitedMemoryValue" tabindex="0" aria-label="Committed"><\/span><\/span>                 <br/>                 <span><label id="PagedPool" for="PagedPoolValue">■ <label class="chartLabel">Paged pool: <\/label><\/label><span id="PagedPoolValue" tabindex="0" aria-label="Paged pool"><\/span><\/span>                 <br/>                 <span><label id="NonPagedPool" for="NonPagedPoolValue">■ <label class="chartLabel">Non-paged pool: <\/label><\/label><span id="NonPagedPoolValue" tabindex="0" aria-label="Non-paged pool"><\/span><\/span>             <\/div>          <\/div>';$("#"+n).html(h);AriaLiveOnFocus("#TotalMemoryValue");AriaLiveOnFocus("#InUseMemoryValue");AriaLiveOnFocus("#AvailableMemoryValue");AriaLiveOnFocus("#CommitedMemoryValue");AriaLiveOnFocus("#PagedPoolValue");AriaLiveOnFocus("#NonPagedPoolValue");var i,r=new TimeSeries,u=new TimeSeries,f=new TimeSeries,e=new TimeSeries,o=new TimeSeries,s=new TimeSeries,c={interpolation:"linear",minValue:0,enableDpiScaling:!1,grid:{fillStyle:"transparent",strokeStyle:"rgb(236, 222, 240)",verticalSections:10},labels:{fillStyle:IsHighContrastBlack()?"rgb(255, 255, 255)":"rgb(58, 58, 58)",fontSize:15}};i=new SmoothieChart(c);i.streamTo(document.getElementById("MemoryChartCanvas"),1e3);i.addTimeSeries(r,{strokeStyle:"rgb(232, 71, 87)",fillStyle:"rgba(232, 71, 87, 0.05)",lineWidth:1});i.addTimeSeries(u,{strokeStyle:"rgb(23, 199, 13)",fillStyle:"rgba(23, 199, 13, 0.05)",lineWidth:1});i.addTimeSeries(f,{strokeStyle:"rgb(0, 189, 242)",fillStyle:"rgba(0, 189, 242, 0.05)",lineWidth:1});i.addTimeSeries(e,{strokeStyle:"rgb(135, 107, 227)",fillStyle:"rgba(135, 107, 227, 0.05)",lineWidth:1});i.addTimeSeries(o,{strokeStyle:"rgb(237, 64, 135)",fillStyle:"rgba(237, 64, 135, 0.05)",lineWidth:1});i.addTimeSeries(s,{strokeStyle:"rgb(87, 125, 115)",fillStyle:"rgba(87, 125, 115, 0.05)",lineWidth:1});$("#TotalMemory").attr({style:"color:rgb(232, 71, 87); margin:0px 2px 0px 0px;"});$("#AvailableMemory").attr({style:"color:rgb(23, 199, 13); margin:0px 2px 0px 0px;"});$("#InUseMemory").attr({style:"color:rgb(0, 189, 242); margin:0px 2px 0px 0px;"});$("#CommitedMemory").attr({style:"color:rgb(135, 107, 227); margin:0px 2px 0px 0px;"});$("#PagedPool").attr({style:"color:rgb(237, 64, 135); margin:0px 2px 0px 0px;"});$("#NonPagedPool").attr({style:"color:rgb(87, 125, 115); margin:0px 2px 0px 0px;"});$(document).ready(function(){setWidthAndHeightFromParent("MemoryChartCanvas")});$(window).resize(function(){setWidthAndHeightFromParent("MemoryChartCanvas")});this.onMessageCallback=function(n){var h=new Date,i=n.PageSize,l=n.TotalInstalledInKb,c=(n.TotalPages-n.AvailablePages)*i;$("#InstalledMemory").html("Installed Memory: "+bytesToDisplayValue(l*1024));$("#TotalMemoryValue").html(bytesToDisplayValue(n.TotalPages*i));$("#AvailableMemoryValue").html(bytesToDisplayValue(n.AvailablePages*i));$("#InUseMemoryValue").html(bytesToDisplayValue(c));$("#CommitedMemoryValue").html(bytesToDisplayValue(n.CommittedPages*i));$("#PagedPoolValue").html(bytesToDisplayValue(n.PagedPoolPages*i));$("#NonPagedPoolValue").html(bytesToDisplayValue(n.NonPagedPoolPages*i));r.append(h,n.TotalPages*i/1048576);t.showInUse==!0&&f.append(h,c/1048576);t.showAvailablePages==!0&&u.append(h,n.AvailablePages*i/1048576);t.showCommittedPages==!0&&e.append(h,n.CommittedPages*i/1048576);t.showPagedPoolPages==!0&&o.append(h,n.PagedPoolPages*i/1048576);t.showNonPagedPoolPages==!0&&s.append(h,n.NonPagedPoolPages*i/1048576)};HighlightHoverAndFocus("#TotalMemoryValue",r,i);HighlightHoverAndFocus("#AvailableMemoryValue",u,i);HighlightHoverAndFocus("#InUseMemoryValue",f,i);HighlightHoverAndFocus("#CommitedMemoryValue",e,i);HighlightHoverAndFocus("#PagedPoolValue",o,i);HighlightHoverAndFocus("#NonPagedPoolValue",s,i)}function GPUPerformanceCharts(n,t){function c(n){var t,u=$("#availableAdaptersList"),r=n.length;if(r>0){for(t=0;t<r;t++)u.append($("<option>",{value:t,text:n[t].Description}));i.selectedAdapter=0;h(n[0])}s()}function h(n){var u,e,r,f,o;if(!n.EnginesUtilization||n.EnginesUtilization.length==0){$("#enginesUtilizationSection").html('<p class="indentSection symbol warning">No data available!<\/p>');return}for(u=n.EnginesUtilization.length,i.engineCountFromConfigurationBitmap=0,r=0;r<u;r++)i.engineCountFromConfigurationBitmap+=t.engineBitmap>>r&1?1:0;for(i.engineUtilizationTimelines=[],$("#enginesUtilizationSection").empty(),e="",r=0;r<u;r++)(t.engineBitmap>>r&1)==1&&(e+='<div>                     <canvas id="engineCanvas'+r+'" height="'+_DEFAULT_CHART_HEIGHT+'"><\/canvas>                     <div class="chartLegend">                         <span><label id="engine'+r+'Legend" for="engine'+r+'LegendValue">Engine '+r+': <\/label><span id="engine'+r+'LegendValue" tabindex="0"><\/span><\/span>                     <\/div>                 <\/div>');for($("#enginesUtilizationSection").html(e),r=0;r<u;r++)(t.engineBitmap>>r&1)==1&&AriaLiveOnFocus("#engine"+r+"LegendValue");for(r=0;r<u;r++)(t.engineBitmap>>r&1)==1&&(f=new SmoothieChart(i.gpuUtilizationChartOptions),f.streamTo(document.getElementById("engineCanvas"+r),1e3),o=new TimeSeries,f.addTimeSeries(o,{strokeStyle:"rgb(192, 0, 0)",fillStyle:"rgba(192, 0, 0, 0.05)",lineWidth:1}),$("#engine"+r+"Legend").attr({style:"margin:0px 2px 0px 0px;"}),i.engineUtilizationTimelines.push(o),HighlightHoverAndFocus("#engine"+r+"LegendValue",i.engineUtilizationTimelines[r],f))}function s(){var n=$("#gpuChartsDiv").find("canvas");distributeWidthAndHeightsFromParent(n)}var i=this,f='<div id="gpuChartsDiv">             <select id="availableAdaptersList" aria-label="Available adapters"><\/select>',e,r,u,o;t.showAveragePlot===!0&&(f+='<p>Average utilization<\/p>             <div>                 <canvas id="GpuUtilizationChartCanvas" height="'+_DEFAULT_CHART_HEIGHT+'"><\/canvas>             <\/div>             <div class="chartLegend">                 <span id="GpuUtilization">GPU utilization<\/span>             <\/div> ');f+='<p>GPU engine utilization<\/p>         <div id="enginesUtilizationSection">         <\/div>';t.showMemoryPlots===!0&&(f+='<p>Dedicated memory<\/p>         <div>             <canvas id="DedicatedVideoMemoryChartCanvas" height="'+_DEFAULT_CHART_HEIGHT+'"><\/canvas>         <\/div>         <div class="chartLegend">             <span><label id="GPUDedicatedSize" for="GPUDedicatedSizeValue">Total: <\/label><span id="GPUDedicatedSizeValue" tabindex="0"><\/span><span>             <span><label id="GPUDedicatedInUseMemory" for="GPUDedicatedInUseMemoryValue">In use: <\/label><span id="GPUDedicatedInUseMemoryValue" tabindex="0"><\/span><span>         <\/div>         <p>System shared memory<\/p>         <div>             <canvas id="SystemVideoMemoryChartCanvas" height="'+_DEFAULT_CHART_HEIGHT+'"><\/canvas>         <\/div>         <div class="chartLegend">             <span><label id="GPUSystemSize" for="GPUSystemSizeValue">Total: <\/label><span id="GPUSystemSizeValue" tabindex="0"><\/span><span>             <span><label id="GPUSystemInUseMemory" for="GPUSystemInUseMemoryValue">In use: <\/label><span id="GPUSystemInUseMemoryValue" tabindex="0"><\/span><span>         <\/div>         <\/div>');$("#"+n).html(f);t.showMemoryPlots===!0&&(e={interpolation:"linear",minValue:0,enableDpiScaling:!1,grid:{fillStyle:"transparent",strokeStyle:"rgb(192, 0, 0)",verticalSections:10},labels:{fillStyle:IsHighContrastBlack()?"rgb(255, 255, 255)":"rgb(58, 58, 58)",fontSize:15}});i.selectedAdapter=-1;i.adaptersListInitialized=!1;i.gpuUtilizationChartOptions={minValue:0,maxValue:100,interpolation:"linear",enableDpiScaling:!1,grid:{fillStyle:"transparent",strokeStyle:"rgb(236, 222, 222)",verticalSections:10},labels:{fillStyle:IsHighContrastBlack()?"rgb(255, 255, 255)":"rgb(58, 58, 58)",fontSize:15}};$("#availableAdaptersList").change(function(){i.selectedAdapter=$(this).val();var n,r=i.engineUtilizationTimelines.length;for(t.showMemoryPlots===!0&&(i.dedicatedMemorySizeTimeline.data=[],i.inUseDedicatedMemoryTimeline.data=[],i.systemMemorySizeTimeline.data=[],i.inUseSystemMemoryTimeline.data=[]),i.gpuUtilizationTimeline.data=[],n=0;n<r;n++)(t.engineBitmap>>n&1)==1&&(i.engineUtilizationTimelines[n].data=[])});t.showMemoryPlots===!0&&(r=new SmoothieChart(e),r.streamTo(document.getElementById("SystemVideoMemoryChartCanvas"),1e3),i.systemMemorySizeTimeline=new TimeSeries,r.addTimeSeries(i.systemMemorySizeTimeline,{strokeStyle:"green",lineWidth:3}),i.inUseSystemMemoryTimeline=new TimeSeries,r.addTimeSeries(i.inUseSystemMemoryTimeline,{strokeStyle:"red",lineWidth:3}),u=new SmoothieChart(e),u.streamTo(document.getElementById("DedicatedVideoMemoryChartCanvas"),1e3),i.dedicatedMemorySizeTimeline=new TimeSeries,u.addTimeSeries(i.dedicatedMemorySizeTimeline,{strokeStyle:"green",lineWidth:3}),i.inUseDedicatedMemoryTimeline=new TimeSeries,u.addTimeSeries(i.inUseDedicatedMemoryTimeline,{strokeStyle:"red",lineWidth:3}));t.showAveragePlot===!0&&(o=new SmoothieChart(i.gpuUtilizationChartOptions),o.streamTo(document.getElementById("GpuUtilizationChartCanvas"),1e3),i.gpuUtilizationTimeline=new TimeSeries,o.addTimeSeries(i.gpuUtilizationTimeline,{strokeStyle:"green",lineWidth:3}));$(document).ready(function(){s()});$(window).resize(function(){s()});i.engineUtilizationCharts=[];i.engineUtilizationTimelines=[];t.showMemoryPlots===!0&&($("#GPUDedicatedInUseMemory").attr({style:"color:red; margin:0px 2px 0px 0px;"}),$("#GPUSystemInUseMemory").attr({style:"color:red; margin:0px 2px 0px 0px;"}),$("#GPUDedicatedSize").attr({style:"color:green; margin:0px 2px 0px 0px;"}),$("#GPUSystemSize").attr({style:"color:green; margin:0px 2px 0px 0px;"}));this.onMessageCallback=function(n){var e=new Date,s=n.GPUData,r,o,u,f,l,a;if(s&&(i.adaptersListInitialized||(c(s.AvailableAdapters),i.adaptersListInitialized=!0),i.selectedAdapter!=-1)){if(r=s.AvailableAdapters[i.selectedAdapter],t.showMemoryPlots===!0&&($("#GPUDedicatedSizeValue").html(bytesToDisplayValue(r.DedicatedMemory)),$("#GPUDedicatedInUseMemoryValue").html(bytesToDisplayValue(r.DedicatedMemoryUsed)),i.dedicatedMemorySizeTimeline.append(e,r.DedicatedMemory/1048576),i.inUseDedicatedMemoryTimeline.append(e,r.DedicatedMemoryUsed/1048576),$("#GPUSystemSizeValue").html(bytesToDisplayValue(r.SystemMemory)),$("#GPUSystemInUseMemoryValue").html(bytesToDisplayValue(r.SystemMemoryUsed)),i.systemMemorySizeTimeline.append(e,r.SystemMemory/1048576),i.inUseSystemMemoryTimeline.append(e,r.SystemMemoryUsed/1048576)),t.showAveragePlot===!0){for(u=0,o=0;o<r.EnginesUtilization.length;o++)u+=r.EnginesUtilization[o];u/=r.EnginesUtilization.length;u=u.toFixed(2);$("#GpuUtilization").html("GPU utilization: "+u+"%");i.gpuUtilizationTimeline.append(e,u)}for(i.engineUtilizationTimelines.length!==i.engineCountFromConfigurationBitmap&&h(r),a=r.EnginesUtilization.length,f=0;f<a;f++)(t.engineBitmap>>f&1)==1&&(l=r.EnginesUtilization[f].toFixed(2),i.engineUtilizationTimelines[f].append(e,l),$("#engine"+f+"LegendValue").html(l+"%"))}};t.showMemory===!0&&(HighlightHoverAndFocus("#GPUDedicatedInUseMemoryValue",i.inUseDedicatedMemoryTimeline,u),HighlightHoverAndFocus("#GPUDedicatedSizeValue",i.dedicatedMemorySizeTimeline,u),HighlightHoverAndFocus("#GPUSystemInUseMemoryValue",i.inUseSystemMemoryTimeline,r),HighlightHoverAndFocus("#GPUSystemSizeValue",i.systemMemorySizeTimeline,r))}var WebbRest,_DEFAULT_CHART_HEIGHT=160,packageInstalledCallbacks=[]