function SetCsrfToken(n){if(n.method!="GET"&&n.route[0]=="/"){var t=document.cookie.match("(^|;) ?CSRF-Token=([^;]*)(;|$)");t&&n.setRequestHeader("X-CSRF-Token",t[2])}}function WebbRest(){function f(){var t=$.Deferred();return n("/api/etw/providers").done(function(i){n("/api/etw/customproviders").done(function(n){i.Providers&&n.Providers&&(i.Providers=i.Providers.concat(n.Providers));t.resolve(i)}).fail(function(){t.resolve(i)})}).fail(function(n,i,r){t.reject(r)}),t}function n(n){var t=$.Deferred();return $.ajax({url:n,cache:!1,type:"get"}).done(function(n,i,r){r.status==200?t.resolve(n):t.reject(r)}).fail(function(n,i,r){t.reject(r)}),t}function t(n){var t=$.Deferred();return $.ajax({url:n,cache:!1,type:"post"}).done(function(n){t.resolve(n)}).fail(function(n,i,r){t.reject(n,r)}),t}function i(n){var t=$.Deferred();return $.ajax({url:n,cache:!1,type:"delete"}).done(function(n){t.resolve(n)}).fail(function(n,i,r){t.reject(n,r)}),t}function e(n,i){var r={appid:window.btoa(n)};return i&&(r.screen="holographic"),t("/api/taskmanager/app?"+$.param(r))}function o(n,t){var r={package:window.btoa(n)};return t&&(r.forcestop=t===!0?!0:!1),i("/api/taskmanager/app?"+$.param(r))}function s(n){var i={package:window.btoa(n),state:"suspend"};return t("/api/taskmanager/app/state?"+$.param(i))}function h(n){var i={package:window.btoa(n),state:"resume"};return t("/api/taskmanager/app/state?"+$.param(i))}function c(n,t){var r={pid:n};return t&&(r.containerId=t),i("/api/taskmanager/process?"+$.param(r))}function l(t,i){var r="/api/app/packagemanager/packages",u={streamable:t||!1,includeframeworkpackages:i||!1};return r+="?"+$.param(u),n(r)}function a(t){var i={package:t};return n("/api/app/packagemanager/contentgroups?"+$.param(i))}function v(){return n("/api/users/activeuser")}function y(){var n=$.Deferred();return $.getJSON("/api/app/packagemanager/state").done(function(t,i,r){r.status==200?(t.installRunning=!1,n.resolve(t)):r.status==204?n.resolve({installRunning:!0}):n.reject(r)}).fail(function(t,i,r){t.status==404?n.resolve({installRunning:!1}):n.reject(r)}),n}function p(n){var t={package:n};return i("/api/app/packagemanager/package?"+$.param(t))}function w(n){var t=$.Deferred();return $.ajax({url:"/api/app/packagemanager/pullinstall",cache:!1,type:"post",data:JSON.stringify(n),datatype:"json",contentType:"application/json; charset=utf-8"}).done(function(n,i,r){t.resolve(n,r)}).fail(function(n,i,r){t.reject(n,r)}),t}function b(n){var i=$.Deferred(),t=new XMLHttpRequest,r;return t.onreadystatechange=function(){this.readyState==4&&(this.status==200||this.status==202||this.status==204?i.resolve(this.response,this.statusText,this.status):i.reject(this.response,this.statusText,this.status))},r={folder:window.btoa(n)},t.open("post","/api/app/packagemanager/register?"+$.param(r),!0),t.responseType="json",t.send(),i}function k(n,t,i,r){var f,e,s=$.Deferred(),u=new XMLHttpRequest,o,h;for(u.upload&&t&&(u.upload.onprogress=function(n){var u=n.loaded,f=n.total;t(u,f,Math.floor(u/f*1e3)/10,i,r)}),u.onreadystatechange=function(){this.readyState==4&&(this.status==200||this.status==202?s.resolve(this.response,this.statusText,this.status):s.reject(this.response,this.statusText,this.status))},o=new FormData,e=0;e<n.appFiles.length;e++)o.append(n.appFiles[e].name,n.appFiles[e]);if(n.certificateFile&&o.append(n.certificateFile.name,n.certificateFile),n.dependencyFiles)for(f=0;f<n.dependencyFiles.length;f++)o.append(n.dependencyFiles[f].name,n.dependencyFiles[f]);return h={destinationFolder:window.btoa(n.destinationFolder)},u.open("post","/api/app/packagemanager/upload?"+$.param(h),!0),u.responseType="json",u.send(o),s}function d(n,t){var i=0,e=$.Deferred(),f=new XMLHttpRequest,r,u,o;if(f.upload&&t&&(f.upload.onprogress=function(n){var i=n.loaded,r=n.total;t(i,r,Math.floor(i/r*1e3)/10)}),f.onreadystatechange=function(){this.readyState==4&&(this.status==200||this.status==202?e.resolve(this.response,this.statusText,this.status):e.reject(this.response,this.statusText,this.status))},r=new FormData,r.append(n.appFile.name,n.appFile),n.certificateFile&&r.append(n.certificateFile.name,n.certificateFile),n.dependencyFiles)for(i=0;i<n.dependencyFiles.length;i++)r.append(n.dependencyFiles[i].name,n.dependencyFiles[i]);if(n.optionalAppAndCertFiles)for(i=0;i<n.optionalAppAndCertFiles.length;i++)u=n.optionalAppAndCertFiles[i],r.append(u.appFile.name,u.appFile,u.appFile.name+".opt"),u.certFile&&r.append(u.certFile.name,u.certFile);return o={package:n.appFile.name},f.open("post","/api/app/packagemanager/package?"+$.param(o),!0),f.responseType="json",f.send(r),e}function g(n,t){var r=$.Deferred(),i=new XMLHttpRequest,u;return i.upload&&t&&(i.upload.onprogress=function(n){var i=n.loaded,r=n.total;t(i,r,Math.floor(i/r*1e3)/10)}),i.onreadystatechange=function(){this.readyState==4&&(this.status==200||this.status==202?r.resolve(this.response,this.statusText,this.status):r.reject(this.response,this.statusText,this.status))},u=new FormData,u.append(n.certificateFile.name,n.certificateFile),i.open("post","/api/app/packagemanager/certificate",!0),i.send(u),r}function nt(n){var t=$.Deferred();return $.ajax({url:"/api/app/packagemanager/networkapp",cache:!1,type:"post",data:JSON.stringify(n),datatype:"json",contentType:"application/json; charset=utf-8"}).done(function(n){t.resolve(n.Folders)}).fail(function(n,i,r){t.reject(n,r)}),t}function tt(n,t,i){var u=$.Deferred(),r=new XMLHttpRequest,f,e,o;return r.onreadystatechange=function(){this.readyState==4&&(this.status==200||this.status==202||this.status==204?u.resolve(this.response,this.statusText,this.status):u.reject(this.response,this.statusText,this.status))},f=!1,e=new FormData,n&&(f=!0,e.append(n.name,n)),o={proxyAddress:t,proxyPort:i,updateCert:f},r.open("post","/ext/fiddler?"+$.param(o),!0),n?r.send(e):r.send(),u}function it(){return n("/api/featuremanager/features")}function rt(n,i){return t("/api/featuremanager/features/state?"+$.param({fid:n,isEnabled:i}))}function ut(){return i("/ext/fiddler")}function ft(){return n("/api/filesystem/apps/knownfolders")}function et(t,i,r){var u={knownfolderid:t,packagefullname:i||"\\",path:r||"\\"};return n("/api/filesystem/apps/files?"+$.param(u))}function ot(n,t,r,u){var f={knownfolderid:n,filename:t,packagefullname:r||"\\",path:u||"\\"};return i("/api/filesystem/apps/file?"+$.param(f))}function st(n,i,r,u,f){var e={knownfolderid:n,filename:i,newfilename:r,packagefullname:u||"\\",path:f||"\\"};return t("/api/filesystem/apps/rename?"+$.param(e))}function ht(n,i,r,u){var f={knownfolderid:n,newfoldername:i,packagefullname:r||"\\",path:u||"\\"};return t("/api/filesystem/apps/folder?"+$.param(f))}function ct(t){var i="/api/resourcemanager/processes";return t&&(i+="?containerId="+t),n(i)}function lt(){return n("/api/containermanager/containers")}function at(){return n("/api/debug/dump/usermode/dumps")}function vt(){return n("/api/debug/dump/kernel/dumplist")}function yt(){return n("/api/debug/dump/kernel/crashcontrol")}function pt(n){return t("/api/debug/dump/kernel/crashcontrol?"+$.param(n))}function wt(t){return n("/api/debug/dump/usermode/crashcontrol?"+$.param(t))}function bt(n){return t("/api/debug/dump/usermode/crashcontrol?"+$.param(n))}function kt(n){return i("/api/debug/dump/usermode/crashcontrol?"+$.param(n))}function dt(n){return i("/api/debug/dump/usermode/crashdump?"+$.param(n))}function gt(){return t("/api/control/restart")}function ni(){return t("/api/control/shutdown")}function ti(){return n("/api/devicemanager/devices")}function ii(){return n("/api/wifi/interfaces")}function ri(t){return n("/api/wifi/networks?"+$.param({interface:t}))}function ui(n,i,r,u){var f={interface:n,ssid:window.btoa(i),op:"connect"};return f.createprofile=u===!0?"yes":"no",r&&(f.key=window.btoa(r)),t("/api/wifi/network?"+$.param(f))}function fi(n,i){var r={interface:n,profile:window.btoa(i),op:"connect"};return t("/api/wifi/network?"+$.param(r))}function ei(n){return t("/api/wifi/network?"+$.param({interface:n,op:"disconnect"}))}function oi(n,t){return i("/api/wifi/profile?"+$.param({interface:n,profile:window.btoa(t)}))}function si(){return n("/api/networking/ipconfig")}function hi(){return n("/api/wer/reports")}function ci(t,i,r){var u={user:t,type:i};return u.name=window.btoa(r),n("/api/wer/report/files?"+$.param(u))}function li(n,t,i,r){var u={user:n,type:t};return u.name=window.btoa(i),u.file=window.btoa(r),"/api/wer/report/file?"+$.param(u)}function ai(t,i,r,u){var f={user:t,type:i};return f.name=window.btoa(r),f.file=window.btoa(u),n("/api/wer/report/file?"+$.param(f))}function vi(n){return this.httpPostExpect200("/api/os/machinename?"+$.param({name:window.btoa(n)}))}function yi(){return this.httpGetExpect200("/api/os/machinename")}function pi(){return this.httpGetExpect200("/api/os/info")}function wi(){return this.httpGetExpect200("/api/os/devicefamily")}function bi(){return this.httpGetExpect200("/api/power/battery")}function ki(n){return this.httpGetExpect200("/api/power/cfg/"+n)}function di(n,t,i,r,u){return this.httpPostExpect200("/api/power/cfg/"+n+"/"+t+"/"+i+"?"+$.param({ValueAC:r,ValueDC:u}))}function gi(n){return this.httpPostExpect200("/api/power/activecfg?"+$.param({scheme:n}))}function nr(n){return this.httpPostExpect200("/api/power/activecfg?"+$.param({scheme:n}))}function tr(){return this.httpGetExpect200("/api/power/sleepstudy/reports")}function ir(n){return this.httpGetExpect200(r(n))}function r(n){return"/api/power/sleepstudy/report?"+$.param({FileName:window.btoa(n)})}function rr(){return this.httpGetExpect200("/api/power/sleepstudy/transform")}function ur(){var n=$.Deferred();return $.ajax({url:u(),cache:!0,type:"head"}).done(function(t,i,r){r.status==200?n.resolve({sslEnabled:!0}):r.status==404?n.resolve({sslEnabled:!1}):n.reject(r)}).fail(function(t,i,r){t.status==404?n.resolve({sslEnabled:!1}):n.reject(r)}),n}function u(){return"/config/rootcertificate"}function fr(n){return t("/api/wpr/trace?"+$.param({profile:n}))}function er(n){return t("/api/wpr/boottrace?"+$.param({profile:n}))}function or(){return n("/api/wpr/trace")}function sr(){return n("/api/wpr/boottrace")}function hr(){return n("/api/wpr/status")}function cr(n){var t={deviceId:window.btoa(n)};return this.httpPostExpect200("/api/bt/unpair?"+$.param(t))}function lr(n){var t={deviceId:window.btoa(n)};return this.httpPostExpect200("/api/bt/disconnectdevice?"+$.param(t))}function ar(n){var t={deviceId:window.btoa(n)};return this.httpPostExpect200("/api/bt/connectdevice?"+$.param(t))}function vr(n){var i=new FormData,t=$.Deferred();return i.append("file",n),$.ajax({url:"/api/wpr/customtrace",dataType:"json",cache:!1,contentType:!1,processData:!1,data:i,type:"post"}).done(function(n){t.resolve(n)}).fail(function(n,i,r){t.reject(n,r)}),t}function yr(n){var i=new FormData,t=$.Deferred();return i.append("file",n),$.ajax({url:"/api/wpr/customboottrace",dataType:"json",cache:!1,contentType:!1,processData:!1,data:i,type:"post"}).done(function(n){t.resolve(n)}).fail(function(n,i,r){t.reject(n,r)}),t}function pr(){return n("/api/wpr/tracefiles")}function wr(n){return i("/api/wpr/tracefile?"+$.param({filename:n}))}function br(t){var i="/api/windowmanager/windows";return t&&(i+="?containerId="+t),n(i)}function kr(t){var i="/api/registryeditor/rootkeys";return t&&(i+="?containerId="+t),n(i)}function dr(t,i,r){var u="/api/registryeditor/subkeys?"+$.param({rootkey:i});return r&&(u+="&"+$.param({regkey:r})),t&&(u+="&containerId="+t),n(u)}function gr(t,i,r){var u="/api/registryeditor/values?"+$.param({rootkey:i});return r&&(u+="&"+$.param({regkey:r})),t&&(u+="&containerId="+t),n(u)}function nu(){return n("/core/tools")}function tu(){return n("/core/workspaces")}function iu(){return n("/core/uniqueId")}this.CrashControlSettings={DumpType:"dumptype",AutoReboot:"autoreboot",MaxDumpCount:"maxdumpcount",Overwrite:"overwrite",DumpFileSize:"dumpfilesize"};this.CrashControlDumpTypes={Disabled:{value:0,Description:"Disabled"},MemoryDump:{value:1,Description:"Complete memory dump (in use memory)"},KernelDump:{value:2,Description:"Kernel memory dump (no user mode memory)"},Minidump:{value:3,Description:"Limited kernel minidump"}};$.extend(this,{getRegisteredEtwProviders:f,restart:gt,shutdown:ni,getDeviceList:ti,getInstalledAppPackages:l,getContentGroups:a,installApp:d,installCertificate:g,registerNetworkShareApp:nt,getInstallationState:y,uninstallAppPackage:p,registerLooseApp:b,uploadLooseApp:k,startApp:e,stopApp:o,suspendApp:s,resumeApp:h,pullinstallFromNetwork:w,getKnownFolders:ft,getFiles:et,deleteFile:ot,renameFile:st,createFolder:ht,stopProcess:c,getProcessList:ct,getContainersList:lt,getCrashDumpList:at,getBugcheckDumpsList:vt,getCrashControlSettings:yt,setCrashControlSettings:pt,getCrashDumpControlSettings:wt,setCrashDumpControlSettings:bt,deleteCrashDumpControlSettings:kt,deleteCrashDump:dt,getWirelessInterfaces:ii,getAvailableWirelessNetworks:ri,connectToNetwork:ui,connectToNetworkUsingProfile:fi,disconnectFromNetwork:ei,deleteWifiProfile:oi,getIpConfig:si,getWerReports:hi,getWerReportFiles:ci,getWerReportFileDownloadLink:li,downloadWerReportFile:ai,setComputerName:vi,getComputerName:yi,getSoftwareInfo:pi,getDeviceFamily:wi,getBatteryState:bi,getPowerCfg:ki,setPowerCfg:di,setPowerActiveScheme:gi,getPowerActiveScheme:nr,getSleepStudyReportList:tr,getSleepStudyReport:ir,getSleepStudyTransform:rr,createSleepStudyDownloadLink:r,httpGetExpect200:n,httpPostExpect200:t,httpDeleteExpect200:i,isSSLEnabled:ur,getSSLCertificateURL:u,startCustomWPRTrace:vr,startCustomWPRBootTrace:yr,startWPRTrace:fr,startWPRBootTrace:er,stopWPRTrace:or,stopWPRBootTrace:sr,getWPRTraceState:hr,getWPRTraces:pr,deleteWPRTrace:wr,getSignedInUser:v,enableFiddler:tt,disableFiddler:ut,getFeatures:it,setFeatureState:rt,removeBluetoothDevice:cr,disconnectBluetoothDevice:lr,connectBluetoothDevice:ar,getWindows:br,getRootKeys:kr,getSubKeys:dr,getRegValues:gr,getPluginTools:nu,getPluginWorkspaces:tu,getUniqueId:iu})}function ProcessDataUpdater(n){function i(){t.socket&&(t.socket.readyState===WebSocket.OPEN||t.socket.readyState===WebSocket.CONNECTING)&&t.socket.close()}var t=this;t.dataAvailable=$.Callbacks();t.errorGettingData=$.Callbacks();t.connectionClosed=$.Callbacks();t.containerId=n;this.start=function(){var r=document.location.protocol==="https:"?"wss://":"ws://",n=r+window.location.host+"/api/resourcemanager/processes";t.containerId&&(n+="?"+$.param({containerId:t.containerId}));try{this.socket=new WebSocket(n)}catch(u){u.code===18&&location.reload()}this.socket.onmessage=function(n){var i=JSON.parse(n.data);t.dataAvailable.fire(i.Processes)};this.socket.onerror=function(){t.errorGettingData.fire()};this.socket.onclose=function(){t.connectionClosed.fire()};$(window).one("beforeunload",i)};this.stop=function(){t.socket.close()};this.refresh=function(){var n=new WebbRest;n.getProcessList(t.containerId).done(function(n){t.dataAvailable.fire(n.Processes)}).fail(function(){t.errorGettingData.fire()})};this.updateContainerId=function(n){this.stop();t.containerId=n;this.start()}}function SystemPerformanceConnection(n,t){function u(){SystemPerformanceConnection.socket&&(SystemPerformanceConnection.socket.readyState===WebSocket.OPEN||SystemPerformanceConnection.socket.readyState===WebSocket.CONNECTING)&&(SystemPerformanceConnection.socket.close(),SystemPerformanceConnection.socket=null)}if(SystemPerformanceConnection.$perfConnectionStatuses.push($("#"+n)),t.cpuCallback&&(SystemPerformanceConnection.callbacks.cpuCallback=t.cpuCallback),t.ioCallback&&(SystemPerformanceConnection.callbacks.ioCallback=t.ioCallback),t.memoryCallback&&(SystemPerformanceConnection.callbacks.memoryCallback=t.memoryCallback),t.networkCallback&&(SystemPerformanceConnection.callbacks.networkCallback=t.networkCallback),t.gpuCallback&&(SystemPerformanceConnection.callbacks.gpuCallback=t.gpuCallback),!SystemPerformanceConnection.socket){var i=document.location.protocol==="https:"?"wss://":"ws://",r=i+window.location.host+"/api/resourcemanager/systemperf";SystemPerformanceConnection.socket=new WebSocket(r);SystemPerformanceConnection.socket.onmessage=function(n){var t=JSON.parse(n.data);SystemPerformanceConnection.callbacks.cpuCallback&&SystemPerformanceConnection.callbacks.cpuCallback(t);SystemPerformanceConnection.callbacks.ioCallback&&SystemPerformanceConnection.callbacks.ioCallback(t);SystemPerformanceConnection.callbacks.memoryCallback&&SystemPerformanceConnection.callbacks.memoryCallback(t);SystemPerformanceConnection.callbacks.networkCallback&&SystemPerformanceConnection.callbacks.networkCallback(t);SystemPerformanceConnection.callbacks.gpuCallback&&SystemPerformanceConnection.callbacks.gpuCallback(t)};SystemPerformanceConnection.socket.onerror=function(){for(var n=0,t=SystemPerformanceConnection.$perfConnectionStatuses.length;n<t;n++)SystemPerformanceConnection.$perfConnectionStatuses[n].html('<p class="warning">Error communicating with device!<\/p>')};SystemPerformanceConnection.socket.onclose=function(){for(var n=0,t=SystemPerformanceConnection.$perfConnectionStatuses.length;n<t;n++)SystemPerformanceConnection.$perfConnectionStatuses[n].html('<p class="warning">Connection to device closed!<\/p>')};$(window).one("beforeunload",u)}}function EtwSession(n){function u(){t.socket&&(t.socket.readyState===WebSocket.OPEN||t.socket.readyState===WebSocket.CONNECTING)&&(t.pageUnloading=!0,t.socket.close())}var t=this,i,r;t.callbacks=n;i=document.location.protocol==="https:"?"wss://":"ws://";r=i+window.location.host+"/api/etw/session/realtime";t.socket=new WebSocket(r);t.socket.onmessage=function(n){t.callbacks.onmessage(JSON.parse(n.data))};t.socket.onerror=function(){t.callbacks.onerror&&t.callbacks.onerror()};t.socket.onclose=function(){if(t.callbacks.onclose){var n={};n.pageUnloading=t.pageUnloading;t.callbacks.onclose(n)}};t.socket.onopen=function(){t.callbacks.onopen&&t.callbacks.onopen()};this.enableProvider=function(n,i){var r="provider "+n+" enable",u=!1;i&&i.level&&(r+=" "+i.level,u=!0);i&&i.keywords&&(u||(r+=" 5"),r+=" 0x"+i.keywords.toString(16));t.socket.send(r)};this.disableProvider=function(n){t.socket.send("provider "+n+" disable")};this.captureProvider=function(n){t.socket.send("provider "+n+" capture")};this.enableIdFilter=function(n,i){t.socket.send("filterId "+n+" enable "+i)};this.disableIdFilter=function(n,i){t.socket.send("filterId "+n+" disable "+i)};this.enableTaskNameFilter=function(n,i){t.socket.send("filterTaskName "+n+" enable "+i)};this.disableTaskNameFilter=function(n,i){t.socket.send("filterTaskName "+n+" disable "+i)};this.stop=function(){u()};$(window).one("beforeunload",u)}(function(){var t=XMLHttpRequest.prototype.send,n;XMLHttpRequest.prototype.send=function(n){SetCsrfToken(this);t.call(this,n)};n=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(t,i,r,u,f){this.method=t;this.route=i;n.call(this,t,i,r,u,f)}})(),function(n){n.ErrorStringFromStatus=function(n){var t="",i="Failure",r;return n.Success===!0&&(i="Status"),n.Reason&&(t=i+" reason: "+n.Reason),n.CodeText&&(r=n.Code>>>32,t+=" "+i+" text: "+n.CodeText+"(0x"+r.toString(16)+")"),t===""&&(t="No status information available."),t}}(window.WebManagement=window.WebManagement||{});SystemPerformanceConnection.callbacks=[];SystemPerformanceConnection.$perfConnectionStatuses=[];SystemPerformanceConnection.socket=null;SystemPerformanceConnection.clientCount=0